<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MATLAB语言 | STAR</title><meta name="keywords" content="matlab"><meta name="author" content="stardust,邮箱"><meta name="copyright" content="stardust"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="引言 MATLAB语言的主要功能：  数值计算 符号计算 图形绘制 程序流程控制 工具箱  MATLAB的优势:  不需要过多了解各种数值计算方法的具体细节和计算公式， 也不需要繁琐的底层编程。 可以专注于实际问题的分析和设计，大大地提高:工作效率和 质量，为科学研究与工程应用提供重要手段。  MATLAB基础知识 ¶数值类型 数值数据类型的分类  整型 浮点型 复数型">
<meta property="og:type" content="article">
<meta property="og:title" content="MATLAB语言">
<meta property="og:url" content="http://stardust14.com/2020/08/13/MATLAB%E8%AF%AD%E8%A8%80/index.html">
<meta property="og:site_name" content="STAR">
<meta property="og:description" content="引言 MATLAB语言的主要功能：  数值计算 符号计算 图形绘制 程序流程控制 工具箱  MATLAB的优势:  不需要过多了解各种数值计算方法的具体细节和计算公式， 也不需要繁琐的底层编程。 可以专注于实际问题的分析和设计，大大地提高:工作效率和 质量，为科学研究与工程应用提供重要手段。  MATLAB基础知识 ¶数值类型 数值数据类型的分类  整型 浮点型 复数型">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/stardust14/picture/img/test09.png">
<meta property="article:published_time" content="2020-08-13T08:31:45.000Z">
<meta property="article:modified_time" content="2020-08-30T16:00:00.000Z">
<meta property="article:author" content="stardust">
<meta property="article:tag" content="matlab">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/stardust14/picture/img/test09.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/stardust14/picture/img/blogstar.png"><link rel="canonical" href="http://stardust14.com/2020/08/13/MATLAB%E8%AF%AD%E8%A8%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-08-31 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/css/newboth.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/css/hideCategory.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/css/scrollBar.css"><link rel="stylesheet" href="/css/mouse.css"><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="STAR" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 放松一下</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/photograph"><i class="fa-fw fa fa-globe"></i><span> Photograph</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 专栏</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/pdf/"><i class="fa-fw fa fa-file-pdf"></i><span> pdf</span></a></li><li><a class="site-page child" href="/%E9%9A%8F%E7%AC%94"><i class="fa-fw fas fa-pencil-alt"></i><span> 随笔</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于me</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/stardust14/picture/img/test09.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">STAR</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 放松一下</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/photograph"><i class="fa-fw fa fa-globe"></i><span> Photograph</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 专栏</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/pdf/"><i class="fa-fw fa fa-file-pdf"></i><span> pdf</span></a></li><li><a class="site-page child" href="/%E9%9A%8F%E7%AC%94"><i class="fa-fw fas fa-pencil-alt"></i><span> 随笔</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于me</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MATLAB语言<a class="post-edit-link" href="null_posts/MATLAB语言.md" title="编辑" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-13T08:31:45.000Z" title="发表于 2020-08-13 16:31:45">2020-08-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-30T16:00:00.000Z" title="更新于 2020-08-31 00:00:00">2020-08-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/matlab/">matlab</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">53.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>209分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MATLAB语言"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>引言</h1>
<p>MATLAB语言的主要功能：</p>
<ul>
<li>数值计算</li>
<li>符号计算</li>
<li>图形绘制</li>
<li>程序流程控制</li>
<li>工具箱</li>
</ul>
<p>MATLAB的优势:</p>
<ul>
<li>不需要过多了解各种数值计算方法的具体细节和计算公式，<br>
也不需要繁琐的底层编程。</li>
<li>可以专注于实际问题的分析和设计，大大地提高:工作效率和<br>
质量，为科学研究与工程应用提供重要手段。</li>
</ul>
<h1>MATLAB基础知识</h1>
<h2 id="数值类型"><a class="header-anchor" href="#数值类型">¶</a>数值类型</h2>
<p>数值数据类型的分类</p>
<ul>
<li>整型</li>
<li>浮点型</li>
<li>复数型</li>
</ul>
<h3 id="整型"><a class="header-anchor" href="#整型">¶</a>整型</h3>
<ul>
<li>
<p>无符号整数:无符号8位整数、无符号16位整数、无符号32位整数、无符号64位整数。</p>
</li>
<li>
<p>带符号整数:带符号8位整数、带符号16位整数、带符号32位整数、带符号64位整数。</p>
</li>
<li>
<p>无符号8位整数数据范围: 000000001111111 (0~2^8-1) 。</p>
</li>
<li>
<p>带符号8位整数数据范围: 10000000-111111 ( -2<sup>7~2</sup>7-1)。</p>
</li>
</ul>
<blockquote>
<p>最前面符号位0表示正数，1表示负数</p>
<p>无符号整数最大为255，带符号为最大为127，最小为-128</p>
</blockquote>
<p>MATLAB提供了数据类型转换函数来实现数据类型的转换,例如，uint8函数将数值数据转换为无符号8位整数，int8函数将数值数据转换为带符号8位整数。</p>
<h3 id="浮点型"><a class="header-anchor" href="#浮点型">¶</a>浮点型</h3>
<p>浮点型数据分为单精度型和双精度类型，单精度型实数在内存中占用4个字节，而双精度型实数在内存中占用8个字节，所以双精度型的数据精度更高。</p>
<ul>
<li>single函数: 将其他类型的数据转换为单精度型。</li>
<li>double函数: 将其他类型的数据转换为双精度型。</li>
</ul>
<blockquote>
<p>默认使用双精度型</p>
</blockquote>
<h3 id="复型"><a class="header-anchor" href="#复型">¶</a>复型</h3>
<p>复型数据包括实部和虚部两个部分，实部和虚部默认为双精度型，虚数单位用i或i来表示。</p>
<h3 id="数值数据的输出格式"><a class="header-anchor" href="#数值数据的输出格式">¶</a>数值数据的输出格式</h3>
<p>format命令的格式: format 格式符</p>
<blockquote>
<p>format命令只影响数据输出格式，而不影响数据的计算和存储。</p>
</blockquote>
<h3 id="常用数学函数"><a class="header-anchor" href="#常用数学函数">¶</a>常用数学函数</h3>
<h4 id="函数的调用格式为"><a class="header-anchor" href="#函数的调用格式为">¶</a>函数的调用格式为:</h4>
<p><strong>函数名(函数自变量的值)</strong><br>
函数的自变量规定为矩阵变量，当然也可以是标量，标量本身是矩阵的一种特例。<br>
函数在运算时是将函数逐项作用于矩阵的每个元素上，所以最后运算的结果就是一个与自变量同型的矩阵。</p>
<p>example：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">4</span>,<span class="number">2</span>;<span class="number">3</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span>     <span class="number">2</span></span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B = <span class="built_in">exp</span>(A)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">   <span class="number">54.5982</span>    <span class="number">7.3891</span></span><br><span class="line">   <span class="number">20.0855</span>  <span class="number">403.4288</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>调用exp函数（自然指数）</p>
</blockquote>
<h4 id="常用函数的应用"><a class="header-anchor" href="#常用函数的应用">¶</a>常用函数的应用</h4>
<p>①三角函数有以弧度为单位的函数和以角度为单位的函数,如果是以角度为单位的函数就在函数名后面加“d”，以示区别。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">sin</span>(<span class="built_in">pi</span>/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">sind</span>(<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②abs函数可以求实数的绝对值、复数的模、字符串的ASCII码值。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">abs</span>(<span class="number">-4</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(<span class="number">3</span>+<span class="number">4</span><span class="built_in">i</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">97</span></span><br></pre></td></tr></table></figure>
<p>③用于取整的函数有fix、floor、 ceil、 round。</p>
<ul>
<li>round函数按照四舍五入的规则取整。</li>
<li>ceil函数是向.上取整，取大于等于这个数的第一 个整数。</li>
<li>floor函数是向下取整，取小于等于这个数的第一个整数。</li>
<li>fix函数是固定取靠近0的那个整数,即舍去小数取整。</li>
</ul>
<blockquote>
<p>ceil=roundup,floor=rounddown</p>
<p>floor和fix区别在于负数</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">round</span>(<span class="number">4.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">ceil</span>(<span class="number">-3.8</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">-3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">fix</span>(<span class="number">-3.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">-3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">floor</span>(<span class="number">3.6</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>④函数应用举例。</p>
<ul>
<li>
<p>分别求一个三位正整数的个位数字、十位数字和百位数字。</p>
<p>​	一个三位正整数除以10的余数就是该数的个位数字。<br>
一个三位正整数除以10取整后就去掉了这个数的个位数字，将新得  到的数再除以10取余数，余数就是新得到的数的个位数字，也就是原数的十位数字。<br>
​    一个三位正整数除以100取整后就去掉了这个数的个位数字和十位  数字，得到百位数字。</p>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; m=<span class="number">468</span>;</span><br><span class="line"></span><br><span class="line">&gt;&gt; m1=<span class="built_in">rem</span>(m,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">m1 =</span><br><span class="line"></span><br><span class="line">     <span class="number">8</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; m2=<span class="built_in">rem</span>(<span class="built_in">fix</span>(m/<span class="number">10</span>),<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">m2 =</span><br><span class="line"></span><br><span class="line">     <span class="number">6</span></span><br><span class="line">&gt;&gt; m3=<span class="built_in">fix</span>(m/<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">m3 =</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>rem函数和mod函数分别是取余和取模函数</p>
</blockquote>
<ul>
<li>求[1,100]区间的所有素数。</li>
</ul>
<p>​            MATLAB提供了一个判断n是否素数的函数isprime(n),当n是素数时返回1，否则返回0。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">1</span>:<span class="number">100</span>;</span><br><span class="line">&gt;&gt; k = <span class="built_in">isprime</span>(x);</span><br><span class="line">&gt;&gt; k1 = <span class="built_in">find</span>(k);</span><br><span class="line">&gt;&gt; p = x(k1)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">10</span> 列</span><br><span class="line"></span><br><span class="line">     <span class="number">2</span>     <span class="number">3</span>     <span class="number">5</span>     <span class="number">7</span>    <span class="number">11</span>    <span class="number">13</span>    <span class="number">17</span>    <span class="number">19</span>    <span class="number">23</span>    <span class="number">29</span></span><br><span class="line"></span><br><span class="line">  <span class="number">11</span> 至 <span class="number">20</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">31</span>    <span class="number">37</span>    <span class="number">41</span>    <span class="number">43</span>    <span class="number">47</span>    <span class="number">53</span>    <span class="number">59</span>    <span class="number">61</span>    <span class="number">67</span>    <span class="number">71</span></span><br><span class="line"></span><br><span class="line">  <span class="number">21</span> 至 <span class="number">25</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">73</span>    <span class="number">79</span>    <span class="number">83</span>    <span class="number">89</span>    <span class="number">97</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>调用isprime函数，查找元素是否为素数，是为1，否为0（逻辑0，1）</p>
<p>find函数：查询非零元素的位置和值</p>
</blockquote>
<h2 id="变量及其操作"><a class="header-anchor" href="#变量及其操作">¶</a>变量及其操作</h2>
<h3 id="变量与赋值语句"><a class="header-anchor" href="#变量与赋值语句">¶</a>变量与赋值语句</h3>
<ul>
<li>变量本质上讲是内存单元的一个抽象。</li>
<li>在MATLAB中，变量名是以字母开头，后接字母、数字或下画线的字符序列,最多63个字符。</li>
</ul>
<p><strong>注意</strong>：</p>
<ul>
<li>变量名区分字母的大小写。</li>
<li>标准函数名以及命令名必须用小写字母。</li>
</ul>
<p><strong>赋值语句两种格式:</strong></p>
<ul>
<li>变量=表达式</li>
<li>表达式</li>
</ul>
<p><strong>example</strong>计算表达式</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mi mathvariant="normal">十</mi><mi>c</mi><mi>o</mi><mi>s</mi><mn>47</mn><mi mathvariant="normal">°</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi mathvariant="normal">∣</mi><mi>x</mi><mo>−</mo><mi>y</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(5十cos47°)/(1+|x-y|)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mord cjk_fallback">十</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord">4</span><span class="mord">7</span><span class="mord">°</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mclose">)</span></span></span></span></span></p>
<p>的值，并将结果赋给变量z，然后显示计算结果。其中，</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><msqrt><mn>7</mn></msqrt><mo>−</mo><mn>2</mn><mi>i</mi></mrow><annotation encoding="application/x-tex">x=\sqrt{7}-2i
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.08390500000000001em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.956095em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">7</span></span></span><span style="top:-2.916095em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08390500000000001em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">i</span></span></span></span></span></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>e</mi><mo stretchy="false">(</mo></msup><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=e^(\pi/2)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="built_in">sqrt</span>(<span class="number">7</span>)<span class="number">-2</span><span class="built_in">i</span>;</span><br><span class="line">&gt;&gt; y=<span class="built_in">exp</span>(<span class="built_in">pi</span>/<span class="number">2</span>);</span><br><span class="line">&gt;&gt; z=(<span class="number">5</span>+<span class="built_in">cosd</span>(<span class="number">47</span>))/(<span class="number">1</span>+<span class="built_in">abs</span>(x-y))</span><br><span class="line"></span><br><span class="line">z =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.4395</span></span><br></pre></td></tr></table></figure>
<h3 id="预定义变量"><a class="header-anchor" href="#预定义变量">¶</a>预定义变量</h3>
<p>预定义变量是由系统本身定义的变量。</p>
<ul>
<li>ans是默认赋值变量</li>
<li>i和j代表虚数单位</li>
<li>pi代表圆周率</li>
<li>NaN代表非数</li>
</ul>
<h3 id="变量的管理"><a class="header-anchor" href="#变量的管理">¶</a>变量的管理</h3>
<h4 id="内存变量的删除与修改"><a class="header-anchor" href="#内存变量的删除与修改">¶</a>内存变量的删除与修改</h4>
<p>who命令与whos命令</p>
<p>1.who：who给出的列表只能按变量名的字母顺序排列。</p>
<p>2.whos：whos给出的列表可以按变量名的字母顺序排列，也可以按尺寸、所占字节数等顺序排列。</p>
<h4 id="内存变量文件"><a class="header-anchor" href="#内存变量文件">¶</a>内存变量文件</h4>
<p>用于保存MATLAB工作区变量的文件叫做内存变量文件，其扩展名为.mat，也叫MAT文件。</p>
<ul>
<li>save命令:创建内存变量文件。</li>
<li>load命令:装入内存变量文件。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; save mydata a X</span><br><span class="line">&gt;&gt; load mydata</span><br></pre></td></tr></table></figure>
<h2 id="矩阵的表示"><a class="header-anchor" href="#矩阵的表示">¶</a>矩阵的表示</h2>
<h3 id="矩阵的建立"><a class="header-anchor" href="#矩阵的建立">¶</a>矩阵的建立</h3>
<p>(1)利用直接输入法建立矩阵:将矩阵的元素用<font color=red>中括号</font>括起来，按矩阵行的顺序输入各元素，同- -行的各元素之间用<font color=red>逗号或空格</font>分隔，不同行的元素之间用<font color=red>分号</font>分隔。</p>
<p>(2)利用已建好的矩阵建立更大的矩阵:一个大矩阵可以由已经建立好的小矩阵拼接而成。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">&gt;&gt; B = [<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-3</span>;<span class="number">-4</span>,<span class="number">-5</span>,<span class="number">-6</span>;<span class="number">-7</span>,<span class="number">-8</span>,<span class="number">-9</span>];</span><br><span class="line">&gt;&gt; C = [A,B;B,A]</span><br><span class="line"></span><br><span class="line">C =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>    <span class="number">-1</span>    <span class="number">-2</span>    <span class="number">-3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span>    <span class="number">-4</span>    <span class="number">-5</span>    <span class="number">-6</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span>    <span class="number">-7</span>    <span class="number">-8</span>    <span class="number">-9</span></span><br><span class="line">    <span class="number">-1</span>    <span class="number">-2</span>    <span class="number">-3</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">    <span class="number">-4</span>    <span class="number">-5</span>    <span class="number">-6</span>     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line">    <span class="number">-7</span>    <span class="number">-8</span>    <span class="number">-9</span>     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>可以用实部矩阵和虚部矩阵构成复数矩阵。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; B = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">&gt;&gt; C = [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>;<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>];</span><br><span class="line">&gt;&gt; A = B + <span class="built_in">i</span>*C</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">4.0000</span> + <span class="number">6.0000</span><span class="built_in">i</span>   <span class="number">5.0000</span> + <span class="number">7.0000</span><span class="built_in">i</span>   <span class="number">6.0000</span> + <span class="number">8.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">7.0000</span> + <span class="number">9.0000</span><span class="built_in">i</span>   <span class="number">8.0000</span> +<span class="number">10.0000</span><span class="built_in">i</span>   <span class="number">9.0000</span> +<span class="number">11.0000</span><span class="built_in">i</span></span><br></pre></td></tr></table></figure>
<h3 id="冒号表达式"><a class="header-anchor" href="#冒号表达式">¶</a>冒号表达式</h3>
<p><strong>格式</strong>:             e1 :e2:e3         初始值:步长:终止值</p>
<blockquote>
<p>省略步长e2，则步长为1。<br>
例如，t=0:5 与t=0:1:5等价。</p>
</blockquote>
<p><strong>linspace函数</strong>:                linspace(a,b,n)        第一个元素:最后一个元素:元素总数</p>
<blockquote>
<p>当n省略时，自动产生100个元素</p>
</blockquote>
<h3 id="结构矩阵和单元矩阵"><a class="header-anchor" href="#结构矩阵和单元矩阵">¶</a>结构矩阵和单元矩阵</h3>
<h4 id="结构矩阵"><a class="header-anchor" href="#结构矩阵">¶</a>结构矩阵</h4>
<p>​           <strong>格式为:</strong><br>
​                         结构矩阵元素成员名=表达式</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a(<span class="number">1</span>).x1=<span class="number">10</span>; a(<span class="number">1</span>).x2=<span class="string">&#x27;liu&#x27;</span>; a(<span class="number">1</span>).x3=[<span class="number">1</span> <span class="number">1</span>,<span class="number">21</span>;<span class="number">34</span>,<span class="number">78</span>];</span><br><span class="line">&gt;&gt; a(<span class="number">2</span>).x1=<span class="number">12</span>; a(<span class="number">2</span>).x2=<span class="string">&#x27;wang&#x27;</span>; a(<span class="number">2</span>).x3=[<span class="number">34</span>,<span class="number">191</span>;<span class="number">27</span>,<span class="number">578</span>];</span><br><span class="line">&gt;&gt; a(<span class="number">3</span>).x1=<span class="number">14</span>; a(<span class="number">3</span>).x2=<span class="string">&#x27;cai&#x27;</span>; a(<span class="number">3</span>).x3=[<span class="number">13</span>,<span class="number">890</span>;<span class="number">67</span>,<span class="number">231</span>];</span><br></pre></td></tr></table></figure>
<h4 id="单元矩阵"><a class="header-anchor" href="#单元矩阵">¶</a>单元矩阵</h4>
<p>建立单元矩阵和一般矩阵相似，直接输入就可以了，只是单元矩阵元素用大括号括起来。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; b= &#123;<span class="number">10</span>,<span class="string">&#x27;liu&#x27;</span>,[<span class="number">11</span>,<span class="number">21</span>;<span class="number">34</span>,<span class="number">78</span>];<span class="number">12</span>,<span class="string">&#x27;wang&#x27;</span>,[<span class="number">34</span>,<span class="number">191</span>;<span class="number">27</span>,<span class="number">5781</span>];...</span><br><span class="line"><span class="number">14</span>,<span class="string">&#x27;cai&#x27;</span>,[<span class="number">13</span>,<span class="number">890</span>;<span class="number">67</span>,<span class="number">231</span>]&#125;</span><br><span class="line"></span><br><span class="line">b = </span><br><span class="line"></span><br><span class="line">    [<span class="number">10</span>]    <span class="string">&#x27;liu&#x27;</span>     [<span class="number">2</span>x2 double]</span><br><span class="line">    [<span class="number">12</span>]    <span class="string">&#x27;wang&#x27;</span>    [<span class="number">2</span>x2 double]</span><br><span class="line">    [<span class="number">14</span>]    <span class="string">&#x27;cai&#x27;</span>     [<span class="number">2</span>x2 double]</span><br></pre></td></tr></table></figure>
<h2 id="矩阵元素的引用"><a class="header-anchor" href="#矩阵元素的引用">¶</a>矩阵元素的引用</h2>
<h3 id="矩阵元素的引用方式"><a class="header-anchor" href="#矩阵元素的引用方式">¶</a>矩阵元素的引用方式</h3>
<h4 id="通过下标来弓-用矩阵的元素"><a class="header-anchor" href="#通过下标来弓-用矩阵的元素">¶</a>通过下标来弓|用矩阵的元素</h4>
<p>​        A(3,2)表示A矩阵第3行第2列的元素。</p>
<h4 id="通过序号来引用"><a class="header-anchor" href="#通过序号来引用">¶</a>通过序号来引用</h4>
<ul>
<li>在MATLAB中， 矩阵元素按列存储，即首先存储矩阵的第一列元素，然后存储第二列元素，.，一-直到矩阵的最后一列元素。</li>
<li>矩阵元素的序号就是矩阵元素在内存中的排列顺序。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>;<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>序号与下标是一一对应的，以mX n矩阵A为例，矩阵元素A(i,j)的序号为(j-1)*m+i。</p>
</blockquote>
<p>矩阵元素的序号与下标可以利用sub2ind和ind2sub函数实现相互转换。<br>
<font color=red>sub2ind函数</font>:将矩阵中指定元素的行、列下标转换成存储的序号。调用格式为:<br>
D=sub2ind(S,I,J)</p>
<blockquote>
<p>S:行数和列数组成的向量<br>
I:转换矩阵元素的行下标<br>
J:转换矩阵元素的列下标</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>;<span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line">&gt;&gt; D = <span class="built_in">sub2ind</span>(<span class="built_in">size</span>(A),[<span class="number">1</span>,<span class="number">2</span>;<span class="number">2</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">1</span>;<span class="number">3</span>,<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">D =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span></span><br><span class="line">     <span class="number">6</span>     <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p><font color=red>ind2sub函数</font>:将把矩阵元素的序号转换成对应的下标，其调用格式为:<br>
[I,J]=ind2sub(S,D)</p>
<blockquote>
<p>S:行数和列数组成的向量<br>
D:序号<br>
I:行下标<br>
J:列下标</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; [I,J]=<span class="built_in">ind2sub</span>([<span class="number">3</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">3</span>     <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">J =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="利用冒号表达式获得子矩阵"><a class="header-anchor" href="#利用冒号表达式获得子矩阵">¶</a>利用冒号表达式获得子矩阵</h3>
<p>子矩阵是指由矩阵中的一部分元素构成的矩阵。</p>
<table>
<thead>
<tr>
<th>写法</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>A(i;:)</code></td>
<td>第i行的全部元素</td>
</tr>
<tr>
<td><code>A(:j)</code></td>
<td>第j列的全部元素</td>
</tr>
<tr>
<td><code>A(i:i+m,k:k+m)</code></td>
<td>第i<sub>i+m行内且在第k</sub>k+m列中的所有元素</td>
</tr>
<tr>
<td><code>A(i:i+m;:)</code></td>
<td>第i~i+m行的全部元素</td>
</tr>
</tbody>
</table>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>;<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span>     <span class="number">5</span></span><br><span class="line">     <span class="number">6</span>     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span>    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span>    <span class="number">12</span>    <span class="number">13</span>    <span class="number">14</span>    <span class="number">15</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">1</span>:<span class="number">2</span>,:)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span>     <span class="number">5</span></span><br><span class="line">     <span class="number">6</span>     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span>    <span class="number">10</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(<span class="number">2</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">2</span>:<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">6</span>     <span class="number">8</span>    <span class="number">10</span></span><br><span class="line">    <span class="number">11</span>    <span class="number">13</span>    <span class="number">15</span></span><br><span class="line">&gt;&gt; A(<span class="keyword">end</span>,:)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">11</span>    <span class="number">12</span>    <span class="number">13</span>    <span class="number">14</span>    <span class="number">15</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A([<span class="number">1</span>,<span class="number">3</span>],<span class="number">3</span>:<span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>     <span class="number">4</span>     <span class="number">5</span></span><br><span class="line">    <span class="number">13</span>    <span class="number">14</span>    <span class="number">15</span></span><br></pre></td></tr></table></figure>
<h3 id="利用空矩阵删除矩阵的元素"><a class="header-anchor" href="#利用空矩阵删除矩阵的元素">¶</a>利用空矩阵删除矩阵的元素</h3>
<p>空矩阵是指没有任何元素的矩阵。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span> ,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">7</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">6</span>;<span class="number">1</span>,<span class="number">4</span>,<span class="number">-1</span>,<span class="number">1</span>,<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">0</span>     <span class="number">9</span>     <span class="number">2</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">4</span>    <span class="number">-1</span>     <span class="number">1</span>     <span class="number">8</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A(:,[<span class="number">2</span>,<span class="number">4</span>])=[]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">3</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">9</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">1</span>    <span class="number">-1</span>     <span class="number">8</span></span><br></pre></td></tr></table></figure>
<h3 id="改变矩阵的形状"><a class="header-anchor" href="#改变矩阵的形状">¶</a>改变矩阵的形状</h3>
<p><font color=red>reshape(A,m,n)</font>:在矩阵总元素保持不变的前提下，将矩阵A重新排成m X n的二维矩阵。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">23</span>,<span class="number">45</span>,<span class="number">65</span>,<span class="number">34</span>,<span class="number">65</span>,<span class="number">34</span>,<span class="number">98</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">65</span>,<span class="number">43</span>,<span class="number">76</span>];</span><br><span class="line">&gt;&gt; y=<span class="built_in">reshape</span>(x,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">    <span class="number">23</span>    <span class="number">34</span>    <span class="number">98</span>    <span class="number">65</span></span><br><span class="line">    <span class="number">45</span>    <span class="number">65</span>    <span class="number">45</span>    <span class="number">43</span></span><br><span class="line">    <span class="number">65</span>    <span class="number">34</span>    <span class="number">78</span>    <span class="number">76</span></span><br></pre></td></tr></table></figure>
<p>A(😃 :将矩阵A的每一列元素堆叠起来， 成为一个列向量。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A =[<span class="number">-45</span>,<span class="number">65</span>,<span class="number">71</span>;<span class="number">27</span>,<span class="number">35</span>,<span class="number">91</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   <span class="number">-45</span>    <span class="number">65</span>    <span class="number">71</span></span><br><span class="line">    <span class="number">27</span>    <span class="number">35</span>    <span class="number">91</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B=A(:)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">   <span class="number">-45</span></span><br><span class="line">    <span class="number">27</span></span><br><span class="line">    <span class="number">65</span></span><br><span class="line">    <span class="number">35</span></span><br><span class="line">    <span class="number">71</span></span><br><span class="line">    <span class="number">91</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>A(:)等价于reshape(A,6,1)。</p>
</blockquote>
<h2 id="基本运算"><a class="header-anchor" href="#基本运算">¶</a>基本运算</h2>
<ul>
<li>算术运算</li>
<li>关系运算</li>
<li>逻辑运算</li>
</ul>
<h3 id="算术运算"><a class="header-anchor" href="#算术运算">¶</a>算术运算</h3>
<h4 id="基本算术运算"><a class="header-anchor" href="#基本算术运算">¶</a>基本算术运算</h4>
<p>基本算术运算符: + (加)、- (减)、*(乘)、/(右除)、(左除)、(乘方)。</p>
<ul>
<li>MATLAB的算术运算是在<strong>矩阵意义</strong>下进行的。</li>
<li>单个数据的算术运算只是<strong>矩阵运算</strong>的一种特例。</li>
</ul>
<p>加减运算</p>
<ul>
<li>若两矩阵同型，则运算时两矩阵的相应元素相加减。</li>
<li>若两矩阵不同型，则MATLAB将给出错误信息。</li>
<li>一个标量也可以和矩阵进行加减运算，这时把标量和矩阵的每一个元素进行加减运算。</li>
</ul>
<p>乘法运算</p>
<ul>
<li>矩阵A和B进行乘法运算，要求A的列数与B的行数相等，此时则称A、B矩阵是可乘的，或称A和B两矩阵维数和大小相容。</li>
<li>如果两者的维数或大小不相容，则将给出错误信息，提示用户两个矩阵是不可乘的。</li>
</ul>
<p>除法运算</p>
<ul>
<li>在MATLAB中，有两种矩阵除法运算:右除/和左除\。</li>
<li>如果A矩阵是非奇异方阵，则B/A等效于<code>B*inv(A)</code>，A\B等效于<code>inv(A)*B</code>。</li>
</ul>
<blockquote>
<p>非奇异矩阵就是可逆矩阵</p>
</blockquote>
<p>对于矩阵来说，右除和左除表示两种不同的除数矩阵和被除数矩阵关系。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>]; </span><br><span class="line">&gt;&gt; B=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>;<span class="number">7</span> ,<span class="number">5</span>,<span class="number">1</span>;<span class="number">12</span>,<span class="number">7</span>,<span class="number">92</span>];</span><br><span class="line">&gt;&gt; C1=B/A</span><br><span class="line"></span><br><span class="line">C1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.1667</span>   <span class="number">-3.3333</span>    <span class="number">2.5000</span></span><br><span class="line">   <span class="number">-0.8333</span>   <span class="number">-7.6667</span>    <span class="number">5.5000</span></span><br><span class="line">   <span class="number">12.8333</span>   <span class="number">63.6667</span>  <span class="number">-36.5000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; C2=A\B</span><br><span class="line"></span><br><span class="line">C2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.5000</span>   <span class="number">-0.5000</span>   <span class="number">44.5000</span></span><br><span class="line">    <span class="number">1.0000</span>    <span class="number">0.0000</span>   <span class="number">46.0000</span></span><br><span class="line">    <span class="number">0.5000</span>    <span class="number">1.1667</span>  <span class="number">-44.8333</span></span><br></pre></td></tr></table></figure>
<p>乘方运算</p>
<ul>
<li>一个矩阵的乘方运算可以表示成Ax，要求A为方阵，x为标量。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span> ,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">0</span>];</span><br><span class="line">&gt;&gt; A^<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">30</span>    <span class="number">36</span>    <span class="number">15</span></span><br><span class="line">    <span class="number">66</span>    <span class="number">81</span>    <span class="number">42</span></span><br><span class="line">    <span class="number">39</span>    <span class="number">54</span>    <span class="number">69</span></span><br></pre></td></tr></table></figure>
<h4 id="点运算"><a class="header-anchor" href="#点运算">¶</a>点运算</h4>
<ul>
<li>点运算符:.*、./、.\和.^。</li>
<li>两矩阵进行点运算是指它们的对应元素进行相关运算，要求两矩阵同型。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">&gt;&gt; B=[<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>];</span><br><span class="line">&gt;&gt; C=A.*B</span><br><span class="line"></span><br><span class="line">C =</span><br><span class="line"></span><br><span class="line">    <span class="number">-1</span>     <span class="number">0</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>    <span class="number">-5</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">8</span>     <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; D=A*B</span><br><span class="line"></span><br><span class="line">D =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">4</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>    <span class="number">10</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>    <span class="number">16</span></span><br></pre></td></tr></table></figure>
<p>点运算是MATLAB很有特色的一个运算符，在实际应用中起着很重要的作用，也是许多初学者容易弄混的一个问题。<br>
当x=0.1、0.4、0.7、1时，分别求y=sin X cos x的值。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; X=<span class="number">0.1</span>:<span class="number">0.3</span>:<span class="number">1</span>;</span><br><span class="line">&gt;&gt; y=<span class="built_in">cos</span>(x).*<span class="built_in">cos</span>(x)</span><br><span class="line"></span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">6</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2839</span>    <span class="number">0.2760</span>    <span class="number">0.3164</span>    <span class="number">0.7201</span>    <span class="number">0.3164</span>    <span class="number">0.7201</span></span><br><span class="line"></span><br><span class="line">  <span class="number">7</span> 至 <span class="number">12</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">0.6712</span>    <span class="number">0.2760</span>    <span class="number">0.7358</span>    <span class="number">0.3164</span>    <span class="number">0.3082</span>    <span class="number">0.6795</span></span><br></pre></td></tr></table></figure>
<h4 id="关系运算"><a class="header-anchor" href="#关系运算">¶</a>关系运算</h4>
<ul>
<li>关系运算符: &lt;(小于)、&lt;=(小于或等于)、&gt;(大于)、&gt;=(大于或等于)、==(等于)、 ~=(不等于)。</li>
<li>当两个比较量是标量时，直接比较两数的大小。若关系成立，关系表达式结果为1,否则为0。</li>
<li>当参与比较的量是两个同型的矩阵时，比较是对两矩阵相同位置的元素按标量关系运算规则逐个进行，最终的关系运算的结果是一个与原矩阵同型的矩阵，它的元素由0或1组成。</li>
<li>当参与比较的一个是标量，而另一个 是矩阵时，则把标量与矩阵的每一个元素按标量 关系运算规则逐个比较，最终的关系运算的结果是一个与原矩阵同型的矩阵，它的元素由0或1组成。</li>
</ul>
<p>ex:建立3阶方阵A，判断A的元素是否为偶数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A =[<span class="number">24</span>,<span class="number">35</span>, <span class="number">13</span>;<span class="number">22</span>,<span class="number">63</span>,<span class="number">23</span>;<span class="number">39</span>,<span class="number">47</span>,<span class="number">80</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">    <span class="number">24</span>    <span class="number">35</span>    <span class="number">13</span></span><br><span class="line">    <span class="number">22</span>    <span class="number">63</span>    <span class="number">23</span></span><br><span class="line">    <span class="number">39</span>    <span class="number">47</span>    <span class="number">80</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; P=<span class="built_in">rem</span>(A,<span class="number">2</span>)==<span class="number">0</span></span><br><span class="line"></span><br><span class="line">P =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="逻辑运算"><a class="header-anchor" href="#逻辑运算">¶</a>逻辑运算</h4>
<p>逻辑运算符: &amp;(与)、 |(或)和~ (非)。<br>
设参与逻辑运算的是两个标量a和b，那么运算规则为:</p>
<ul>
<li>a&amp;b a、b全为非零时，运算结果为1，否则为0。</li>
<li>alb a、 b中只要有一个为非零时，运算结果为1。</li>
<li>~a当a为零时，运算结果为1;当a为非零时，运算结果为0。</li>
</ul>
<p>在算术运算、关系运算和逻辑运算中，算术运算的优先级最高，逻辑运算优先级最低，但逻辑非运算是单目运算，它的优先级比双目运算要高。</p>
<ul>
<li>若参与逻辑运算的是两个同型矩阵，那么将对矩阵相同位置上的元素按标量规则逐个进行运算，最终运算结果是一个与原矩阵同型的矩阵，其元素由1或0组成。</li>
<li>若参与逻辑运算的一个是标量，一个是矩阵，那么将在标量与矩阵中的每个元素之间按标量规则逐个进行运算，最终运算结果是一个与原矩阵同型的矩阵，其元素由1或0组成。</li>
</ul>
<p>ex:水仙花数是指各位数字的立方之和等于该数本身的三位正整数,求全部水仙花数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; m = <span class="number">100</span>:<span class="number">999</span>;</span><br><span class="line">&gt;&gt; m1 = <span class="built_in">rem</span>(m,<span class="number">10</span>);</span><br><span class="line">&gt;&gt; m2 = <span class="built_in">rem</span>(<span class="built_in">fix</span>(m/<span class="number">10</span>),<span class="number">10</span>);</span><br><span class="line">&gt;&gt; m3 = <span class="built_in">fix</span>(m/<span class="number">100</span>);</span><br><span class="line">&gt;&gt; k = <span class="built_in">find</span>(m==m1.*m1.*m1+m2.*m2.*m2+m3.*m3.*m3)</span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">    <span class="number">54</span>   <span class="number">271</span>   <span class="number">272</span>   <span class="number">308</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; s=m(k)</span><br><span class="line"></span><br><span class="line">s =</span><br><span class="line"></span><br><span class="line">   <span class="number">153</span>   <span class="number">370</span>   <span class="number">371</span>   <span class="number">407</span></span><br></pre></td></tr></table></figure>
<h2 id="字符串的处理"><a class="header-anchor" href="#字符串的处理">¶</a>字符串的处理</h2>
<h3 id="字符串的表示"><a class="header-anchor" href="#字符串的表示">¶</a>字符串的表示</h3>
<p>在MATLAB中，字符串是用<font color="red"><strong>单引号</strong></font>括起来的字符序列。</p>
<blockquote>
<p>实际当作一个行向量</p>
</blockquote>
<p>若字符串中的字符含有单引号，则该单引号字符要用两个单引号来表示。</p>
<p>建立多行字符串，形成字符串矩阵。</p>
<blockquote>
<p>字符串数要相同</p>
</blockquote>
<p>ex:建立一个字符串向量，然后对该向量做如下处理:<br>
①取第1~ 5个字符组成的子字符串。<br>
②将字符串倒过来重新排列。<br>
③将字符串中的小写字母变成相应的大写字母，其余字符不变。<br>
④统计字符串中小写字母的个数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; ch=<span class="string">&#x27;ABc123d4e56Fg9&#x27;</span>;</span><br><span class="line">&gt;&gt; subch=ch(<span class="number">1</span>:<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">subch =</span><br><span class="line"></span><br><span class="line">ABc12</span><br><span class="line"></span><br><span class="line">&gt;&gt; revch=ch(<span class="keyword">end</span>:<span class="number">-1</span>:<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">revch =</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>gF65e4d321cBA</span><br><span class="line"></span><br><span class="line">&gt;&gt; k=<span class="built_in">find</span>(ch&gt;=<span class="string">&#x27;a&#x27;</span>&amp;ch&lt;=<span class="string">&#x27;z&#x27;</span>)</span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>     <span class="number">7</span>     <span class="number">9</span>    <span class="number">13</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; ch(k)=ch(k)-(<span class="string">&#x27;a&#x27;</span>-<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ch =</span><br><span class="line"></span><br><span class="line">ABC123D4E56FG9</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">length</span>(k)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>大写字母和小写字母ASCII码相差32</p>
</blockquote>
<h3 id="字符串的操作"><a class="header-anchor" href="#字符串的操作">¶</a>字符串的操作</h3>
<h4 id="字符串的执行"><a class="header-anchor" href="#字符串的执行">¶</a>字符串的执行</h4>
<p>格式:  eval(s)</p>
<blockquote>
<p>s----字符串</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=<span class="built_in">pi</span>;</span><br><span class="line">&gt;&gt; m=<span class="string">&#x27;[t,sin(t),cos(t)]&#x27;</span>;</span><br><span class="line">&gt;&gt; y=eval(m)</span><br><span class="line"></span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.1416</span>    <span class="number">0.0000</span>   <span class="number">-1.0000</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串与数值之间的转换"><a class="header-anchor" href="#字符串与数值之间的转换">¶</a>字符串与数值之间的转换</h4>
<ul>
<li>abs和double函数都可以用来获 取字符串矩阵所对应的ASCII码数值矩阵。</li>
<li>char函数可以把ASCI码矩阵转换 为字符串矩阵。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; s1=<span class="string">&#x27;MATLAB&#x27;</span>;</span><br><span class="line">&gt;&gt; a=<span class="built_in">abs</span>(s1)</span><br><span class="line"></span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">77</span>    <span class="number">65</span>    <span class="number">84</span>    <span class="number">76</span>    <span class="number">65</span>    <span class="number">66</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; char(a+<span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">matlab</span><br></pre></td></tr></table></figure>
<h4 id="字符串的比较"><a class="header-anchor" href="#字符串的比较">¶</a>字符串的比较</h4>
<p>字符串的比较有两种方法:利用关系运算符或字符串比较函数。</p>
<ul>
<li>关系运算符比较:两个字符串里的每个字符依次按ASCII值大小逐个进行比较，比较的结果是一个数值向量， 向量中的元素要么是1，要么是0。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="string">&#x27;www0&#x27;</span>&gt;=<span class="string">&#x27;W123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>字符串比较函数用于判断字符串是否相等，有4种比较方式，函数如下:</p>
<p>①<code>strcmp(s1,s2)</code>:用来比较字符串s1和s2是否相等，如果相等，返回结果为1,  否则返回0。<br>
②<code>strncmp(s 1 ,s2,n)</code>:用来比较两个字符串前n个字符是否相等，如果相等，返回1，否则返回0。<br>
③<code>strcmpi(s1,s2)</code>:在忽略字母大小写前提下，比较字符串s1和s2是否相等，如果相等，返回1，否则返回0。<br>
④<code>strncmpi(s l,s2,n)</code>:在忽略字符串大小写前提下，比较两个字符串前n个字 符是否相等，如果相等，返回1,否则返回0。</p>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; strcmp(<span class="string">&#x27;www0&#x27;</span>,<span class="string">&#x27;w123&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; strncmpi(<span class="string">&#x27;Www0&#x27;</span>,<span class="string">&#x27;w123&#x27;</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串的查找与替换"><a class="header-anchor" href="#字符串的查找与替换">¶</a>字符串的查找与替换</h4>
<ul>
<li>findstr(s 1 ,s2):返回短字符串在长字符串中的开始位置。</li>
<li>strrep(s 1 ,s2,s3):将字符串s1中的所有子字符串s2替换为字符串s3。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; p=findstr(<span class="string">&#x27;This is a test!&#x27;</span>,<span class="string">&#x27;is&#x27;</span>)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; p=findstr(<span class="string">&#x27;is&#x27;</span>,<span class="string">&#x27;This is a test!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; result=strrep(<span class="string">&#x27;This is a test!&#x27;</span>,<span class="string">&#x27;test&#x27;</span>,<span class="string">&#x27;class&#x27;</span>)</span><br><span class="line"></span><br><span class="line">result =</span><br><span class="line"></span><br><span class="line">This is a class!</span><br></pre></td></tr></table></figure>
<h1>MATLAB矩阵处理</h1>
<h2 id="特殊矩阵"><a class="header-anchor" href="#特殊矩阵">¶</a>特殊矩阵</h2>
<ul>
<li>通用性的特殊矩阵</li>
<li>用于专门学科的特殊矩阵</li>
</ul>
<h3 id="通用性的特殊矩阵"><a class="header-anchor" href="#通用性的特殊矩阵">¶</a>通用性的特殊矩阵</h3>
<p><font color="red">zeros函数</font>&gt;:产生全0矩阵，即零矩阵。<br>
<font color="red">ones函数</font>:产生全1矩阵，即幺矩阵。<br>
<font color="red">eye函数</font>:产生对角线为1的矩阵。当矩阵是方阵时，得到一个单位矩阵。<br>
<font color="red">rand函数</font>:产生(0, 1)区间均匀分布的随机矩阵。<br>
<font color="red">randn函数</font>:产生均值为0，方差为1的标准正态分布随机矩阵。</p>
<p>zeros函数的调用格式:</p>
<ul>
<li>zeros(m): 产生m x m零矩阵。</li>
<li>zeros(m,n): 产生m x n零矩阵。</li>
<li>zeros(size(l):产生与矩阵A同样大小的零矩阵。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=<span class="built_in">zeros</span>(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">zeros</span>(<span class="built_in">size</span>(<span class="built_in">reshape</span>(A,<span class="number">3</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>ex:首先产生5阶两位随机整数矩阵A，再产生均值为0.6、方差为0.1的5阶<br>
正态分布随机矩阵B，最后验证(A+B)l=IA+BI ( I为单位矩阵)。</p>
<ul>
<li>rand函数:产生(0，1)开区间均匀分布的随机数x。</li>
<li>fix(a+(b-a+1)*x):产生[a，b]区间上均匀分布的随机整数。</li>
<li>randn函数:产生均值为0、方差为1的标准正态分布随机数x。</li>
<li>μ+σx:得到均值为μ、方差为σ^2的随机数。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = <span class="built_in">fix</span>(<span class="number">10</span>+(<span class="number">99</span><span class="number">-10</span>+<span class="number">1</span>)*<span class="built_in">rand</span>(<span class="number">5</span>));</span><br><span class="line">&gt;&gt; B = <span class="number">0.3</span>+<span class="built_in">sqrt</span>(<span class="number">0.1</span>)*<span class="built_in">randn</span>(<span class="number">5</span>);</span><br><span class="line">&gt;&gt; C = <span class="built_in">eye</span>(<span class="number">5</span>);</span><br><span class="line">&gt;&gt; (A+B)*C==C*A+B*C</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="用于专门学科的特殊矩阵"><a class="header-anchor" href="#用于专门学科的特殊矩阵">¶</a>用于专门学科的特殊矩阵</h3>
<h4 id="魔方矩阵-Magic-Square"><a class="header-anchor" href="#魔方矩阵-Magic-Square">¶</a>魔方矩阵- -Magic Square</h4>
<ul>
<li>n阶魔方阵由1,2,3,.,n2共n2个整数组成，且每行、每列以及主、副对角线上各n个元素之和都相等。</li>
<li>n阶魔方阵每行每列元素的和为(1+2+3+…+ n2)/n=(n+n3)/2。MATLAB函数magic(n)产生一个特定的魔方阵。</li>
</ul>
<p>ex:产生8阶魔方阵，求其每行每列元素的和。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; M= <span class="built_in">magic</span>(<span class="number">8</span>);</span><br><span class="line">&gt;&gt; sum(M(<span class="number">1</span>,:))</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">260</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; sum(M(:,<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">260</span></span><br></pre></td></tr></table></figure>
<h4 id="范德蒙矩阵"><a class="header-anchor" href="#范德蒙矩阵">¶</a>范德蒙矩阵</h4>
<p>对于向量V=[V1，V2， .，Vn]，范得蒙矩阵的一般形式为:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814111731.png" alt="image-20200814111220760"></p>
<p>在MATLAB中，函数vander(V)生 成以向量V为基础的范得<br>
蒙( Vandermonde )矩阵。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = <span class="built_in">vander</span>(<span class="number">1</span>:<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span></span><br><span class="line">    <span class="number">16</span>     <span class="number">8</span>     <span class="number">4</span>     <span class="number">2</span>     <span class="number">1</span></span><br><span class="line">    <span class="number">81</span>    <span class="number">27</span>     <span class="number">9</span>     <span class="number">3</span>     <span class="number">1</span></span><br><span class="line">   <span class="number">256</span>    <span class="number">64</span>    <span class="number">16</span>     <span class="number">4</span>     <span class="number">1</span></span><br><span class="line">   <span class="number">625</span>   <span class="number">125</span>    <span class="number">25</span>     <span class="number">5</span>     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>范德蒙矩阵常用在各种通信系统的纠错编码中，例如,常用的Reed—Solomon编码即以范德蒙矩阵为基础。</p>
</blockquote>
<h4 id="希尔伯特矩阵"><a class="header-anchor" href="#希尔伯特矩阵">¶</a>希尔伯特矩阵</h4>
<p>n阶希尔伯特( Hilbert)矩阵的一般形式为:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814114657.png" alt="image-20200814114655977"></p>
<blockquote>
<p>希尔伯特矩阵的元素为H(ij)=1/(i+j-1)。</p>
</blockquote>
<p>在MATLAB中，生成n阶希尔伯特矩阵的函数是hilb(n)。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; format <span class="built_in">rat</span></span><br><span class="line">&gt;&gt; H = <span class="built_in">hilb</span>(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">H =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>              <span class="number">1</span>/<span class="number">2</span>            <span class="number">1</span>/<span class="number">3</span>            <span class="number">1</span>/<span class="number">4</span>     </span><br><span class="line">       <span class="number">1</span>/<span class="number">2</span>            <span class="number">1</span>/<span class="number">3</span>            <span class="number">1</span>/<span class="number">4</span>            <span class="number">1</span>/<span class="number">5</span>     </span><br><span class="line">       <span class="number">1</span>/<span class="number">3</span>            <span class="number">1</span>/<span class="number">4</span>            <span class="number">1</span>/<span class="number">5</span>            <span class="number">1</span>/<span class="number">6</span>     </span><br><span class="line">       <span class="number">1</span>/<span class="number">4</span>            <span class="number">1</span>/<span class="number">5</span>            <span class="number">1</span>/<span class="number">6</span>            <span class="number">1</span>/<span class="number">7</span> </span><br></pre></td></tr></table></figure>
<blockquote>
<p>format rat设置输出格式以有理数格式输出</p>
</blockquote>
<h4 id="伴随矩阵"><a class="header-anchor" href="#伴随矩阵">¶</a>伴随矩阵</h4>
<p>设多项式p(x)为<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814115552.png" alt="image-20200814115544687">，则多项式的伴随矩阵是:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814115618.png" alt="image-20200814115617125"></p>
<blockquote>
<p>p(x)称为A的特征多项式，方程p(x)=0的根称为A的特征值。</p>
</blockquote>
<p>MATLAB生成伴随矩阵的函数是compan§，其中p是一个多项式的系数向量，高次幂系数排在前，低次幂系数排在后。</p>
<p>ex:生成多项式<code>x^3-2*x^2-5*x+6</code>的伴随矩阵 。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; p=[<span class="number">1</span>,<span class="number">-2</span>,<span class="number">-5</span>,<span class="number">6</span>];</span><br><span class="line">&gt;&gt; A=<span class="built_in">compan</span>(p)</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">       <span class="number">2</span>              <span class="number">5</span>             <span class="number">-6</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">0</span>              <span class="number">0</span>       </span><br><span class="line">       <span class="number">0</span>              <span class="number">1</span>              <span class="number">0</span>   </span><br></pre></td></tr></table></figure>
<h4 id="帕斯卡矩阵"><a class="header-anchor" href="#帕斯卡矩阵">¶</a>帕斯卡矩阵</h4>
<ul>
<li>根据二项式定理，(x+y)&quot; 展开后的系数随着n的增大组成一个三角形表，这个三角形称为杨辉三角形。</li>
<li>把二项式系数依次填写在矩阵的左侧对角线上，然后提取左侧的n行n列元素即为n阶帕斯卡( Pascal)矩阵。</li>
</ul>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814130618.png" alt="image-20200814120326930"></p>
          </div>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814130624.png" alt="image-20200814120432171"></p>
          </div>
<ul>
<li>帕斯卡矩阵的第一行元素和第一列元素都为1，其余位置的元素是该元素的左边元素与上面元素相加，即P(ij)=P(ij-1)+P(i-1j),且P(i,1)=1,P(1.j)=1。</li>
<li>函数pascal(n)生成一个n阶帕斯卡矩阵。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814130652.png" alt="image-20200814120723165"></p>
<p>ex:生成5阶帕斯卡矩阵，验证它的逆矩阵的所有元素也为整数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; format <span class="built_in">rat</span></span><br><span class="line">&gt;&gt; P=<span class="built_in">pascal</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">P =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">2</span>              <span class="number">3</span>              <span class="number">4</span>              <span class="number">5</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">3</span>              <span class="number">6</span>             <span class="number">10</span>             <span class="number">15</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">4</span>             <span class="number">10</span>             <span class="number">20</span>             <span class="number">35</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">5</span>             <span class="number">15</span>             <span class="number">35</span>             <span class="number">70</span>       </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">&gt;&gt; inv(P)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">5</span>            <span class="number">-10</span>             <span class="number">10</span>             <span class="number">-5</span>              <span class="number">1</span>       </span><br><span class="line">     <span class="number">-10</span>             <span class="number">30</span>            <span class="number">-35</span>             <span class="number">19</span>             <span class="number">-4</span>       </span><br><span class="line">      <span class="number">10</span>            <span class="number">-35</span>             <span class="number">46</span>            <span class="number">-27</span>              <span class="number">6</span>       </span><br><span class="line">      <span class="number">-5</span>             <span class="number">19</span>            <span class="number">-27</span>             <span class="number">17</span>             <span class="number">-4</span>       </span><br><span class="line">       <span class="number">1</span>             <span class="number">-4</span>              <span class="number">6</span>             <span class="number">-4</span>              <span class="number">1</span>   </span><br></pre></td></tr></table></figure>
<h2 id="矩阵变换"><a class="header-anchor" href="#矩阵变换">¶</a>矩阵变换</h2>
<ul>
<li>对角阵</li>
<li>三角阵</li>
<li>矩阵的转置</li>
<li>矩阵的旋转</li>
<li>矩阵的翻转</li>
</ul>
<h3 id="对角阵"><a class="header-anchor" href="#对角阵">¶</a>对角阵</h3>
<ul>
<li>对角矩阵:只有对角线上有非零元素的矩阵。</li>
<li>数量矩阵:对角线上的元素相等的对角矩阵。</li>
<li>单位矩阵:对角线上的元素都为1的对角矩阵。</li>
</ul>
<h4 id="提取矩阵的对角线元素"><a class="header-anchor" href="#提取矩阵的对角线元素">¶</a>提取矩阵的对角线元素</h4>
<ul>
<li>diag(A): 提取矩阵A主对角线元素，产生一个列向量 。</li>
<li>diag(A,k): 提取矩阵A第k条对角线的元素，产生一个列向量。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814130610.png" alt="image-20200814130607966"></p>
<blockquote>
<p>对角线往上为第n条，往下为第（-n）条，主对角线为第0条对角线</p>
</blockquote>
<h4 id="构造对角矩阵"><a class="header-anchor" href="#构造对角矩阵">¶</a>构造对角矩阵</h4>
<ul>
<li>diag(V): 以向量V为主对角线元素，产生对角矩阵。</li>
<li>diag(V,k):以向量V为第k条对角线元素，产生对角矩阵。</li>
</ul>
<p>ex:例1先建立5x 5矩阵A，然后将A的第一行元素乘以1， 第二行乘以2，····，第五行乘以5。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">5</span>;<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">1</span>;<span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>;<span class="number">1</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">1</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>];</span><br><span class="line">&gt;&gt; D=<span class="built_in">diag</span>(<span class="number">1</span>:<span class="number">5</span>);</span><br><span class="line">&gt;&gt; D*A</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">7</span>              <span class="number">0</span>              <span class="number">1</span>              <span class="number">0</span>              <span class="number">5</span>       </span><br><span class="line">       <span class="number">6</span>             <span class="number">10</span>             <span class="number">14</span>              <span class="number">8</span>              <span class="number">2</span>       </span><br><span class="line">      <span class="number">12</span>              <span class="number">0</span>              <span class="number">9</span>              <span class="number">0</span>              <span class="number">6</span>       </span><br><span class="line">       <span class="number">4</span>              <span class="number">4</span>             <span class="number">36</span>              <span class="number">8</span>             <span class="number">12</span>       </span><br><span class="line">       <span class="number">5</span>             <span class="number">40</span>             <span class="number">25</span>             <span class="number">10</span>             <span class="number">45</span>  </span><br></pre></td></tr></table></figure>
<blockquote>
<p>左乘行变换，石乘列变换</p>
</blockquote>
<p>think:要将A的各列元素分别乘以对角阵的对角线元素，如何实现?</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">5</span>;<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">1</span>;<span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>;<span class="number">1</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">1</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>];</span><br><span class="line">&gt;&gt; D=<span class="built_in">diag</span>(<span class="number">1</span>:<span class="number">5</span>);</span><br><span class="line">&gt;&gt; A*D</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">7</span>              <span class="number">0</span>              <span class="number">3</span>              <span class="number">0</span>             <span class="number">25</span>       </span><br><span class="line">       <span class="number">3</span>             <span class="number">10</span>             <span class="number">21</span>             <span class="number">16</span>              <span class="number">5</span>       </span><br><span class="line">       <span class="number">4</span>              <span class="number">0</span>              <span class="number">9</span>              <span class="number">0</span>             <span class="number">10</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">2</span>             <span class="number">27</span>              <span class="number">8</span>             <span class="number">15</span>       </span><br><span class="line">       <span class="number">1</span>             <span class="number">16</span>             <span class="number">15</span>              <span class="number">8</span>             <span class="number">45</span>       </span><br></pre></td></tr></table></figure>
<h3 id="三角阵"><a class="header-anchor" href="#三角阵">¶</a>三角阵</h3>
<ul>
<li>上三角阵:矩阵的对角线以下的元素全为零的矩阵。</li>
<li>下三角阵:对角线以上的元素全为零的矩阵。</li>
</ul>
<h4 id="上三角矩阵"><a class="header-anchor" href="#上三角矩阵">¶</a>上三角矩阵</h4>
<ul>
<li>triu(A): 提取矩阵A的主对角线及以上的元素。</li>
<li>triulA,k): 提取矩阵A的第k条对角线及以上的元素。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">triu</span>(<span class="built_in">ones</span>(<span class="number">4</span>),<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>       </span><br><span class="line">       <span class="number">0</span>              <span class="number">1</span>              <span class="number">1</span>              <span class="number">1</span>       </span><br><span class="line">       <span class="number">0</span>              <span class="number">0</span>              <span class="number">1</span>              <span class="number">1</span>  </span><br></pre></td></tr></table></figure>
<h4 id="下三角矩阵"><a class="header-anchor" href="#下三角矩阵">¶</a>下三角矩阵</h4>
<p>在MATLAB中，提取矩阵A的下三角矩阵的函数是tril,其用法与triu函数<strong>完全相同</strong>。</p>
<h3 id="矩阵的转置"><a class="header-anchor" href="#矩阵的转置">¶</a>矩阵的转置</h3>
<ul>
<li>转置运算符是小数点后面接单引号(.’)。</li>
<li>共轭转置，其运算符是单引号(’)，它在转置的基础上还要取每个数的复共轭。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span>,<span class="number">3</span>;<span class="number">3</span>+<span class="number">4</span><span class="built_in">i</span>,<span class="number">1</span><span class="number">-2</span><span class="built_in">i</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>        +    <span class="number">0</span><span class="built_in">i</span>             <span class="number">3</span>        +    <span class="number">0</span><span class="built_in">i</span>      </span><br><span class="line">       <span class="number">3</span>        +    <span class="number">4</span><span class="built_in">i</span>             <span class="number">1</span>        -    <span class="number">2</span><span class="built_in">i</span>      </span><br><span class="line"></span><br><span class="line">&gt;&gt; A.&#x27;</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>        +    <span class="number">0</span><span class="built_in">i</span>             <span class="number">3</span>        +    <span class="number">4</span><span class="built_in">i</span>      </span><br><span class="line">       <span class="number">3</span>        +    <span class="number">0</span><span class="built_in">i</span>             <span class="number">1</span>        -    <span class="number">2</span><span class="built_in">i</span>      </span><br><span class="line"></span><br><span class="line">&gt;&gt; A&#x27;</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>        +    <span class="number">0</span><span class="built_in">i</span>             <span class="number">3</span>        -    <span class="number">4</span><span class="built_in">i</span>      </span><br><span class="line">       <span class="number">3</span>        +    <span class="number">0</span><span class="built_in">i</span>             <span class="number">1</span>        +    <span class="number">2</span><span class="built_in">i</span>   </span><br></pre></td></tr></table></figure>
<h3 id="矩阵的旋转"><a class="header-anchor" href="#矩阵的旋转">¶</a>矩阵的旋转</h3>
<p><strong>rot90(A,k)</strong>:将矩阵A<u><strong>逆时针</strong></u>方向旋转90°的k倍，当k为1时可省略。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>;<span class="number">-3</span>,<span class="number">2</span>,<span class="number">1</span>;<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">rot90</span>(A)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">2</span>              <span class="number">1</span>              <span class="number">2</span>       </span><br><span class="line">       <span class="number">3</span>              <span class="number">2</span>              <span class="number">1</span>       </span><br><span class="line">       <span class="number">1</span>             <span class="number">-3</span>              <span class="number">4</span>       </span><br><span class="line">&gt;&gt; <span class="built_in">rot90</span>(A,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">2</span>              <span class="number">1</span>              <span class="number">4</span>       </span><br><span class="line">       <span class="number">1</span>              <span class="number">2</span>             <span class="number">-3</span>       </span><br><span class="line">       <span class="number">2</span>              <span class="number">3</span>              <span class="number">1</span>     </span><br></pre></td></tr></table></figure>
<h3 id="矩阵的翻转"><a class="header-anchor" href="#矩阵的翻转">¶</a>矩阵的翻转</h3>
<ul>
<li>fliplrlA): 对矩阵A实施左右翻转。</li>
<li>flipud(A): 对矩阵A实施上下翻转。</li>
</ul>
<p>ex:验证魔方阵的主对角线、副对角线元素之和相等。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=<span class="built_in">magic</span>(<span class="number">5</span>);</span><br><span class="line">&gt;&gt; D1=<span class="built_in">diag</span>(A);</span><br><span class="line">&gt;&gt; sum(D1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">      <span class="number">65</span>       </span><br><span class="line"></span><br><span class="line">&gt;&gt; B=<span class="built_in">flipud</span>(A);</span><br><span class="line">&gt;&gt; D2=<span class="built_in">diag</span>(B);</span><br><span class="line">&gt;&gt; sum(D2)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">      <span class="number">65</span>       </span><br></pre></td></tr></table></figure>
<h3 id="矩阵的求逆"><a class="header-anchor" href="#矩阵的求逆">¶</a>矩阵的求逆</h3>
<ul>
<li>对于一个方阵A，如果存在一个与其同阶的方阵B，使得AB=BA=I (I为单位矩阵)，则称B为A的逆矩阵，当然A也是B的逆矩阵。</li>
<li>inv(A):求方阵A的逆矩阵。</li>
</ul>
<p>ex:用求逆矩阵的方法解线性方程组。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814133537.png" alt="image-20200814133535069"></p>
<p>在线性方程组Ax=b两边各左乘A-1,有<code>A^（-1）*Ax=A^（-1）*b</code>，由于<code>A^(-1)A=1</code>故得<code>x=A^*(-1)b</code>。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>;<span class="number">1</span>,<span class="number">8</span>,<span class="number">27</span>];</span><br><span class="line">&gt;&gt; b=[<span class="number">5</span>;<span class="number">-2</span>;<span class="number">6</span>];</span><br><span class="line">&gt;&gt; x=inv(A)*b</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">      <span class="number">23</span>       </span><br><span class="line">     <span class="number">-29</span>/<span class="number">2</span>     </span><br><span class="line">      <span class="number">11</span>/<span class="number">3</span>     </span><br><span class="line"></span><br><span class="line">&gt;&gt; x=A\b</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">      <span class="number">23</span>       </span><br><span class="line">     <span class="number">-29</span>/<span class="number">2</span>     </span><br><span class="line">      <span class="number">11</span>/<span class="number">3</span>   </span><br></pre></td></tr></table></figure>
<h2 id="矩阵求值"><a class="header-anchor" href="#矩阵求值">¶</a>矩阵求值</h2>
<ul>
<li>矩阵的行列式值</li>
<li>矩阵的秩</li>
<li>矩阵的迹</li>
<li>矩阵的范数</li>
<li>矩阵的条件数</li>
<li>······</li>
</ul>
<h3 id="方阵的行列式"><a class="header-anchor" href="#方阵的行列式">¶</a>方阵的行列式</h3>
<ul>
<li>把一个方阵看作一个行列式，并对其按行列式的规则求值， 这个值就称为方阵所对应的行列式的值。</li>
<li>det(A): 求方阵A所对应的行列式的值。</li>
</ul>
<p>ex:验证detIA^-1)=1/det/A)。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; format <span class="built_in">rat</span></span><br><span class="line">&gt;&gt; A = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>;<span class="number">-3</span>,<span class="number">2</span>,<span class="number">1</span>;<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">&gt;&gt; det(inv(A))</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>/<span class="number">11</span>    </span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="number">1</span>/det(A)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>/<span class="number">11</span>    </span><br></pre></td></tr></table></figure>
<h3 id="矩阵的秩"><a class="header-anchor" href="#矩阵的秩">¶</a>矩阵的秩</h3>
<ul>
<li>矩阵线性无关的行数或列数称为矩阵的秩。</li>
<li>rank(A): 求矩阵A的秩。</li>
</ul>
<p>ex:求3~20阶魔方阵的秩。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> n=<span class="number">3</span>:<span class="number">20</span></span><br><span class="line">    r(n)=rank(<span class="built_in">magic</span>(n));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">bar(r)</span><br><span class="line">grid on</span><br><span class="line">axis([<span class="number">2</span>,<span class="number">21</span>,<span class="number">0</span>,<span class="number">20</span>])</span><br></pre></td></tr></table></figure>
<ul>
<li>奇数阶魔方阵秩为n，即奇数阶魔方阵是满秩矩阵。</li>
<li>一重偶数阶魔方阵秩为n/2+2 ( n是2的倍数，但非4的倍数)。</li>
<li>双重偶数阶魔方阵秩均为3 ( 阶数是4的倍数)。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814155037.png" alt="image-20200814155035845"></p>
<blockquote>
<p>n=3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18 19 20<br>
r=3  3  5  5  7  3  9    7   11  3     13   9   15   3    17  11 19  3</p>
</blockquote>
<h3 id="矩阵的迹"><a class="header-anchor" href="#矩阵的迹">¶</a>矩阵的迹</h3>
<ul>
<li>矩阵的迹等于矩阵的对角线元素之和，也等于矩阵的特征值之和。</li>
<li>trace(A): 求矩阵A的迹。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>;<span class="number">-3</span>,<span class="number">2</span>,<span class="number">1</span>;<span class="number">4</span> <span class="number">1</span> <span class="number">2</span>];</span><br><span class="line">&gt;&gt; b=trace(A)</span><br><span class="line"></span><br><span class="line">b =</span><br><span class="line"></span><br><span class="line">       <span class="number">5</span>       </span><br><span class="line"></span><br><span class="line">&gt;&gt; t=sum(<span class="built_in">diag</span>(A))</span><br><span class="line"></span><br><span class="line">t =</span><br><span class="line"></span><br><span class="line">       <span class="number">5</span>  </span><br></pre></td></tr></table></figure>
<h3 id="向量和矩阵的范数"><a class="header-anchor" href="#向量和矩阵的范数">¶</a>向量和矩阵的范数</h3>
<p>矩阵或向量的范数用来度量矩阵或向量在某种意义下的长度。</p>
<h4 id="向量的3种常用范数"><a class="header-anchor" href="#向量的3种常用范数">¶</a>向量的3种常用范数</h4>
<ul>
<li>
<p>向量1——范数:向量元素的绝对值之和。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814155917.png" alt="image-20200814155915318"></p>
</li>
<li>
<p>向量2——范数:向量元素绝对值的平方和的平方根。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814155932.png" alt="image-20200814155931635"></p>
</li>
<li>
<p>向量∞——范数:所有向量元素绝对值中的最大值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814155948.png" alt="image-20200814155947134"></p>
</li>
</ul>
<p>在MATLAB中，求向量范数的函数为:</p>
<ul>
<li>norm(V)或norm(V,2): 计算向量V的2——范数。</li>
<li>norm(V,1): 计算向量V的1——范数。</li>
<li>norm(V,inf): 计算向量V的∞——范数。</li>
</ul>
<p>从属于3种向量范数，矩阵范数计算公式如下。</p>
<ul>
<li>
<p>矩阵A的1——范数:矩阵列元素绝对值之和的最大值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814160554.png" alt="image-20200814160553474"></p>
</li>
<li>
<p>矩阵A的2——范数: A’A矩阵的最大特征值的平方根。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814160610.png" alt="image-20200814160608837"></p>
<blockquote>
<p>其中λ1为A’A的最大特征值。</p>
</blockquote>
</li>
<li>
<p>矩阵A的∞——范数:所有矩阵行元素绝对值之和的最大值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814160713.png" alt="image-20200814160711963"></p>
</li>
</ul>
<h4 id="矩阵的范数"><a class="header-anchor" href="#矩阵的范数">¶</a>矩阵的范数</h4>
<p>MATLAB提供了求3种矩阵范数的函数，其函数调用格式与求向量的范数的函数完全相同。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">2</span> <span class="number">0</span> <span class="number">1</span>;<span class="number">-1</span> <span class="number">1</span> <span class="number">0</span>;<span class="number">-3</span> <span class="number">3</span> <span class="number">0</span>];</span><br><span class="line">&gt;&gt; n=norm(x)</span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">    <span class="number">5909</span>/<span class="number">1251</span>  </span><br><span class="line"></span><br><span class="line">&gt;&gt; n=norm(x,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">       <span class="number">6</span>     </span><br></pre></td></tr></table></figure>
<h3 id="矩阵的条件数"><a class="header-anchor" href="#矩阵的条件数">¶</a>矩阵的条件数</h3>
<ul>
<li>矩阵A的条件数等于A的范数与A的逆矩阵的范数的乘积。</li>
<li>条件数越接近于1，矩阵的性能越好，反之，矩阵的性能越差。</li>
</ul>
<p>在MATLAB中，计算矩阵A的3种条件数的函数是:</p>
<ul>
<li>cond(A,1): 计算A的1——范数下的条件数。</li>
<li>cond(A)或cond(A,2): 计算A的2——范数下的条件数。</li>
<li>cond(A,inf): 计算A的∞——范数下的条件数。</li>
</ul>
<p>ex:求2~10阶希尔伯特矩阵的条件数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> n=<span class="number">2</span>:<span class="number">10</span></span><br><span class="line">    c(n)=cond(<span class="built_in">hilb</span>(n));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">format long</span><br><span class="line">c&#x27;</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0e+13</span> *</span><br><span class="line"></span><br><span class="line">                   <span class="number">0</span></span><br><span class="line">   <span class="number">0.000000000001928</span></span><br><span class="line">   <span class="number">0.000000000052406</span></span><br><span class="line">   <span class="number">0.000000001551374</span></span><br><span class="line">   <span class="number">0.000000047660725</span></span><br><span class="line">   <span class="number">0.000001495105864</span></span><br><span class="line">   <span class="number">0.000047536735674</span></span><br><span class="line">   <span class="number">0.001525757555589</span></span><br><span class="line">   <span class="number">0.049315409793086</span></span><br><span class="line">   <span class="number">1.602519837209610</span></span><br></pre></td></tr></table></figure>
<h2 id="矩阵的特征值与特征向量"><a class="header-anchor" href="#矩阵的特征值与特征向量">¶</a>矩阵的特征值与特征向量</h2>
<h3 id="矩阵特征值的数学定义"><a class="header-anchor" href="#矩阵特征值的数学定义">¶</a>矩阵特征值的数学定义</h3>
<p>设A是n阶方阵，如果存在常数λ和n维非零列向量x，使得等式Ax= λ x成立，则称λ为A的特征值，是对应特征值λ的特征向量。</p>
<h3 id="求矩阵的特征值与特征向量"><a class="header-anchor" href="#求矩阵的特征值与特征向量">¶</a>求矩阵的特征值与特征向量</h3>
<p>函数调用格式有两种:</p>
<ul>
<li>E=eig(A) :求矩阵A的全部特征值，构成向量E。</li>
<li>[X,D]=eig(A) :求矩阵A的全部<strong>特征值</strong>，构成对角阵D,并产生矩阵X，X各列是相应的<strong>特征向量</strong>。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">1</span> <span class="number">0</span>;<span class="number">1</span> <span class="number">0</span> <span class="number">5</span>;<span class="number">1</span> <span class="number">10</span> <span class="number">2</span>];</span><br><span class="line">&gt;&gt; [X,D]=eig(A)</span><br><span class="line"></span><br><span class="line">X =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.072196186226992</span>   <span class="number">0.975064063761619</span>   <span class="number">0.088619224195265</span></span><br><span class="line">   <span class="number">0.523368974057523</span>  <span class="number">-0.075013465822402</span>  <span class="number">-0.635606218080313</span></span><br><span class="line">   <span class="number">0.849042182514069</span>  <span class="number">-0.208861321230112</span>   <span class="number">0.766910274178584</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">D =</span><br><span class="line"></span><br><span class="line">   <span class="number">8.249260679947780</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>   <span class="number">0.923068166892526</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>  <span class="number">-6.172328846840312</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A*X(:,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.595565160284515</span></span><br><span class="line">   <span class="number">4.317407098797336</span></span><br><span class="line">   <span class="number">7.003970291830360</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; D(<span class="number">1</span>)*X(:,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.595565160284514</span></span><br><span class="line">   <span class="number">4.317407098797333</span></span><br><span class="line">   <span class="number">7.003970291830354</span></span><br></pre></td></tr></table></figure>
<p>ex:设</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212852.png" alt="image-20200814162922537"></p>
<p>又设λi为R的特征值，λi为S的特征值，x= ( <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">1</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\alpha2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">2</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">\alpha3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">3</span></span></span></span>)'是R对应于hi的特征向量，yj= ( β1, βB2) '是S对应于hj的特征向量，试验证:<br>
(1) <em>λ</em>i、<em>λ</em>j为A的特征值。<br>
(2) pi=  ( <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">1</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\alpha2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">2</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">\alpha3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord">3</span></span></span></span>,0,0) '是A对应于<em>λ</em>i的特征向量，qj= (0,0,0, β1, β2) '是A对应于λj的特征向量。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">R=[<span class="number">-1</span>,<span class="number">2</span>,<span class="number">0</span>;<span class="number">2</span>,<span class="number">-4</span>,<span class="number">1</span>;<span class="number">1</span>,<span class="number">1</span>,<span class="number">-6</span>];</span><br><span class="line">S=[<span class="number">1</span>,<span class="number">2</span>;<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">A=[R,<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">2</span>);<span class="built_in">zeros</span>(<span class="number">2</span>,<span class="number">3</span>),S];</span><br><span class="line">[X1,d1]=eig(R)</span><br><span class="line">[X2,d2]=eig(S)</span><br><span class="line">[X3,d3]=eig(A)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.855336847706575</span>   <span class="number">0.451748808798346</span>   <span class="number">0.189889692402449</span></span><br><span class="line">   <span class="number">0.470284611344323</span>  <span class="number">-0.839453879712591</span>  <span class="number">-0.511105640718618</span></span><br><span class="line">   <span class="number">0.217327543786097</span>  <span class="number">-0.302059923830942</span>   <span class="number">0.838279743728139</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.099647729675864</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>  <span class="number">-4.716463058067783</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>  <span class="number">-6.383184671608076</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X2 =</span><br><span class="line"></span><br><span class="line">  <span class="number">-0.850650808352040</span>   <span class="number">0.525731112119133</span></span><br><span class="line">   <span class="number">0.525731112119133</span>   <span class="number">0.850650808352040</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d2 =</span><br><span class="line"></span><br><span class="line">  <span class="number">-0.236067977499790</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>   <span class="number">4.236067977499790</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X3 =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.855336847706575</span>   <span class="number">0.451748808798346</span>   <span class="number">0.189889692402449</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">   <span class="number">0.470284611344323</span>  <span class="number">-0.839453879712591</span>  <span class="number">-0.511105640718618</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">   <span class="number">0.217327543786097</span>  <span class="number">-0.302059923830942</span>   <span class="number">0.838279743728139</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>  <span class="number">-0.850650808352040</span>  <span class="number">-0.525731112119133</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>   <span class="number">0.525731112119133</span>  <span class="number">-0.850650808352040</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d3 =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.099647729675864</span>                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>  <span class="number">-4.716463058067783</span>                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>  <span class="number">-6.383184671608076</span>                   <span class="number">0</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>  <span class="number">-0.236067977499790</span>                   <span class="number">0</span></span><br><span class="line">                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>                   <span class="number">0</span>   <span class="number">4.236067977499790</span></span><br></pre></td></tr></table></figure>
<h3 id="特征值的几何意义"><a class="header-anchor" href="#特征值的几何意义">¶</a>特征值的几何意义</h3>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814170219.png" alt="image-20200814170216676"></p>
<p>MATLAB提供了一个eigshow函数， 可以演示单位圆.上的向量x和Ax之间的关系，其运行画面如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814170404.png" alt="image-20200814170402647"></p>
<p>ex:已知大写字母M的各个结点坐标如表所示。</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0</th>
<th>0.5</th>
<th>0.5</th>
<th>3</th>
<th>5.5</th>
<th>5.5</th>
<th>6</th>
<th>6</th>
<th>3</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<td>y</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>8</td>
<td>1</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>(1)绘制M的图形。<br>
(2)设<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814170708.png" alt="image-20200814170706706"> ，用A对M的结点坐标进行变换，并绘制变换后的图形。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=[<span class="number">0</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">3</span>,<span class="number">5.5</span>,<span class="number">5.5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">8</span>];</span><br><span class="line">A=[<span class="number">1</span>,<span class="number">0.5</span>;<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">y=A*x;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">fill(x(<span class="number">1</span>,:),x(<span class="number">2</span>,:),<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">fill(y(<span class="number">1</span>,:),y(<span class="number">2</span>,:),<span class="string">&#x27;r&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814170822.png" alt="image-20200814170821221"></p>
<h2 id="稀疏矩阵"><a class="header-anchor" href="#稀疏矩阵">¶</a>稀疏矩阵</h2>
<ul>
<li>矩阵的存储方式</li>
<li>稀疏存储方式的产生.</li>
<li>稀疏矩阵的应用实例</li>
</ul>
<h3 id="矩阵的存储方式"><a class="header-anchor" href="#矩阵的存储方式">¶</a>矩阵的存储方式</h3>
<ul>
<li>完全存储方式</li>
<li>稀疏存储方式</li>
</ul>
<p>稀疏存储方式只存储矩阵的非零元素的值及其位置，即行号和列号。</p>
<blockquote>
<p>注意，采用稀疏存储方式时，矩阵元素的存储顺序并没有改变，也是按列的顺序进行存储。</p>
</blockquote>
<h3 id="稀疏存储方式的产生"><a class="header-anchor" href="#稀疏存储方式的产生">¶</a>稀疏存储方式的产生</h3>
<h4 id="完全存储方式与稀疏存储方式之间的转化"><a class="header-anchor" href="#完全存储方式与稀疏存储方式之间的转化">¶</a>完全存储方式与稀疏存储方式之间的转化</h4>
<ul>
<li>A=sparse(S): 将矩阵S转化为稀疏存储方式的矩阵A。</li>
<li>S=ful(A): 将矩阵A转化为完全存储方式的矩阵S。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=sparse(<span class="built_in">eye</span>(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   (<span class="number">1</span>,<span class="number">1</span>)        <span class="number">1</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">2</span>)        <span class="number">1</span></span><br><span class="line">   (<span class="number">3</span>,<span class="number">3</span>)        <span class="number">1</span></span><br><span class="line">   (<span class="number">4</span>,<span class="number">4</span>)        <span class="number">1</span></span><br><span class="line">   (<span class="number">5</span>,<span class="number">5</span>)        <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B=full(A)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; whos</span><br><span class="line">  Name      Size            Bytes  Class     Attributes</span><br><span class="line"></span><br><span class="line">  A         <span class="number">5</span>x5               <span class="number">128</span>  double    sparse    </span><br><span class="line">  B         <span class="number">5</span>x5               <span class="number">200</span>  double            </span><br></pre></td></tr></table></figure>
<blockquote>
<p>所占的存储空间不一样</p>
</blockquote>
<h4 id="直接建立稀疏存储矩阵"><a class="header-anchor" href="#直接建立稀疏存储矩阵">¶</a>直接建立稀疏存储矩阵</h4>
<p>sparse函数的其他调用格式:</p>
<ul>
<li>sparse(m,n):生成一个m x n的所有元素都是零的稀疏矩阵。</li>
<li>sparse(u,v,S):其中u、v、S是3个等长的向量。S是要建立的稀疏存储矩阵的非零元素，u(i)、 v(i)分别是S(i)的行和列下标。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   (<span class="number">2</span>,<span class="number">1</span>)        <span class="number">5</span></span><br><span class="line">   (<span class="number">1</span>,<span class="number">2</span>)        <span class="number">4</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">4</span>)       <span class="number">-7</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B=full(A)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">4</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">5</span>     <span class="number">0</span>     <span class="number">0</span>    <span class="number">-7</span></span><br></pre></td></tr></table></figure>
<p>使用spconvert函数直接建立稀疏存储矩阵，其调用格式为:<br>
B=spconvert(A)</p>
<p>A为一个m x 3或m x 4的矩阵，其每行表示一个非零元素，m是非零元素的个数。</p>
<p>●Ali,1)表示第i个非零元素所在的行。<br>
●Ali,2)表示第i个非零元素所在的列。<br>
●Ali,3)表示第i个非零元素值的实部。<br>
●A(i,4)表示第i个非零元素值的虚部。<br>
若矩阵的全部元素都是实数，则无须第4列。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">2</span> <span class="number">2</span> <span class="number">1</span>;<span class="number">2</span> <span class="number">1</span> <span class="number">-1</span>;<span class="number">2</span> <span class="number">4</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     <span class="number">2</span>     <span class="number">2</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">2</span>     <span class="number">1</span>    <span class="number">-1</span></span><br><span class="line">     <span class="number">2</span>     <span class="number">4</span>     <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B=spconvert(A)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">   (<span class="number">2</span>,<span class="number">1</span>)       <span class="number">-1</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">2</span>)        <span class="number">1</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">4</span>)        <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="带状稀疏矩阵的稀疏存储"><a class="header-anchor" href="#带状稀疏矩阵的稀疏存储">¶</a>带状稀疏矩阵的稀疏存储</h4>
<p>稀疏矩阵有两种基本类型:无规则结构的稀疏矩阵与有规则结构的稀疏矩阵。<br>
<font color="red"><strong>带状稀疏矩阵</strong></font>是指所有非零元素集中在对角线上的矩阵。</p>
<ul>
<li>[B,d]=spdiags(A):从带状稀疏矩阵A中提取全部非零对角线元素赋给矩阵B及其这些非零对角线的位置向量d。</li>
<li>A=spdiags(B,d,m,n):产生带状稀疏矩阵的稀疏存储矩阵A,其中m、n为原带状稀疏矩阵的行数与列数，矩阵B的第i列即为原带状稀疏矩阵的第i条非零对角线，向量d为原带状稀疏矩阵所有非零对角线的位置。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">11</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">21</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">22</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">0</span>,<span class="number">31</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">32</span>;<span class="number">41</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">42</span>,<span class="number">0</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">51</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">52</span>,<span class="number">0</span>];</span><br><span class="line">&gt;&gt; [B,d]=spdiags(A)</span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>    <span class="number">11</span>    <span class="number">12</span></span><br><span class="line">     <span class="number">0</span>    <span class="number">21</span>    <span class="number">22</span></span><br><span class="line">     <span class="number">0</span>    <span class="number">31</span>    <span class="number">32</span></span><br><span class="line">    <span class="number">41</span>    <span class="number">42</span>     <span class="number">0</span></span><br><span class="line">    <span class="number">51</span>    <span class="number">52</span>     <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d =</span><br><span class="line"></span><br><span class="line">    <span class="number">-3</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">     <span class="number">3</span></span><br><span class="line">&gt;&gt; A=spdiags(B,d,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">   (<span class="number">1</span>,<span class="number">1</span>)       <span class="number">11</span></span><br><span class="line">   (<span class="number">4</span>,<span class="number">1</span>)       <span class="number">41</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">2</span>)       <span class="number">21</span></span><br><span class="line">   (<span class="number">5</span>,<span class="number">2</span>)       <span class="number">51</span></span><br><span class="line">   (<span class="number">3</span>,<span class="number">3</span>)       <span class="number">31</span></span><br><span class="line">   (<span class="number">1</span>,<span class="number">4</span>)       <span class="number">12</span></span><br><span class="line">   (<span class="number">4</span>,<span class="number">4</span>)       <span class="number">42</span></span><br><span class="line">   (<span class="number">2</span>,<span class="number">5</span>)       <span class="number">22</span></span><br><span class="line">   (<span class="number">5</span>,<span class="number">5</span>)       <span class="number">52</span></span><br><span class="line">   (<span class="number">3</span>,<span class="number">6</span>)       <span class="number">32</span></span><br></pre></td></tr></table></figure>
<h4 id="单位矩阵的稀疏存储"><a class="header-anchor" href="#单位矩阵的稀疏存储">¶</a>单位矩阵的稀疏存储</h4>
<p>speye(m,n)返回一个m x n的稀疏存储单位矩阵。</p>
<h3 id="稀疏矩阵应用举例"><a class="header-anchor" href="#稀疏矩阵应用举例">¶</a>稀疏矩阵应用举例</h3>
<p>求下列三对角线性方程组的解。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200814174155.png" alt="image-20200814173453009"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; kf1=[<span class="number">1</span>;<span class="number">1</span>;<span class="number">2</span>;<span class="number">1</span>;<span class="number">0</span>];</span><br><span class="line">&gt;&gt; k0=[<span class="number">2</span>;<span class="number">4</span>;<span class="number">6</span>;<span class="number">6</span>;<span class="number">1</span>];</span><br><span class="line">&gt;&gt; k1=[<span class="number">0</span>;<span class="number">3</span>;<span class="number">1</span>;<span class="number">4</span>;<span class="number">2</span>];</span><br><span class="line">&gt;&gt; B=[kf1,k0,k1];</span><br><span class="line">&gt;&gt; d=[<span class="number">-1</span>;<span class="number">0</span>;<span class="number">1</span>];</span><br><span class="line">&gt;&gt; A=spdiags(B,d,<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">&gt;&gt; f=[<span class="number">0</span>;<span class="number">3</span>;<span class="number">2</span>;<span class="number">1</span>;<span class="number">5</span>];</span><br><span class="line">&gt;&gt; x=A\f</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">  <span class="number">-0.166666666666667</span></span><br><span class="line">   <span class="number">0.111111111111111</span></span><br><span class="line">   <span class="number">2.722222222222222</span></span><br><span class="line">  <span class="number">-3.611111111111111</span></span><br><span class="line">   <span class="number">8.611111111111111</span></span><br></pre></td></tr></table></figure>
<h1>MATLAB程序流程控制</h1>
<h2 id="顺序结构程序"><a class="header-anchor" href="#顺序结构程序">¶</a>顺序结构程序</h2>
<h3 id="程序和程序设计"><a class="header-anchor" href="#程序和程序设计">¶</a>程序和程序设计</h3>
<p>什么叫程序?<br>
程序是用某种计算机能够理解并且能够执行的语言来描述的解决问题的方法和步骤。</p>
<p>程序设计的基本步骤：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200815210426.png" alt="image-20200815210418505"></p>
<h3 id="程序的三种基本结构"><a class="header-anchor" href="#程序的三种基本结构">¶</a>程序的三种基本结构</h3>
<ul>
<li>顺序结构</li>
<li>选择结构</li>
<li>循环结构</li>
</ul>
<h3 id="脚本文件和函数文件"><a class="header-anchor" href="#脚本文件和函数文件">¶</a>脚本文件和函数文件</h3>
<ul>
<li>脚本文件是可以在命令行窗口直接执行的文件，也叫命令文件。</li>
<li>函数文件是定义一个函数，不能直接执行，而必须以函数调用的方式来调用它。</li>
</ul>
<h3 id="文件的建立"><a class="header-anchor" href="#文件的建立">¶</a>文件的建立</h3>
<ul>
<li>
<p>用命令按钮创建文件。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200815232458.png" alt="image-20200815232456459"></p>
</li>
<li>
<p>用edit命令创建文件。</p>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; edit test</span><br></pre></td></tr></table></figure>
<p>ex:分别建立脚本文件和函数文件,求两个矩阵的乘积。</p>
<ul>
<li>建立脚本文件f1.m。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">B=[<span class="number">1</span>,<span class="number">2</span>;<span class="number">3</span>,<span class="number">4</span>;<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">C=A*B</span><br></pre></td></tr></table></figure>
<ul>
<li>在命令行窗口运行脚本文件。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt;f1</span><br><span class="line">C = </span><br><span class="line">   <span class="number">22</span>   <span class="number">28</span></span><br><span class="line">   <span class="number">49</span>   <span class="number">64</span></span><br></pre></td></tr></table></figure>
<ul>
<li>建立函数文件f2.m。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span>=<span class="title">f2</span><span class="params">(A,B)</span></span></span><br><span class="line">C=A*B;</span><br></pre></td></tr></table></figure>
<ul>
<li>在命令行窗C ]调用函数文件。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">&gt;&gt; B=[<span class="number">1</span>,<span class="number">2</span>;<span class="number">3</span>,<span class="number">4</span>;<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">C=</span><br><span class="line">   <span class="number">22</span>   <span class="number">28</span></span><br><span class="line">   <span class="number">49</span>   <span class="number">64</span></span><br></pre></td></tr></table></figure>
<h3 id="顺序结构"><a class="header-anchor" href="#顺序结构">¶</a>顺序结构</h3>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200815233530.png" alt="image-20200815233529301"></p>
<h4 id="数据的输入"><a class="header-anchor" href="#数据的输入">¶</a>数据的输入</h4>
<p>A=input(提示信息，选项);</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt; A=input(<span class="string">&#x27;请输入变量A的值:&#x27;</span>);</span><br><span class="line">请输入变量A的值: <span class="number">100</span></span><br></pre></td></tr></table></figure>
<h4 id="数据的输出"><a class="header-anchor" href="#数据的输出">¶</a>数据的输出</h4>
<p>disp(输出项);</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; s=<span class="string">&#x27;Hello,World&#x27;</span>;</span><br><span class="line">&gt;&gt; <span class="built_in">disp</span>(s)</span><br><span class="line">Hello,World</span><br><span class="line">&gt;&gt; a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">disp</span>(a)</span><br><span class="line">   <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line">   <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h4 id="程序的暂停"><a class="header-anchor" href="#程序的暂停">¶</a>程序的暂停</h4>
<p>pause(延迟秒数)<br>
若要强行中止程序的运行可使用Ctrl+C命令。</p>
<blockquote>
<p>若是省略秒数，直到用户按任意键才会继续执行程序</p>
</blockquote>
<ul>
<li>输入原始数据</li>
<li>对原始数据进行处理</li>
<li>输出处理结果</li>
</ul>
<p>ex:有一-线段AB，A的坐标为(1，1)， B的坐标为(4.5，4.5)， 求AB的长度，以及黄金分割点C的坐标。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200815234529.png" alt="image-20200815234527741"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200815234737.png" alt="image-20200815234735398"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">a=input(<span class="string">&#x27;a=);</span></span><br><span class="line"><span class="string">b=input(&quot;b=&#x27;</span>);</span><br><span class="line">c=a+<span class="number">0.618</span>*(b-a);</span><br><span class="line">s=<span class="built_in">abs</span>(a-b);</span><br><span class="line"><span class="built_in">disp</span>(s)</span><br><span class="line"><span class="built_in">disp</span>(c)</span><br><span class="line"></span><br><span class="line">输出结果为:</span><br><span class="line">a=<span class="number">1</span> +<span class="built_in">i</span></span><br><span class="line">b=<span class="number">4.5</span>+<span class="number">4.5</span><span class="built_in">i</span></span><br><span class="line">  <span class="number">4.9497</span></span><br><span class="line">  <span class="number">3.1630</span> + <span class="number">3.1630</span><span class="built_in">i</span></span><br></pre></td></tr></table></figure>
<h2 id="选择结构程序"><a class="header-anchor" href="#选择结构程序">¶</a>选择结构程序</h2>
<h3 id="用if语句实现选择结构"><a class="header-anchor" href="#用if语句实现选择结构">¶</a>用if语句实现选择结构</h3>
<h4 id="什么是选择结构"><a class="header-anchor" href="#什么是选择结构">¶</a>什么是选择结构?</h4>
<p>选择结构又称为分支结构，是根据给定的条件是否成立来决定程序的执行流程。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816100723.png" alt="image-20200816100721041"></p>
<ul>
<li>用if语句实现选择结构</li>
<li>用switch语句实现选择结构</li>
</ul>
<h4 id="单分支if语句"><a class="header-anchor" href="#单分支if语句">¶</a>单分支if语句</h4>
<p>语句格式:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">if 条件</span><br><span class="line"><span class="code">    语句组</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>条件：关系运算或逻辑运算<br>
语句组：可以是一条语句,也可以是多条语句</p>
</blockquote>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816101231.png" alt="image-20200816101230060"></p>
<ul>
<li>
<p>当条件结果为标量时，<strong>非零</strong>表示条件成立，<strong>零</strong>表示条件不成立。</p>
</li>
<li>
<p>当条件结果为矩阵时，如果矩阵为非空，且不包含零元素，则条件成立，否则不成立。</p>
</li>
</ul>
<blockquote>
<p>例如，[1,2;0,4]表示条件时，条件不成立; [1,2;3,4]表示条件时,条件成立。</p>
</blockquote>
<h4 id="双分支if语句"><a class="header-anchor" href="#双分支if语句">¶</a>双分支if语句</h4>
<p>语句格式:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">if条件</span><br><span class="line"><span class="code">    语句组1</span></span><br><span class="line"><span class="code">else</span></span><br><span class="line"><span class="code">    语句组2</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816102148.png" alt="image-20200816102145334"></p>
<p>ex:输入一个整数，若为奇数则输出其平方根，否则输出其立方根。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=input(<span class="string">&#x27;请输入x的值:&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">rem</span>(x,<span class="number">2</span>)== <span class="number">1</span></span><br><span class="line">   y=<span class="built_in">sqrt</span>(x);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   y=x^(<span class="number">1</span>/<span class="number">3</span>); .</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">y</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>rem(x,2)==1可等价写成rem(x,2)<br>
x(1/3)可等价写成power(x,1/3)</p>
</blockquote>
<h4 id="多分支if语句"><a class="header-anchor" href="#多分支if语句">¶</a>多分支if语句</h4>
<p>语句格式:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">if 条件1</span><br><span class="line"><span class="code">     语句组1</span></span><br><span class="line"><span class="code">elseif 条件2</span></span><br><span class="line"><span class="code">     语句组2</span></span><br><span class="line"><span class="code">     ···</span></span><br><span class="line"><span class="code">elseif 条件m</span></span><br><span class="line"><span class="code">     语句组m</span></span><br><span class="line"><span class="code">else</span></span><br><span class="line"><span class="code">    语句组n</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816102644.png" alt="image-20200816102641792"></p>
<blockquote>
<p>在多分支if语句中不管有几个分支，程序执行完一个分支后，其余分支将不会再执行，这时整个if语句结束。</p>
</blockquote>
<p>ex:  输入一个字符，若为大写字母，则输出其对应的小写字母;若为小写字母，则输出其对应的大写字母;若为数字字符则输出其对应数的平方，若为其他字符则原样输出。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">c=input(<span class="string">&#x27;请输入一个字符: &#x27;</span>,<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> c&gt;=<span class="string">&#x27;A&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;Z&#x27;</span></span><br><span class="line"><span class="built_in">disp</span>(lower(c))</span><br><span class="line"><span class="keyword">elseif</span> c&gt;=<span class="string">&#x27;a&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="built_in">disp</span>(upper(c))</span><br><span class="line"><span class="keyword">elseif</span> c&gt;=<span class="string">&#x27;0&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;9&#x27;</span></span><br><span class="line"><span class="built_in">disp</span>(str2double(c)^<span class="number">2</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">disp</span>(c)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>'s’表示以字符串形式接受用户的输入<br>
lower函数：将大写字母转换为相应的小写字母<br>
upper函数：将小写字母转换成相应的大写字母<br>
str2double函数：将字符串转换成数值</p>
</blockquote>
<h3 id="用switch语句实现选择结构"><a class="header-anchor" href="#用switch语句实现选择结构">¶</a>用switch语句实现选择结构</h3>
<h4 id="switch语句的格式"><a class="header-anchor" href="#switch语句的格式">¶</a>switch语句的格式</h4>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">switch 表达式</span><br><span class="line">  case 结果表1</span><br><span class="line"><span class="code">    语句组1</span></span><br><span class="line"><span class="code">  case 结果表2</span></span><br><span class="line"><span class="code">    语句组2</span></span><br><span class="line"><span class="code">    ···</span></span><br><span class="line"><span class="code">  case 结果表m</span></span><br><span class="line"><span class="code">    语句组m</span></span><br><span class="line"><span class="code">  otherwise</span></span><br><span class="line"><span class="code">    语句组n</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816104158.png" alt="image-20200816104156964"></p>
<ul>
<li>switch表达式应该是一个其值可以列举的表达式。</li>
<li>case结果表为switch表达式的取值，当取值有多个时，用单元数<br>
据表示。</li>
</ul>
<p>ex:输入一个英文单词，判断它是否以元音字母开头。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">c=input(<span class="string">&#x27;请输入一个单词: &#x27;</span>,<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"><span class="keyword">switch</span> c(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">case</span> &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;I&#x27;&#x27;O&#x27;</span>,<span class="string">&#x27;U&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;u&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">disp</span>([c,<span class="string">&#x27;以元音字母开头&#x27;</span>]);</span><br><span class="line"><span class="keyword">otherwise</span></span><br><span class="line"><span class="built_in">disp</span>([c,<span class="string">&#x27;以辅音字母开头&#x27;</span>]);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">c=input(<span class="string">&#x27;请输入一个单词: &#x27;</span>,<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> strfind(c(<span class="number">1</span>),<span class="string">&#x27;AEIOUaeiou&#x27;</span>)&gt;<span class="number">0</span></span><br><span class="line"><span class="built_in">disp</span>([c,<span class="string">&#x27;以元音字母开头&#x27;</span>]);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">disp</span>([c,<span class="string">&#x27;以辅音字母开头&#x27;</span>]);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>ex:例2 PM2. 5是指大气中直径小于或等于2.5微米的可入肺颗粒物，是衡量空气质量的重要指标。假定空气质量等级以PM2.5数值划分为6级。<br>
PM2.5数值在[0，35)空气气质量为优，[35，75)为良，[75，115 )为轻度污染，[115， 150)为中度污染，[150， 250) 为重度污染,大于等于250为严重污染。<br>
编写程序，输入PM2.5数值，输出空气质量等级。</p>
<ul>
<li>用六个单分支结构实现</li>
<li>用多分支if语句实现</li>
<li>用switch语句实现</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">g=input(<span class="string">&#x27;请输入PM2.5值: &#x27;</span>);</span><br><span class="line"><span class="keyword">switch</span> <span class="built_in">fix</span>(g)</span><br><span class="line"><span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">0</span>:<span class="number">34</span>)</span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量优&#x27;</span>);</span><br><span class="line"><span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">35</span>:<span class="number">74</span>)</span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量良好&#x27;</span>); </span><br><span class="line"><span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">75</span>:<span class="number">114</span>)</span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量轻度污染&#x27;</span>);</span><br><span class="line"><span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">115</span>:<span class="number">149</span>)</span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量中度污染&#x27;</span>);</span><br><span class="line"><span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">150</span>:<span class="number">249</span>)</span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量重度污染&#x27;</span>);</span><br><span class="line"><span class="keyword">otherwise</span></span><br><span class="line">   <span class="built_in">disp</span>(<span class="string">&#x27;空气质量严重污染&#x27;</span>); </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>num2cell函数：将数值矩阵转换成单元矩阵</p>
</blockquote>
<h2 id="循环结构程序"><a class="header-anchor" href="#循环结构程序">¶</a>循环结构程序</h2>
<h3 id="什么是循环结构"><a class="header-anchor" href="#什么是循环结构">¶</a>什么是循环结构?</h3>
<p>循环结构又称为重复结构，是利用计算机运算速度快以及能进行逻辑控制的特点来重复执行某些操作。</p>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816112840.png" alt="image-20200816112838938"></p>
<h3 id="用for语句实现循环结构"><a class="header-anchor" href="#用for语句实现循环结构">¶</a>用for语句实现循环结构</h3>
<h4 id="for语句"><a class="header-anchor" href="#for语句">¶</a>for语句</h4>
<p>格式:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">for 循环变量=表达式1:表达式2:表达式3   %初值|步长|终值%</span><br><span class="line"><span class="code">    循环体语句  %重复执行的语句%</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816114109.png" alt="image-20200816113228653"></p>
<p>说明:</p>
<ul>
<li>for语句针对向量的每一个元素执行一 次循环体。</li>
<li>退出循环之后，循环变量的值就是向量中最后的元素值。</li>
<li>当向量为空时，循环体一次也不执行。</li>
</ul>
<p>ex:计算圆周率π</p>
<p>(1)利用无穷级数展开式求π的近似值。</p>
<ul>
<li>
<p>这是求n个数之和的累加问题，可用以下递推式来描述:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212437.png" alt="image-20200816113638006"></p>
</li>
<li>
<p>可用以下赋值语句来实现。</p>
<p>y=y+f</p>
</li>
<li>
<p>累加项f的符号可用以下赋值语句来实现(每循环一次反号一 次)<br>
g=-g</p>
</li>
<li>
<p>累加项f就可用以下赋值语句来实现。</p>
<p><code>f=g*1/(2*i-1)</code></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816114103.png" alt="image-20200816114102769"></p>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">y=<span class="number">0</span>; </span><br><span class="line">g=<span class="number">-1</span>;</span><br><span class="line">n=input(<span class="string">&#x27;n=?&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:n</span><br><span class="line">g=-g;</span><br><span class="line">y=y+g* <span class="number">1</span>/(<span class="number">2</span>*<span class="built_in">i</span><span class="number">-1</span>); </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">pai=<span class="number">4</span>*y</span><br></pre></td></tr></table></figure>
<p>用向量求和的方法实现程序:</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">n=input(<span class="string">&#x27;n=?&#x27;</span>);</span><br><span class="line">x=<span class="number">1</span>:<span class="number">2</span>:(<span class="number">2</span>*n<span class="number">-1</span>);</span><br><span class="line">y=(<span class="number">-1</span>).^(<span class="number">2</span>:n+<span class="number">1</span>)./x;</span><br><span class="line">pai=sum(y)*<span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>(2)利用定积分的近似值求π的近似值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212423.png" alt="image-20200816114949511"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816143239.png" alt="image-20200816143236999"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">a=<span class="number">0</span>;</span><br><span class="line">b=<span class="number">1</span>;</span><br><span class="line">n=input(<span class="string">&#x27;n=?&#x27;</span>);</span><br><span class="line">h=(b-a)/n;</span><br><span class="line">x=a:h:b;</span><br><span class="line">f=<span class="built_in">sqrt</span>(<span class="number">1</span>-x.*x);</span><br><span class="line">s=[];</span><br><span class="line"><span class="keyword">for</span> k=<span class="number">1</span>:n</span><br><span class="line">   s1=(f(k)+f(k+<span class="number">1</span>))*h/<span class="number">2</span>;</span><br><span class="line">   s=[s,s1];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">pai=<span class="number">4</span> *sum(s) </span><br></pre></td></tr></table></figure>
<p>(3)利用蒙特卡洛法求π的近似值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816150444.png" alt="image-20200816145725433"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">s=<span class="number">0</span>;</span><br><span class="line">n=input(<span class="string">&#x27;n=?&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:n</span><br><span class="line">    x=<span class="built_in">rand</span>(<span class="number">1</span>);</span><br><span class="line">    y=<span class="built_in">rand</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> x*x+y*y&lt;=<span class="number">1</span></span><br><span class="line">        s=s+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">pai=s/n*<span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>按照MATLAB的定义，for语句的循环变量也可以是一个列向量，其格式为:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">for 循环变量=矩阵表达式</span><br><span class="line"><span class="code">    循环体语句</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<h3 id="用while语句实现循环结构"><a class="header-anchor" href="#用while语句实现循环结构">¶</a>用while语句实现循环结构</h3>
<p>格式：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">while 条件</span><br><span class="line"><span class="code">    循环体语句</span></span><br><span class="line"><span class="code">end</span></span><br></pre></td></tr></table></figure>
<p>流程图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816160404.png" alt="image-20200816160402909"></p>
<p>ex:  从键盘输入若干个数，当输入0时结束输入，求这些数的平均值和它们之和。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">msum=<span class="number">0</span>;</span><br><span class="line">n=<span class="number">0</span>;</span><br><span class="line">x=input(<span class="string">&#x27;Enter a number(end in 0):&#x27;</span>);</span><br><span class="line"><span class="keyword">while</span> x~=<span class="number">0</span></span><br><span class="line">    msum=msum+x;</span><br><span class="line">    n=n+<span class="number">1</span>;</span><br><span class="line">    x=input(<span class="string">&#x27;Enter a number(end in 0):&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">if</span> n&gt;<span class="number">0</span></span><br><span class="line">    msum</span><br><span class="line">    <span class="built_in">mean</span>=msum/n</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>while语句多用于循环次数不确定的情况,而对于循环次数确定的情况，使用for语句更方便。</li>
<li>针对不同情况可以选择不同的循环语句，但从功能上讲两种循环语句可以相互替代。</li>
</ul>
<h4 id="break语句和continue语句"><a class="header-anchor" href="#break语句和continue语句">¶</a>break语句和continue语句</h4>
<ul>
<li>break语句用来跳出循环体，结束整个循环。</li>
<li>continue语 句用来结束本次循环，接着进行下一次是否执行循环的判断。</li>
</ul>
<p>ex:求1100，2001之间第一 个能被21整除的整数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> n=<span class="number">100</span>:<span class="number">200</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">rem</span>(n,<span class="number">21</span>)~=<span class="number">0</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    n</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="循环的嵌套"><a class="header-anchor" href="#循环的嵌套">¶</a>循环的嵌套</h4>
<p>如果一个循环结构的循环体又包含一个循环结构，就称为循环的嵌套，或称为多重循环结构。</p>
<p>ex:用筛选法求某自然数范围内的全部素数。</p>
<p>筛选法求素数的基本思想:要找出<code>2~m</code>之间的全部素数，首先在<code>2~m</code>中划去2的倍数(不包括2)，然后划去3的倍数(不包括3)，由于4已被划去，再找5的倍数(不包括5)，····，直到再划去不超过vm的倍数，剩下的就都是素数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">m=input(<span class="string">&#x27;m=&#x27;</span>);</span><br><span class="line">p=<span class="number">1</span>:m;</span><br><span class="line">p(<span class="number">1</span>)=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">2</span>:<span class="built_in">sqrt</span>(m)</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">2</span>*<span class="built_in">i</span>:<span class="built_in">i</span>:m</span><br><span class="line">        p(<span class="built_in">j</span>)=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">n=<span class="built_in">find</span>(p~=<span class="number">0</span>);</span><br><span class="line">p(n)</span><br></pre></td></tr></table></figure>
<h2 id="函数文件的定义与调用"><a class="header-anchor" href="#函数文件的定义与调用">¶</a>函数文件的定义与调用</h2>
<h3 id="函数文件的基本结构"><a class="header-anchor" href="#函数文件的基本结构">¶</a>函数文件的基本结构</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">function  输出形参表=函数名(输入形参表)</span><br><span class="line"><span class="code">     注释说明部分</span></span><br><span class="line"><span class="code">函数体语句</span></span><br><span class="line"><span class="code">当有多个形参时，形参之间用逗号分隔，组成形参表。当输出形参多于一个时，应该用方括号括起来，构成一个输出矩阵。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>函数文件名通常由函数名再加上扩展名.m组成，函数文件名与函数名也可以不相同。</li>
</ul>
<blockquote>
<p>不相同时，matlab将忽略函数名，调用时使用函数文件名</p>
</blockquote>
<ul>
<li>return语句表示结束函数的执行。</li>
</ul>
<p>ex:编写函数文件,求半径为的圆的面积和周长。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[s,p]</span>=<span class="title">fcircle</span><span class="params">(r)</span></span></span><br><span class="line">s=<span class="built_in">pi</span>*r*r;</span><br><span class="line">p=<span class="number">2</span>*<span class="built_in">pi</span>*r;</span><br></pre></td></tr></table></figure>
<h3 id="函数调用"><a class="header-anchor" href="#函数调用">¶</a>函数调用</h3>
<p>调用格式:<br>
[输出实参表]=函数名(输入实参表)<br>
在调用函数时，函数输入输出参数称为实际参数，简称<strong>实参</strong>。</p>
<p>在MATLAB命令行窗C ]调用前面定义的fcircle函数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; [s,p]=fcircle(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">s =</span><br><span class="line"></span><br><span class="line">  <span class="number">314.1593</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">   <span class="number">62.8319</span></span><br></pre></td></tr></table></figure>
<h3 id="匿名函数"><a class="header-anchor" href="#匿名函数">¶</a>匿名函数</h3>
<p>基本格式:<br>
函数句柄变量=@(匿名函数输入参数)匿名函数表达式</p>
<blockquote>
<p>@:函数句柄的运算符</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x,y) x^<span class="number">2</span>+y^<span class="number">2</span></span><br><span class="line"></span><br><span class="line">f = </span><br><span class="line"></span><br><span class="line">    @(x,y)x^<span class="number">2</span>+y^<span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">25</span></span><br></pre></td></tr></table></figure>
<p>函数句柄变量=@函数名</p>
<blockquote>
<p>函数名：内部函数或自定义函数</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; h=@<span class="built_in">sin</span></span><br><span class="line"></span><br><span class="line">h = </span><br><span class="line"></span><br><span class="line">    @<span class="built_in">sin</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; h(<span class="built_in">pi</span>/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>ex:<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816173757.png" alt="image-20200816170950565"></p>
<p>第②问的函数文件f2.m。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">f2</span><span class="params">(n)</span></span></span><br><span class="line">f=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> k=<span class="number">1</span>:n</span><br><span class="line">    f=f+k*(k+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>脚本文件mf.m</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f1=@(n)n+<span class="number">10</span>*<span class="built_in">log</span>(n*n+<span class="number">5</span>)</span><br><span class="line">y1=f1(<span class="number">40</span>)/(f1(<span class="number">30</span>)+f1(<span class="number">20</span>))</span><br><span class="line">y2=f2(<span class="number">40</span>)/(f2(<span class="number">30</span>)+f2(<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<p>调用：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; mf</span><br><span class="line"></span><br><span class="line">f1 = </span><br><span class="line"></span><br><span class="line">    @(n)n+<span class="number">10</span>*<span class="built_in">log</span>(n*n+<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">y1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.6390</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">y2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.7662</span></span><br></pre></td></tr></table></figure>
<h2 id="函数的递归调用"><a class="header-anchor" href="#函数的递归调用">¶</a>函数的递归调用</h2>
<h3 id="函数的嵌套调用"><a class="header-anchor" href="#函数的嵌套调用">¶</a>函数的嵌套调用</h3>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816173701.png" alt="image-20200816172833477"></p>
<h3 id="函数的递归调用-v2"><a class="header-anchor" href="#函数的递归调用-v2">¶</a>函数的递归调用</h3>
<p>一个函数调用它自身称为函数的递归调用。</p>
<blockquote>
<p>递归是把一个大型复杂的问题层层转化为一一个与原问题相似的规模较小的问题来求解。</p>
</blockquote>
<h4 id="直接递归调用"><a class="header-anchor" href="#直接递归调用">¶</a>直接递归调用</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816173657.png" alt="image-20200816173120079"></p>
<h4 id="间接递归调用"><a class="header-anchor" href="#间接递归调用">¶</a>间接递归调用</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816173652.png" alt="image-20200816173141929"></p>
<p>ex:利用函数的递归调用，求n!。</p>
<p>函数文件fact.m如下：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">fact</span><span class="params">(n)</span></span></span><br><span class="line"><span class="keyword">if</span> n&lt;=<span class="number">1</span></span><br><span class="line">    f=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    f=fact (n<span class="number">-1</span>)*n; <span class="comment">%递归调用求(n-1)!</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>在脚本文件a.m中调用函数文件fat.m,求n!。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">n=input(<span class="string">&#x27;Please input n=&#x27;</span>); </span><br><span class="line">s=fact (n);</span><br><span class="line"><span class="built_in">disp</span>(s)</span><br></pre></td></tr></table></figure>
<p>在命令行窗口运行脚本文件:</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt;a </span><br><span class="line">Please input n=<span class="number">3</span></span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816173641.png" alt="image-20200816173640738"></p>
<p>ex:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200816174407.png" alt="image-20200816173931078"></p>
<ul>
<li>首先建立函数文件ffib.m。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">ffib</span><span class="params">(n)</span></span></span><br><span class="line"><span class="keyword">if</span> n&gt;<span class="number">2</span></span><br><span class="line">   f=ffib(n- <span class="number">1</span>)+ffib(n<span class="number">-2</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   f=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>建立脚本文件test.m。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">F=[];</span><br><span class="line"><span class="keyword">for</span> k=<span class="number">1</span>:<span class="number">20</span></span><br><span class="line">	F=[Fffib(k)*ffib(k)];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">sum(F)</span><br><span class="line">ffib(<span class="number">20</span>)*ffib(<span class="number">21</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>运行结果为:</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt;test</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">7</span> <span class="number">4049690</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">7</span> <span class="number">4049690</span></span><br></pre></td></tr></table></figure>
<h2 id="函数参数与变量的作用域"><a class="header-anchor" href="#函数参数与变量的作用域">¶</a>函数参数与变量的作用域</h2>
<h3 id="函数参数的可调性"><a class="header-anchor" href="#函数参数的可调性">¶</a>函数参数的可调性</h3>
<p>nargin————&gt;输入实参的个数<br>
nargout————&gt;输出实参的个数</p>
<p>建立函数文件test.m</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fout</span>=<span class="title">test</span><span class="params">(a,b,c)</span></span></span><br><span class="line"><span class="keyword">if</span> nargin==<span class="number">1</span></span><br><span class="line">	fout=a;</span><br><span class="line"><span class="keyword">elseif</span> nargin==<span class="number">2</span></span><br><span class="line">	fout=a+b;</span><br><span class="line"><span class="keyword">elseif</span> nargin==<span class="number">3</span></span><br><span class="line">	fout=(a*b*c)/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>调用</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; fout=test(<span class="number">2</span>)</span><br><span class="line">fout =</span><br><span class="line">		<span class="number">2</span></span><br><span class="line">&gt;&gt; fout=test(<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">fout =</span><br><span class="line">		<span class="number">6</span></span><br></pre></td></tr></table></figure>
<h3 id="全局变量与局部变量"><a class="header-anchor" href="#全局变量与局部变量">¶</a>全局变量与局部变量</h3>
<ul>
<li><strong>局部变量</strong>是指在程序中只在特定过程或函数中可以访问的变量。</li>
<li><strong>全局变量</strong>的作用域是整个MATLAB工作空间，也就是全程有效，所有的函数都可以对它进行存取和修改。</li>
</ul>
<p>全局变量定义格式:<br>
global    变量名</p>
<p>建立函数文件wad.m。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">wad</span><span class="params">(x,y)</span></span></span><br><span class="line"><span class="keyword">global</span> ALPHA BETA </span><br><span class="line">f=ALPHA*x+BETA*y;</span><br></pre></td></tr></table></figure>
<p>在命令行窗口中输入命令并得到输出结果。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="keyword">global</span> ALPHA BETA</span><br><span class="line">&gt;&gt; ALPHA=<span class="number">1</span>;</span><br><span class="line">&gt;&gt; BETA=<span class="number">2</span>;</span><br><span class="line">&gt;&gt; s=wad(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">S=</span><br><span class="line">	<span class="number">5</span></span><br></pre></td></tr></table></figure>
<h1>MATLAB绘图</h1>
<h2 id="二维曲线"><a class="header-anchor" href="#二维曲线">¶</a>二维曲线</h2>
<h3 id="plot函数"><a class="header-anchor" href="#plot函数">¶</a>plot函数</h3>
<p>(1) plot函数的基本用法<br>
plot(x, y)<br>
其中，x和y分别用于存储x坐标和y坐标数据。</p>
<p>ex:绘制一条折线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">2.5</span>,<span class="number">3.5</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">&gt;&gt;y=[<span class="number">1.5</span>,<span class="number">2.0</span>,<span class="number">1</span>,<span class="number">1.5</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x, y)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817121937.png" alt="image-20200817121935693"></p>
<p>(2 )最简单的plot函数调用格式<br>
plot(x)</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">1.5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1.5</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817122230.png" alt="image-20200817122229734"></p>
<p>当plot函数的参数x是复数向量时，则分别以该向量元素实部和虚部为横、纵坐标绘制出一条曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">2.5</span>,<span class="number">3.5</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">&gt;&gt; y=[<span class="number">1.5</span>,<span class="number">2.0</span>,<span class="number">1</span>,<span class="number">1.5</span>]; </span><br><span class="line">&gt;&gt; cx=x+y*<span class="built_in">i</span>;  <span class="comment">%cx = complex(x,y);</span></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(cx)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212343.png" alt="image-20200817122718974"></p>
<p>(3) plot(x, y)函数参数的变化形式</p>
<ul>
<li>当x是向量，y是矩阵时
<ul>
<li>如果矩阵y的列数等于x的长度，则以向量x为横坐标，以y的每个<br>
行向量为纵坐标绘制曲线，曲线的条数等于y的行数。</li>
<li>如果矩阵y的行数等于x的长度，则以向量x为横坐标，以y的每个<br>
列向量为纵坐标绘制曲线，曲线的条数等于y的列数。</li>
</ul>
</li>
</ul>
<p>ex:绘制sinx、sin(2x)、 sin(x /2 )的函数曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">&gt;&gt; y=[<span class="built_in">sin</span>(x);<span class="built_in">sin</span>(<span class="number">2</span>*x);<span class="built_in">sin</span>(<span class="number">0.5</span>*x)];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817124053.png" alt="image-20200817124051811"></p>
<ul>
<li>当x、y是同型矩阵时以x、y对应列元素为横、纵坐标分别绘制曲线,曲线条数等于矩阵的列数。</li>
</ul>
<p>重复上例题中实现</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt;t=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">&gt;&gt;t1=t&#x27;;</span><br><span class="line">&gt;&gt;x=[t1,tl,t1];</span><br><span class="line">&gt;&gt;y=[<span class="built_in">sin</span>(t1), <span class="built_in">sin</span>(<span class="number">2</span>*t1), <span class="built_in">sin</span>(<span class="number">0.5</span>*t1)];</span><br><span class="line">&gt;&gt;<span class="built_in">plot</span>(x,y)</span><br></pre></td></tr></table></figure>
<p>(4)含多个输入参数的plot函数<br>
plot(x1, y1, x2, y2, … xn, yn)<br>
其中，每一向量对构成一组数据点的横、纵坐标，绘制一条曲线。</p>
<p>ex:采用不同个数的数据点绘制正弦函数曲线，观察曲线形态。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t1=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">10</span>);</span><br><span class="line">&gt;&gt; t2=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">20</span>);</span><br><span class="line">&gt;&gt; t3=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t1,<span class="built_in">sin</span>(t1),t2,<span class="built_in">sin</span>(t2)+<span class="number">1</span>,t3,<span class="built_in">sin</span>(t3)+<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817124831.png" alt="image-20200817124829945"></p>
<p>(5)含选项的plot函数<br>
plot(x, y,选项)</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817143225.png" alt="image-20200817142128551"></p>
<p>ex:用不同线型和颜色在同一坐标内绘制曲线y=2e0.5xsin(2 π x)及其包络线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=(<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">2</span>*<span class="built_in">pi</span>)&#x27;;</span><br><span class="line">y1=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x)*[<span class="number">1</span>,<span class="number">-1</span>];</span><br><span class="line">y2=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x);</span><br><span class="line">x1=<span class="number">0</span>:<span class="number">0.5</span>:<span class="number">6</span>;</span><br><span class="line">y3=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x1).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x1);</span><br><span class="line"><span class="built_in">plot</span>(x,y1,<span class="string">&#x27;k:&#x27;</span>,x,y2,<span class="string">&#x27;b--&#x27;</span>,x1,y3,<span class="string">&#x27;rp&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817143208.png" alt="image-20200817143206234"></p>
<h3 id="fplot函数"><a class="header-anchor" href="#fplot函数">¶</a>fplot函数</h3>
<p>(1) fplot函数的基本用法<br>
fplot(f, lims, 选项)</p>
<p>其中，f代表一个函数,通常采用函数句柄的形式。lims为x轴的取值范围，用二元向量[xmin，xmax]描述， 默认值为[-5,5]。 选项定义与plot函数相同。</p>
<p>ex:采用fplot函数绘制函数sin(1/x)的图形。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; fplot(@(x)<span class="built_in">sin</span>(<span class="number">1.</span>/x),[<span class="number">0</span>,<span class="number">0.2</span>],<span class="string">&#x27;b&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817143723.png" alt="image-20200817143722060"></p>
<p>(2)双输入函数参数的用法<br>
fplot(funx, funy, tlims,选项)<br>
其中，funx、 funy代表函数，通常采用函数句柄的形式。tlims为参 数函数funx和funy的自变量的取值范围，用二元向量[tmin, tmax]描述。</p>
<p>ex:已知螺旋线的参数方程，绘制曲线。</p>
<p>x=t·sint<br>
y=t·cost</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; fplot(@(t) t.*<span class="built_in">sin</span>(t),@(t) t.*<span class="built_in">cos</span>(t),[<span class="number">0</span>,<span class="number">10</span>*<span class="built_in">pi</span>],<span class="string">&#x27;r&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817144145.png" alt="image-20200817144144096"></p>
<h2 id="绘制图形的辅助操作"><a class="header-anchor" href="#绘制图形的辅助操作">¶</a>绘制图形的辅助操作</h2>
<ul>
<li>给图形添加标注</li>
<li>坐标控制</li>
<li>图形保持</li>
<li>图形窗口的分割</li>
</ul>
<h3 id="图形标注"><a class="header-anchor" href="#图形标注">¶</a>图形标注</h3>
<ul>
<li>title(图形标题)</li>
<li>xlabel(x轴说明)</li>
<li>ylabelly轴说明)</li>
<li>textlx, y,图形说明)</li>
<li>legend(图例1,图例2, …)</li>
</ul>
<h4 id="title函数"><a class="header-anchor" href="#title函数">¶</a>title函数</h4>
<p>①title函数的基本用法<br>
title(图形标题)<br>
例1 绘制[-2π，2 π ]区间的正弦曲线并给图形添加标题。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">-2</span>*<span class="built_in">pi</span>:<span class="number">0.05</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">&gt;&gt; y=<span class="built_in">sin</span>(x);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y)</span><br><span class="line">&gt;&gt; title(<span class="string">&#x27;y=sin(x)&#x27;</span>)  <span class="comment">%title(&#123;&#x27;MATLAB&#x27;,&#x27;y=sin(x)&#x27;&#125;)</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817144733.png" alt="image-20200817144732376"></p>
<p>②在图形标题中使用LaTeX格式控制符</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; title(<span class="string">&#x27;y=cos&#123;\omega&#125;t&#x27;</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">&#x27;y=e^&#123;axt&#125;&#x27;</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">&#x27;X_&#123;1&#125;&#123;\geq&#125;X_&#123;2&#125;&#x27;</span>)</span><br><span class="line">&gt;&gt; title(<span class="string">&#x27;&#123;\bf y=cos&#123;\omega&#125;t+&#123;\beta&#125;&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212315.png" alt="image-20200817145542681"></p>
<blockquote>
<p>“\bf”:加粗<br>
“\it”:斜体<br>
“\rm”:正体</p>
</blockquote>
<p>③含属性设置的title函数<br>
title(图形标题,属性名，属性值)</p>
<ul>
<li>Color属性:用于设置图形标题文本的颜色。</li>
</ul>
<blockquote>
<p>默认为黑色</p>
</blockquote>
<ul>
<li>FontSize属性:用于设置标题文字的字号。</li>
</ul>
<blockquote>
<p>默认字号为11</p>
</blockquote>
<h4 id="xlabel函数和ylabel函数"><a class="header-anchor" href="#xlabel函数和ylabel函数">¶</a>xlabel函数和ylabel函数</h4>
<p>xlabel(x轴说明)<br>
ylabelly轴说明)</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">-2</span>*<span class="built_in">pi</span>:<span class="number">0.05</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">&gt;&gt; y=<span class="built_in">sin</span>(x);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y)</span><br><span class="line">&gt;&gt; title(<span class="string">&#x27;y=sin(x)&#x27;</span>)</span><br><span class="line">&gt;&gt; xlabel(<span class="string">&#x27;-2\pi\leqx\leq2\pi&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819212301.png" alt="image-20200817165151751"></p>
<h4 id="text函数和gtext函数"><a class="header-anchor" href="#text函数和gtext函数">¶</a>text函数和gtext函数</h4>
<p>text(x, y,说明)<br>
gtext(说明)</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%在上述代码在添加以下</span></span><br><span class="line">&gt;&gt; text(<span class="number">-2</span>*<span class="built_in">pi</span>,<span class="number">0</span>,<span class="string">&#x27; - 2&#123;\pi&#125;&#x27;</span>)</span><br><span class="line">&gt;&gt; text(<span class="number">3</span>,<span class="number">0.28</span>,<span class="string">&#x27;\leftarrow sin(x)&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817171100.png" alt="image-20200817165557493"></p>
<h4 id="legend函数"><a class="header-anchor" href="#legend函数">¶</a>legend函数</h4>
<p>legend(图例1,图例2, ····）</p>
<p>ex:绘制不同频率的正弦曲线并用图例标注曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,[<span class="built_in">sin</span>(x);<span class="built_in">sin</span>(<span class="number">2</span>*x);<span class="built_in">sin</span>(<span class="number">3</span>*x)])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;sin(x)&#x27;</span>,<span class="string">&#x27;sin(2x)&#x27;</span>,<span class="string">&#x27;sin(3x)&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817171055.png" alt="image-20200817165925279"></p>
<h3 id="坐标控制"><a class="header-anchor" href="#坐标控制">¶</a>坐标控制</h3>
<h4 id="axis函数"><a class="header-anchor" href="#axis函数">¶</a>axis函数</h4>
<p>axis([xmin, xmax, ymin, ymax, zmin, zmax])</p>
<ul>
<li>axis的其他用法
<ul>
<li>axis equal: 纵、横坐标轴采用等长刻度</li>
<li>axis square: 产生正方形坐标系(默认为矩形)</li>
<li>axis auto: 使用默认设置</li>
<li>axis off:取消坐标轴</li>
<li>axis on:显示坐标轴</li>
</ul>
</li>
</ul>
<h4 id="给坐标系加网格和边框"><a class="header-anchor" href="#给坐标系加网格和边框">¶</a>给坐标系加网格和边框</h4>
<p>grid on   +网格<br>
grid off    不加网格<br>
grid</p>
<p>box on    +边框<br>
box off   不加边框<br>
box</p>
<p>ex:绘制sinx、sin(2x)、 sin(x/ 2 )的函数曲线并添加图形标注。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">y=[<span class="built_in">sin</span>(x);<span class="built_in">sin</span>(<span class="number">2</span>*x);<span class="built_in">sin</span>(<span class="number">0.5</span>*x)];</span><br><span class="line"><span class="built_in">plot</span>(x,y)</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">7</span>,<span class="number">-1.2</span>,<span class="number">1.2</span>])</span><br><span class="line">title(<span class="string">&#x27;不同频率正弦函数曲线&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Variable X&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Variable Y&#x27;</span>);</span><br><span class="line">text(<span class="number">2.5</span>,<span class="built_in">sin</span>(<span class="number">2.5</span>),<span class="string">&#x27;sin(x)&#x27;</span>);</span><br><span class="line">text(<span class="number">1.5</span>,<span class="built_in">sin</span>(<span class="number">2</span>*<span class="number">1.5</span>),<span class="string">&#x27;sin(2x)&#x27;</span>);</span><br><span class="line">text(<span class="number">5.5</span>,<span class="built_in">sin</span>(<span class="number">0.5</span>*<span class="number">5.5</span>),<span class="string">&#x27;sin(0.5x)&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;sin(x)&#x27;</span>,<span class="string">&#x27;sin(2x)&#x27;</span>,<span class="string">&#x27;sin(0.5x)&#x27;</span>)</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817171032.png" alt="image-20200817171031693"></p>
<h3 id="图形保持"><a class="header-anchor" href="#图形保持">¶</a>图形保持</h3>
<p>hold on<br>
hold off<br>
hold</p>
<p>ex:用图形保持功能绘制两个同心圆。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">x=<span class="built_in">sin</span>(t);</span><br><span class="line">y=<span class="built_in">cos</span>(t);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(<span class="number">2</span>*x,<span class="number">2</span>*y,<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line">grid on</span><br><span class="line">axis([<span class="number">-2.2</span>,<span class="number">2.2</span>,<span class="number">-2.2</span>,<span class="number">2.2</span>])</span><br><span class="line">axis equal</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817172551.png" alt="image-20200817171513928"></p>
<h3 id="图形窗口的分割"><a class="header-anchor" href="#图形窗口的分割">¶</a>图形窗口的分割</h3>
<ul>
<li>
<p>子图:同一图形窗口中的不同坐标系下的图形称为子图。</p>
</li>
<li>
<p>subplot函数<br>
subplot(m, n, p)</p>
<blockquote>
<p>其中，m和n指定将图形窗口分成mx n个绘图区，p指定当前活动区。</p>
</blockquote>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,<span class="built_in">sin</span>(x)<span class="number">-1</span>);</span><br><span class="line">title(<span class="string">&#x27;sin(x)-1&#x27;</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-2</span>,<span class="number">0</span>])</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,<span class="built_in">cos</span>(x)+<span class="number">1</span>);</span><br><span class="line">title(<span class="string">&#x27;cos(x)+1&#x27;</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">0</span>,<span class="number">2</span>])</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,<span class="built_in">tan</span>(x));</span><br><span class="line">title(<span class="string">&#x27;tan(x)&#x27;</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-40</span>,<span class="number">40</span>])</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">4</span>,<span class="number">8</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,<span class="built_in">cot</span>(x));</span><br><span class="line">title(<span class="string">&#x27;cot(x)&#x27;</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-35</span>,<span class="number">35</span>])</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://raw.githubusercontent.com/stardust14/picture/master/img/20200817172544.png" alt="image-20200817172543856"></p>
<h2 id="其他形式的二维图形"><a class="header-anchor" href="#其他形式的二维图形">¶</a>其他形式的二维图形</h2>
<ul>
<li>其他坐标系下的二维曲线图</li>
<li>统计图</li>
<li>矢量图形</li>
</ul>
<h3 id="对数坐标图"><a class="header-anchor" href="#对数坐标图">¶</a>对数坐标图</h3>
<p>semilogx(x1, y1,选项1, x2, y2,选项2, ···）<br>
semilogy(x1, y1,选项1, x2, y2,选项2, ···）<br>
loglog(x1, y1,选项1, x2, y2,选项2, ····）</p>
<p>ex:绘制1/x的直角线性坐标图和三种对数坐标图。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">10</span>;</span><br><span class="line">y=<span class="number">1.</span>/x;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y)</span><br><span class="line">title(<span class="string">&#x27;plot(x,y)&#x27;</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">semilogx(x,y)</span><br><span class="line">title(<span class="string">&#x27;semilogx(x,y)&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">semilogy(x,y)</span><br><span class="line">title(<span class="string">&#x27;semilogy(x,y)&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">loglog(x,y)</span><br><span class="line">title(<span class="string">&#x27;loglog(x,y)&#x27;</span>);</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819105432.png" alt="image-20200819105020441"></p>
<h3 id="极坐标图"><a class="header-anchor" href="#极坐标图">¶</a>极坐标图</h3>
<p>polar(theta, rho,选项)</p>
<blockquote>
<p>其中，theta为极角，rho为极径，选项的内容与plot函数相同。</p>
</blockquote>
<p>ex:按极坐标方程ρ=1 -sin θ绘制心形曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">100</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">r=<span class="number">1</span>-<span class="built_in">sin</span>(t);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">polar(t,r)</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">t1=t-<span class="built_in">pi</span>/<span class="number">2</span>;</span><br><span class="line">r1=<span class="number">1</span>-<span class="built_in">sin</span>(t1);</span><br><span class="line">polar(t,r1)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819105922.png" alt="image-20200819105920695"></p>
<h3 id="统计图"><a class="header-anchor" href="#统计图">¶</a>统计图</h3>
<ul>
<li>条形图</li>
<li>直方图</li>
<li>饼图</li>
<li>散点图</li>
</ul>
<h4 id="条形类图形"><a class="header-anchor" href="#条形类图形">¶</a>条形类图形</h4>
<p>①条形图</p>
<ul>
<li>
<p>bar函数:二维垂直</p>
<p>bar（y, style)</p>
</li>
</ul>
<blockquote>
<p>其中，参数y是数据，选项style用于指定分组排列模式。<br>
“grouped”:簇状分组；“stacked”:堆积分组</p>
</blockquote>
<p>ex:绘制分组条形图。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">y=[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>;<span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span>;<span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span>];</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">bar(y)</span><br><span class="line">title(<span class="string">&#x27;Group&#x27;</span>)</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">bar(y,<span class="string">&#x27;stacked&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Stack&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819162254.png" alt="image-20200819162252622"></p>
<p>bar(x, y, style)</p>
<blockquote>
<p>其中，x存储横坐标，y存储数据。y的行数必须与x的长度相同</p>
</blockquote>
<p>ex:下表是某公司2015~2017年家电类商品1月份的销售数据，绘制条形图。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819162548.png" alt="image-20200819162546738"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=[<span class="number">2015</span>,<span class="number">2016</span>,<span class="number">2017</span>];</span><br><span class="line">y=[<span class="number">68</span>,<span class="number">80</span>,<span class="number">115</span>,<span class="number">98</span>,<span class="number">102</span>;<span class="number">75</span> <span class="number">88</span> <span class="number">102</span> <span class="number">99</span> <span class="number">110</span>;<span class="number">81</span> <span class="number">86</span> <span class="number">125</span> <span class="number">105</span> <span class="number">115</span>];</span><br><span class="line">bar(x,y)</span><br><span class="line">title(<span class="string">&#x27;Group&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819163422.png" alt="image-20200819162747539"></p>
<ul>
<li>barh函数：水平垂直</li>
</ul>
<p>②直方图</p>
<ul>
<li>
<p>hist函数</p>
<p>hist(y)<br>
hist(y, x)</p>
</li>
</ul>
<blockquote>
<p>其中，参数y是要统计的数据，x用于指定区间的划分方式。</p>
</blockquote>
<p>ex:绘制服从高斯分布的直方图。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">y=<span class="built_in">randn</span>(<span class="number">500</span>,<span class="number">1</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">hist(y);</span><br><span class="line">title(<span class="string">&#x27;高斯分布直方图&#x27;</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">x=<span class="number">-3</span>:<span class="number">0.2</span>:<span class="number">3</span>;</span><br><span class="line">hist(y,x);</span><br><span class="line">title(<span class="string">&#x27;指定区间中心点的直方图&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819163403.png" alt="image-20200819163402030"></p>
<ul>
<li>rose函数 :极坐标系下的直方图/玫瑰花图</li>
</ul>
<p>rose(theta, x)</p>
<blockquote>
<p>其中，参数theta用于确定每一区间与原点的角度，选项x用于指定区间的划分方式。</p>
<p>若x是标量，则在2pi区间内均匀划分成x个扇形区域；x缺损时，默认按20个等分区间统计</p>
</blockquote>
<p>ex:绘制高斯分布数据在极坐标下的直方图。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">y=<span class="built_in">randn</span>(<span class="number">500</span>,<span class="number">1</span>);</span><br><span class="line">theta=y*<span class="built_in">pi</span>;</span><br><span class="line">rose(theta)</span><br><span class="line">title(<span class="string">&#x27;在极坐标下的直方图&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819172845.png" alt="image-20200819171315366"></p>
<h4 id="面积类图形"><a class="header-anchor" href="#面积类图形">¶</a>面积类图形</h4>
<p>①扇形图</p>
<ul>
<li>
<p>pie函数</p>
<p>pie(x, explode)</p>
</li>
</ul>
<blockquote>
<p>其中，参数x存储待统计数据，选项explode控制图块的显示模式。</p>
</blockquote>
<p>ex:某次考试优秀、良好、中等、及格、不及格的人数分别为： 5、17、23、9、4，试用扇形统计图作成绩统计分析。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">score = [<span class="number">5</span>, <span class="number">17</span>, <span class="number">23</span>, <span class="number">9</span>, <span class="number">4</span>];</span><br><span class="line">ex = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">pie(score, ex)</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;优秀&#x27;</span>,<span class="string">&#x27;良好&#x27;</span>,<span class="string">&#x27;中等&#x27;</span>,<span class="string">&#x27;及格&#x27;</span>,<span class="string">&#x27;不及格&#x27;</span>,<span class="string">&#x27;location&#x27;</span>,<span class="string">&#x27;eastoutside&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>'location’用于指定图例位置， 'eastoutside’表示图例放在绘图区域右 边的外侧。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819172837.png" alt="image-20200819172314338"></p>
<p>②面积图</p>
<ul>
<li>area函数</li>
</ul>
<h4 id="散点类图形"><a class="header-anchor" href="#散点类图形">¶</a>散点类图形</h4>
<ul>
<li>
<p>scatter函数:  散点图</p>
<p>scatter(x, y, 选项, ‘filled’)</p>
</li>
</ul>
<blockquote>
<p>其中，x、y用于定位数据点，选项用于指定线型、颜色、数据点标记。如果数据点标记是封闭图形，可以用选项‘filled’指定填充数据点标记。该选项省略时，数据点是空心的。</p>
</blockquote>
<p>ex:以散点图形式绘制桃心曲线，曲线的参数方程如下：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="../../../picture/PicGo/copypicture/image-20200819172728303.png" alt="image-20200819172728303"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t = <span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">x = <span class="number">16</span>*<span class="built_in">sin</span>(t).^<span class="number">3</span>;</span><br><span class="line">y = <span class="number">13</span>*<span class="built_in">cos</span>(t)<span class="number">-5</span>*<span class="built_in">cos</span>(<span class="number">2</span>*t)<span class="number">-2</span>*<span class="built_in">cos</span>(<span class="number">3</span>*t)-<span class="built_in">cos</span>(<span class="number">4</span>*t);</span><br><span class="line"><span class="built_in">scatter</span>(x,y,<span class="string">&#x27;rd&#x27;</span>,<span class="string">&#x27;filled&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819172828.png" alt="image-20200819172826877"></p>
<ul>
<li>
<p>stairs函数:    阶梯图</p>
</li>
<li>
<p>stem函数:     杆图</p>
</li>
</ul>
<h3 id="矢量类图形"><a class="header-anchor" href="#矢量类图形">¶</a>矢量类图形</h3>
<ul>
<li>compass函数:罗盘图</li>
<li>feather函数:羽毛图</li>
<li>quiver函数:箭头图</li>
</ul>
<p>quiver函数调用格式：</p>
<p>quiver(x, y, u, v)</p>
<blockquote>
<p>其中，(x, y)指定矢量起点，(u, v)指定矢量终点。x、y、u、v 是同样大小的向量或同型矩阵，若省略x、y，则在x-y平面上均匀取若干个点作为起点。</p>
</blockquote>
<p>ex:已知向量A、B，求A+B，并用矢量图表示。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">A=[<span class="number">4</span>,<span class="number">5</span>]; B=[<span class="number">-10</span>,<span class="number">0</span>]; C=A+B;</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line">quiver(<span class="number">0</span>, <span class="number">0</span>, A(<span class="number">1</span>), A(<span class="number">2</span>));</span><br><span class="line">quiver(<span class="number">0</span>, <span class="number">0</span>, B(<span class="number">1</span>), B(<span class="number">2</span>));</span><br><span class="line">quiver(<span class="number">0</span>, <span class="number">0</span>, C(<span class="number">1</span>), C(<span class="number">2</span>));</span><br><span class="line">text(A(<span class="number">1</span>),A(<span class="number">2</span>),<span class="string">&#x27;A&#x27;</span>);text(B(<span class="number">1</span>),B(<span class="number">2</span>),<span class="string">&#x27;B&#x27;</span>);</span><br><span class="line">text(C(<span class="number">1</span>),C(<span class="number">2</span>),<span class="string">&#x27;C&#x27;</span>);</span><br><span class="line">axis ([<span class="number">-12</span>, <span class="number">6</span>, <span class="number">-1</span>, <span class="number">6</span>])</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819173208.png" alt="image-20200819173207268"></p>
<h2 id="三维曲线"><a class="header-anchor" href="#三维曲线">¶</a>三维曲线</h2>
<ul>
<li>plot3函数</li>
<li>fplot3函数</li>
</ul>
<h3 id="plot3函数"><a class="header-anchor" href="#plot3函数">¶</a>plot3函数</h3>
<h4 id="plot3函数的基本用法"><a class="header-anchor" href="#plot3函数的基本用法">¶</a>plot3函数的基本用法</h4>
<p>plot3(x, y, z)</p>
<blockquote>
<p>其中，参数x、y、z组成一组曲线的坐标。</p>
</blockquote>
<p>ex:绘制一条空间折线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=[<span class="number">0.2</span>, <span class="number">1.8</span>, <span class="number">2.5</span>];</span><br><span class="line">y=[<span class="number">1.3</span>, <span class="number">2.8</span>, <span class="number">1.1</span>];</span><br><span class="line">z=[<span class="number">0.4</span>, <span class="number">1.2</span>, <span class="number">1.6</span>];</span><br><span class="line"><span class="built_in">plot3</span>(x, y, z)</span><br><span class="line">grid on</span><br><span class="line">axis([<span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>]); </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819210855.png" alt="image-20200819210806024"></p>
<p>ex:绘制螺旋线</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819210846.png" alt="image-20200819210844875"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="built_in">linspace</span>(<span class="number">0</span>, <span class="number">10</span>*<span class="built_in">pi</span>, <span class="number">200</span>);</span><br><span class="line">x=<span class="built_in">sin</span>(t)+t.*<span class="built_in">cos</span>(t);</span><br><span class="line">y=<span class="built_in">cos</span>(t)-t.*<span class="built_in">sin</span>(t);</span><br><span class="line">z=t;</span><br><span class="line">subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot3</span>(x, y, z)</span><br><span class="line">grid on</span><br><span class="line">subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot3</span>(x(<span class="number">1</span>:<span class="number">4</span>:<span class="number">200</span>), y(<span class="number">1</span>:<span class="number">4</span>:<span class="number">200</span>), z(<span class="number">1</span>:<span class="number">4</span>:<span class="number">200</span>))</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819210941.png" alt="image-20200819210940190"></p>
<h4 id="plot3-x-y-z-函数参数的变化形式"><a class="header-anchor" href="#plot3-x-y-z-函数参数的变化形式">¶</a>plot3(x, y, z)函数参数的变化形式</h4>
<p>​	plot3(X, Y, Z)</p>
<ul>
<li>参数X、Y、Z是同型矩阵时，以X、Y、Z对应列元素绘制曲线,曲线条数等于矩阵列数。</li>
<li>参数X、Y、Z中有向量，也有矩阵时，向量的长度应与矩阵相符。</li>
</ul>
<p>ex:在空间不同位置绘制5条正弦曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">t=t&#x27;;</span><br><span class="line">x=[t, t, t, t, t];</span><br><span class="line">y=[<span class="built_in">sin</span>(t), <span class="built_in">sin</span>(t)+<span class="number">1</span>, <span class="built_in">sin</span>(t)+<span class="number">2</span>, <span class="built_in">sin</span>(t)+<span class="number">3</span>, <span class="built_in">sin</span>(t)+<span class="number">4</span>];</span><br><span class="line">z=t;</span><br><span class="line"><span class="built_in">plot3</span>(x,y,z)</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">x=t;</span><br><span class="line">y=[<span class="built_in">sin</span>(t); <span class="built_in">sin</span>(t)+<span class="number">1</span>; <span class="built_in">sin</span>(t)+<span class="number">2</span>; <span class="built_in">sin</span>(t)+<span class="number">3</span>; <span class="built_in">sin</span>(t)+<span class="number">4</span>];</span><br><span class="line">z=t;</span><br><span class="line"><span class="built_in">plot3</span>(x,y,z)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819211222.png" alt="image-20200819211221182"></p>
<h4 id="含多组输入参数的plot3函数"><a class="header-anchor" href="#含多组输入参数的plot3函数">¶</a>含多组输入参数的plot3函数</h4>
<p>plot3(x1, y1, z1, x2, y2, z2, …, xn, yn, zn)<br>
每一组x、y、z向量构成一组数据点的坐标，绘制一条曲线。</p>
<p>ex:绘制三条不同长度的正弦曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t1=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">1.5</span>*<span class="built_in">pi</span>;</span><br><span class="line">t2=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">t3=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">3</span>*<span class="built_in">pi</span>;</span><br><span class="line"><span class="built_in">plot3</span>(t1,<span class="built_in">sin</span>(t1),t1, t2,<span class="built_in">sin</span>(t2)+<span class="number">1</span>,t2,t3,<span class="built_in">sin</span>(t3)+<span class="number">2</span>,t3)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819211547.png" alt="image-20200819211415811"></p>
<h4 id="含选项的plot3函数"><a class="header-anchor" href="#含选项的plot3函数">¶</a>含选项的plot3函数</h4>
<p>plot3(x, y, z, 选项)</p>
<blockquote>
<p>选项用于指定曲线的线型、颜色和数据点标记。</p>
</blockquote>
<p>ex: 绘制空间曲线</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819211537.png" alt="image-20200819211536479"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">6</span>*<span class="built_in">pi</span>;</span><br><span class="line">x=<span class="built_in">cos</span>(t);</span><br><span class="line">y=<span class="built_in">sin</span>(t);</span><br><span class="line">z=<span class="number">2</span>*t;</span><br><span class="line"><span class="built_in">plot3</span>(x,y,z,<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">xlabel(<span class="string">&#x27;X&#x27;</span>),ylabel(<span class="string">&#x27;Y&#x27;</span>),zlabel(<span class="string">&#x27;Z&#x27;</span>);</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819211637.png" alt="image-20200819211635920"></p>
<h3 id="fplot3函数"><a class="header-anchor" href="#fplot3函数">¶</a>fplot3函数</h3>
<p>fplot3 (funx，funy， funz， tlims)</p>
<blockquote>
<p>其中，funx、 funy、 funz代表定 义曲线x、y、z坐标的函数，通常采用函数句柄的形式。tlims为参数函数自变量的取值范围，用二元向量[tmin, tmax]描述， 默认为[-5,5]。</p>
</blockquote>
<p>ex:绘制墨西哥帽顶曲线，曲线的参数方程如下</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819211800.png" alt="image-20200819211759357"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">xt = @(t) <span class="built_in">exp</span>(-t/<span class="number">10</span>).*<span class="built_in">sin</span>(<span class="number">5</span>*t);</span><br><span class="line">yt = @(t) <span class="built_in">exp</span>(-t/<span class="number">10</span>).*<span class="built_in">cos</span>(<span class="number">5</span>*t);</span><br><span class="line">zt = @(t) t;</span><br><span class="line">fplot3(xt, yt, zt, [<span class="number">-12</span>, <span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819213846.png" alt="image-20200819211845148"></p>
<p>在fplot3函数中，可以指定曲线的线型、颜色或数据点标记。</p>
<p>例如，用红色点划线绘制墨西哥帽顶曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">xt = @(t) <span class="built_in">exp</span>(-t/<span class="number">10</span>).*<span class="built_in">sin</span>(<span class="number">5</span>*t);</span><br><span class="line">yt = @(t) <span class="built_in">exp</span>(-t/<span class="number">10</span>).*<span class="built_in">cos</span>(<span class="number">5</span>*t);</span><br><span class="line">zt = @(t) t;</span><br><span class="line">fplot3(xt, yt, zt, [<span class="number">-12</span>, <span class="number">12</span>], <span class="string">&#x27;r-.&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819213834.png" alt="image-20200819212032722"></p>
<h2 id="三维曲面"><a class="header-anchor" href="#三维曲面">¶</a>三维曲面</h2>
<ul>
<li>平面网格数据的生成</li>
<li>绘制三维曲面的mesh函数和surf函数</li>
<li>fmesh函数和fsurf函数</li>
</ul>
<h3 id="平面网格数据的生成"><a class="header-anchor" href="#平面网格数据的生成">¶</a>平面网格数据的生成</h3>
<p>用矩阵X、Y分别存储每一个小矩形顶点的x坐标与y坐标，矩阵X、Y就是该矩形区域的xy平面网格坐标矩阵。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819213822.png" alt="image-20200819213059384"></p>
<p>在MATLAB中，产生平面区域内的网格坐标矩阵有**<font color="red">两种方法</font>**。</p>
<p>(1)利用矩阵运算生成。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">2</span>:<span class="number">6</span>;</span><br><span class="line">&gt;&gt; y=(<span class="number">3</span>:<span class="number">8</span>)&#x27;;</span><br><span class="line">&gt;&gt; X=<span class="built_in">ones</span>(<span class="built_in">size</span>(y))*x;</span><br><span class="line">&gt;&gt; Y=y*<span class="built_in">ones</span>(<span class="built_in">size</span>(x));</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819213815.png" alt="image-20200819213433657"></p>
<blockquote>
<p>X和Y相同位置上的元素，如X32、Y32是区域的第3行第2列网格点的坐标(3,5)。</p>
</blockquote>
<p>(2)利用meshgrid函数生成。</p>
<p>[X,Y]=meshgrid(x,y);</p>
<blockquote>
<p>其中，参数x、y为向量，存储网格点坐标的X、Y为矩阵。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x = <span class="number">2</span>:<span class="number">1</span>:<span class="number">6</span>;</span><br><span class="line">&gt;&gt; y = (<span class="number">3</span>:<span class="number">1</span>:<span class="number">8</span>)&#x27;;</span><br><span class="line">&gt;&gt; [X, Y] = <span class="built_in">meshgrid</span>(x, y);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>第3行命令生成的网格坐标矩阵X、Y与方法(1)得到的相同。</p>
</blockquote>
<p>若根据每一个网格点上的x、y坐标求函数值z，则得到函数值矩 阵Z。矩阵X、Y、Z中的各个列向量，对应于一条曲线数据点的坐标。</p>
<p>ex:绘制空间曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x = <span class="number">2</span>:<span class="number">6</span>;</span><br><span class="line">y = (<span class="number">3</span>:<span class="number">8</span>)&#x27;;</span><br><span class="line">[X, Y] = <span class="built_in">meshgrid</span>(x, y);</span><br><span class="line">Z = <span class="built_in">randn</span>(<span class="built_in">size</span>(X));</span><br><span class="line"><span class="built_in">plot3</span>(X,Y,Z)</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819213801.png" alt="image-20200819213800012"></p>
<ul>
<li>mesh函数和surf函数的调用格式：</li>
</ul>
<p>mesh(x, y, z, c)<br>
surf(x, y, z, c)</p>
<blockquote>
<p>其中，x、y是网格坐标矩阵，z是网格点上的高度矩阵，c用于指定在不同高度下的曲面颜色。c省略时，颜色的设定正比于图形的高度。</p>
</blockquote>
<p>ex: 绘制三维曲面图<code>𝑧 = 𝑥𝑒 ^(− 𝑥 ^2 − 𝑦^2)</code></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t = <span class="number">-2</span>:<span class="number">0.2</span>:<span class="number">2</span>;</span><br><span class="line">[X, Y] = <span class="built_in">meshgrid</span>(t);</span><br><span class="line">Z = X .* <span class="built_in">exp</span>(-X.^<span class="number">2</span> - Y.^<span class="number">2</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line">mesh(X,Y,Z);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">surf(X,Y,Z);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot3</span>(X,Y,Z);</span><br><span class="line">grid on </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819214239.png" alt="image-20200819214237905"></p>
<ul>
<li>mesh函数和surf函数的其他调用格式：</li>
</ul>
<p>mesh(z, c)<br>
surf(z, c)</p>
<blockquote>
<p>当x、y省略时，z矩阵的第2维下标当作x轴坐标，z矩阵的第1维下 标当作y轴坐标。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t = <span class="number">1</span>:<span class="number">5</span>;</span><br><span class="line">&gt;&gt; z= [<span class="number">0.5</span>*t; <span class="number">2</span>*t; <span class="number">3</span>*t];</span><br><span class="line">&gt;&gt; mesh(z);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819214557.png" alt="image-20200819214556082"></p>
<h3 id="绘制三维曲面的函数"><a class="header-anchor" href="#绘制三维曲面的函数">¶</a>绘制三维曲面的函数</h3>
<ul>
<li>带等高线的三维网格曲面函数meshc</li>
<li>带底座的三维网格曲面函数meshz</li>
<li>具有等高线的曲面函数surfc</li>
<li>具有光照效果的曲面函数surf1</li>
</ul>
<p>ex:用4种方式绘制函数𝒛 = (𝑥 − 1) 2+(𝑦 − 2) 2−1的曲面图。 其中，x∈[0,2]，y∈[1,3]。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[x,y]=<span class="built_in">meshgrid</span>(<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>,<span class="number">1</span>:<span class="number">0.1</span>:<span class="number">3</span>);</span><br><span class="line">z=(x<span class="number">-1</span>).^<span class="number">2</span>+(y<span class="number">-2</span>).^<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">meshc(x,y,z);title(<span class="string">&#x27;meshc(x,y,z)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">meshz(x,y,z);title(<span class="string">&#x27;meshz(x,y,z)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">surfc(x,y,z);title(<span class="string">&#x27;surfc(x,y,z)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">surfl(x,y,z); title(<span class="string">&#x27;surfl(x,y,z)&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819214744.png" alt="image-20200819214742546"></p>
<h3 id="标准三维曲面"><a class="header-anchor" href="#标准三维曲面">¶</a>标准三维曲面</h3>
<h4 id="sphere函数"><a class="header-anchor" href="#sphere函数">¶</a>sphere函数</h4>
<p>[x,y,z]=sphere(n)</p>
<p>产生3个(n+1)阶的方阵，采用这3个矩阵可以绘制出圆心位于 原点、半径为1的单位球体。</p>
<h4 id="cylinder函数"><a class="header-anchor" href="#cylinder函数">¶</a>cylinder函数</h4>
<p>[x,y,z]=cylinder(R, n)</p>
<blockquote>
<p>其中，参数R是一个向量，存放柱面各个等间隔高度上的半径， n表示在圆柱圆周上有n个间隔点，默认有20个间隔点。</p>
</blockquote>
<p>ex:用cylinder函数分别绘制柱面、花瓶和圆锥面</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">[x,y,z]=cylinder;</span><br><span class="line">surf(x,y,z);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line">t=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">40</span>);</span><br><span class="line">[x,y,z]= cylinder(<span class="number">2</span>+<span class="built_in">cos</span>(t),<span class="number">30</span>);</span><br><span class="line">surf(x,y,z);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">[x,y,z]= cylinder(<span class="number">0</span>:<span class="number">0.2</span>:<span class="number">2</span>,<span class="number">30</span>);</span><br><span class="line">surf(x,y,z);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819215443.png" alt="image-20200819214947702"></p>
<p>ex:用cylinder函数绘制两个相互垂直且直径相等的圆柱面的相交图形。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[x,y,z]= cylinder(<span class="number">1</span>,<span class="number">60</span>);</span><br><span class="line">z=[<span class="number">-1</span>*z(<span class="number">2</span>,:);z(<span class="number">2</span>,:)];</span><br><span class="line">surf(x,y,z)</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">surf(y,z,x)</span><br><span class="line">axis equal</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819215437.png" alt="image-20200819215104314"></p>
<h4 id="peaks-函数"><a class="header-anchor" href="#peaks-函数">¶</a>peaks 函数</h4>
<p>peaks函数的调用格式：</p>
<p>peaks(n)<br>
peaks(V)<br>
peaks(x,y)<br>
peaks</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; p1=peaks(<span class="number">10</span>);</span><br><span class="line">&gt;&gt; p2=peaks;</span><br><span class="line">&gt;&gt; p3=peaks(<span class="number">-3</span>:<span class="number">0.2</span>:<span class="number">3</span>);</span><br><span class="line">&gt;&gt; [x,y]=<span class="built_in">meshgrid</span>(<span class="number">-2</span>:<span class="number">0.1</span>:<span class="number">2</span>, <span class="number">0</span>:<span class="number">0.1</span>:<span class="number">5</span>);</span><br><span class="line">&gt;&gt; p4=peaks(x,y);</span><br></pre></td></tr></table></figure>
<h3 id="fmesh函数和fsurf函数"><a class="header-anchor" href="#fmesh函数和fsurf函数">¶</a>fmesh函数和fsurf函数</h3>
<p>用于绘制参数方程定义的曲面</p>
<p>fsurf(funx, funy, funz, uvlims)<br>
fmesh(funx, funy, funz, uvlims)</p>
<blockquote>
<p>其中，funx、funy、funz代表定义曲面x、y、z坐标的函数，通常采用函数句柄的形式。uvlims为funx、funy和funz的自变量的取值范围，用4元向量[umin, umax, vmin, vmax]描述 ，默认为[-5, 5, -5, 5]。</p>
</blockquote>
<p>ex:绘制螺旋曲面。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819215942.png" alt="image-20200819215630359"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">funx = @(u,v) u.*<span class="built_in">sin</span>(v);</span><br><span class="line">funy = @(u,v) -u.*<span class="built_in">cos</span>(v);</span><br><span class="line">funz = @(u,v) v;</span><br><span class="line">fsurf(funx,funy,funz,[<span class="number">-5</span> <span class="number">5</span> <span class="number">-5</span> <span class="number">-2</span>])</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">fmesh(funx,funy,funz,[<span class="number">-5</span> <span class="number">5</span> <span class="number">-2</span> <span class="number">2</span>])</span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200819215930.png" alt="image-20200819215709246"></p>
<h2 id="图形修饰处理"><a class="header-anchor" href="#图形修饰处理">¶</a>图形修饰处理</h2>
<ul>
<li>视点处理</li>
<li>色彩处理</li>
<li>图形的裁剪处理</li>
</ul>
<h3 id="视点处理"><a class="header-anchor" href="#视点处理">¶</a>视点处理</h3>
<p>方位角:视点与原点连线在xy平面上的投影与y轴负方向形成的角度，正值表示逆时针，负值表示顺时针。<br>
仰角:视点与原点连线与xy平面的夹角，正值表示视点在xy平面上方，负值表示视点在xy平面下方。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820140437.png" alt="image-20200820140435709"></p>
<h4 id="view函数的基本用法"><a class="header-anchor" href="#view函数的基本用法">¶</a>view函数的基本用法</h4>
<p>view(az,el)</p>
<blockquote>
<p>其中，az为方位角，el为仰角。系统默认的视点定义为方位角-37.5°，仰角30°。</p>
</blockquote>
<p>ex:绘制函数𝒛 = (𝑥 − 1)^ 2+(𝑦 − 2)^2−1曲面，并从不同视点展示曲面</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[x,y]=<span class="built_in">meshgrid</span>(<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>, <span class="number">1</span>:<span class="number">0.1</span>:<span class="number">3</span>);</span><br><span class="line">z=(x<span class="number">-1</span>).^<span class="number">2</span>+(y<span class="number">-2</span>).^<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>); mesh(x,y,z)</span><br><span class="line">title(<span class="string">&#x27;方位角=-37.5&#123;\circ&#125;,仰角=30&#123;\circ&#125;&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>); mesh(x,y,z)</span><br><span class="line">view(<span class="number">0</span>,<span class="number">90</span>);title(<span class="string">&#x27;方位角=0&#123;\circ&#125;,仰角=90&#123;\circ&#125;&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>); mesh(x,y,z)</span><br><span class="line">view(<span class="number">90</span>,<span class="number">0</span>); title(<span class="string">&#x27;方位角=90&#123;\circ&#125;,仰角=0&#123;\circ&#125;&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>); mesh(x,y,z)</span><br><span class="line">view(<span class="number">-45</span>,<span class="number">-60</span>); title(<span class="string">&#x27;方位角=-45&#123;\circ&#125;,仰角=-60&#123;\circ&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141051.png" alt="image-20200820140657979"></p>
<h4 id="view函数的其他用法"><a class="header-anchor" href="#view函数的其他用法">¶</a>view函数的其他用法</h4>
<p>view(x, y, z)<br>
view(2)<br>
view(3)</p>
<h3 id="色彩处理"><a class="header-anchor" href="#色彩处理">¶</a>色彩处理</h3>
<h4 id="颜色的向量表示"><a class="header-anchor" href="#颜色的向量表示">¶</a>颜色的向量表示</h4>
<p>向量元素在[0，1]范围内取值，3个元素依次表示红、绿、蓝3种颜色的 相对亮度，称为RGB三元组。</p>
<p>[0 0 1]：蓝色 [1 0 0]：红色 [0 1 0]：绿色 [1 1 1]：白色 [0 0 0]：黑色</p>
<p>[R G B] 红 绿 蓝</p>
<h4 id="色图（Colormap）"><a class="header-anchor" href="#色图（Colormap）">¶</a>色图（Colormap）</h4>
<ul>
<li>色图矩阵</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; cmap=colormap(parula(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">cmap =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2081</span>    <span class="number">0.1663</span>    <span class="number">0.5292</span></span><br><span class="line">    <span class="number">0.0795</span>    <span class="number">0.5159</span>    <span class="number">0.8328</span></span><br><span class="line">    <span class="number">0.1986</span>    <span class="number">0.7214</span>    <span class="number">0.6310</span></span><br><span class="line">    <span class="number">0.8266</span>    <span class="number">0.7320</span>    <span class="number">0.3464</span></span><br><span class="line">    <span class="number">0.9763</span>    <span class="number">0.9831</span>    <span class="number">0.0538</span></span><br></pre></td></tr></table></figure>
<ul>
<li>内建色图</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141043.png" alt="image-20200820141041965"></p>
<ul>
<li>
<p>指定当前图形使用的色图</p>
<p>colormap cmapname</p>
<p>colormap(cmap)</p>
</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; surf(peaks)</span><br><span class="line">&gt;&gt; colormap hot</span><br></pre></td></tr></table></figure>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141210.png" alt="image-20200820141209262"></p>
          </div>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141252.png" alt="image-20200820141251005"></p>
          </div>
<ul>
<li>创建色图矩阵</li>
</ul>
<p>色图矩阵的每一行是RGB三元组。可以自定义色图矩阵，也可以 调用MATLAB提供的函数来定义色图矩阵。</p>
<p>ex:创建一个灰色系列色图矩阵。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">c = [<span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">1.0</span>]&#x27;;</span><br><span class="line">cmap = [c, c, c];</span><br><span class="line">surf(peaks)</span><br><span class="line">colormap(cmap)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141647.png" alt="image-20200820141645070"></p>
<h4 id="三维图形表面的着色"><a class="header-anchor" href="#三维图形表面的着色">¶</a>三维图形表面的着色</h4>
<p>可以用shading函数来改变着色方式</p>
<p>shading faceted:每个网格片用其高度对应的颜色进行着色， 网格线是黑色。这是默认着色方式。</p>
<p>shading flat:每个网格片用同一个颜色进行着色，且网格线也用相应的颜色。</p>
<p>shading interp:网格片内采用颜色插值处理。</p>
<p>ex:使用同一色图，以不同着色方式绘制圆锥体。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[x,y,z]= cylinder(<span class="built_in">pi</span>:-<span class="built_in">pi</span>/<span class="number">5</span>:<span class="number">0</span>,<span class="number">10</span>);</span><br><span class="line">colormap(lines);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">surf(x,y,z); shading flat</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line">surf(x,y,z); shading interp</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">surf(x,y,z);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820141910.png" alt="image-20200820141909296"></p>
<h3 id="图形的裁剪处理"><a class="header-anchor" href="#图形的裁剪处理">¶</a>图形的裁剪处理</h3>
<p>将图形中需要裁剪部分对应的函数值设置成<font color="red">NaN</font>，这样在绘制图 形时，函数值为NaN的部分将不显示出来，从而达到对图形进行裁剪 的目的。</p>
<p>ex:绘制3/4圆。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">x = <span class="built_in">sin</span>(t);</span><br><span class="line">y = <span class="built_in">cos</span>(t);</span><br><span class="line">p = y &gt; <span class="number">0.5</span>;</span><br><span class="line">y(p)= NaN;</span><br><span class="line"><span class="built_in">plot</span>(x,y)</span><br><span class="line">axis([<span class="number">-1.1</span>,<span class="number">1.1</span>,<span class="number">-1.1</span>,<span class="number">1.1</span>])</span><br><span class="line">axis square</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820142049.png" alt="image-20200820142048475"></p>
<p>ex:绘制3/4球面。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[X, Y, Z] = sphere(<span class="number">60</span>);</span><br><span class="line">p = Z&gt;<span class="number">0.5</span>;</span><br><span class="line">Z(p) = NaN;</span><br><span class="line">surf(X, Y, Z)</span><br><span class="line">axis([<span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>])</span><br><span class="line">axis equal</span><br><span class="line">view(<span class="number">-45</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820142135.png" alt="image-20200820142133450"></p>
<h2 id="交互式绘图工具"><a class="header-anchor" href="#交互式绘图工具">¶</a>交互式绘图工具</h2>
<ul>
<li>&quot;绘图&quot;选项卡</li>
<li>图形窗口绘图工具</li>
<li>图形窗口菜单和工具栏</li>
</ul>
<h3 id="“绘图”选项卡"><a class="header-anchor" href="#“绘图”选项卡">¶</a>“绘图”选项卡</h3>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820142333.png" alt="image-20200820142329074"></p>
<p>“绘图”选项卡的工具条提供了绘制图形的基本命令。</p>
<p>&quot;所选内容&quot;命令组:用于显示已选中用于绘图的变量;<br>
“绘图”命令组:提供了绘制各种图形的命令;<br>
“选项”命令组:用于设置绘图时是否新建图形窗口。</p>
<p>ex:选择已有变量绘制图形。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820142929.png" alt="无标题"></p>
<h3 id="绘图工具"><a class="header-anchor" href="#绘图工具">¶</a>绘图工具</h3>
<h4 id="显示绘图工具"><a class="header-anchor" href="#显示绘图工具">¶</a>显示绘图工具</h4>
<p>“显示绘图工具和停靠图形”按钮<br>
命令行窗口中输入命令</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; plottools</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820143221.png" alt="image-20200820143219869"></p>
<h4 id="绘图工具的组成"><a class="header-anchor" href="#绘图工具的组成">¶</a>绘图工具的组成</h4>
<ul>
<li>图形选项板</li>
<li>绘图浏览器</li>
<li>属性编辑器</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820143453.png" alt="image-20200820143408346"></p>
<ul>
<li>图形选项板</li>
</ul>
<p>用于在图形窗口中添加和排列子图，观察和选择绘图数据以及添加图形标注。</p>
<p>“新子图”面板</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820143536.png" alt="image-20200820143535529"></p>
<p>“变量”面板</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820143707.png" alt="image-20200820143706147"></p>
<p>“注释”面板</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820143727.png" alt="image-20200820143726170"></p>
<ul>
<li>绘图浏览器</li>
</ul>
<p>以图例的方式列出图形中的元素。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820144025.png" alt="image-20200820143756260"></p>
<ul>
<li>属性编辑器</li>
</ul>
<p>用于观测和设置所选对象 的名称、颜色、填充方法等参 数。不同类型的对象，属性编 辑器中的内容不同。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820144040.png" alt="image-20200820143835238"></p>
<p>ex:用工作区的变量绘制曲线，改变曲线的类型、颜色、线型等。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820144047.png" alt="image-20200820144013869"></p>
<h3 id="图形窗口菜单和工具栏"><a class="header-anchor" href="#图形窗口菜单和工具栏">¶</a>图形窗口菜单和工具栏</h3>
<ul>
<li>工具栏</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820144258.png" alt="无标题01"></p>
<ul>
<li>图形窗口菜单</li>
</ul>
<p>图形绘制完成后，可以 用“文件”菜单中的“生成 代码”命令，将实施在图形 上的这些操作命令输出成脚 本。也可以用“保存”命令 将图形窗口内容保存为fig 文件。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200820144420.png" alt="image-20200820144418286"></p>
<h1>数据分析与多项式计算</h1>
<h2 id="数据统计分析"><a class="header-anchor" href="#数据统计分析">¶</a>数据统计分析</h2>
<ul>
<li>求最大元素与最小元素</li>
<li>求平均值与中值</li>
<li>求和与求积</li>
<li>累加和与累乘积</li>
<li>求标准差与相关系数</li>
<li>排序</li>
</ul>
<h3 id="求矩阵的最大元素和最小元素"><a class="header-anchor" href="#求矩阵的最大元素和最小元素">¶</a>求矩阵的最大元素和最小元素</h3>
<ul>
<li>max():求向量或矩阵的最大元素。</li>
<li>min():求向量或矩阵的最小元素。</li>
</ul>
<p>当参数为向量时，上述函数有两种调用格式：</p>
<p>（1）y=max(X)：返回向量X的最大值存入y，如果X中包含复数元素， 则按模取最大值。</p>
<p>（2）[y,k]=max(X)：返回向量X的最大值存入y，最大值元素的序号 存入k，如果X中包含复数元素，则按模取最大值。</p>
<p>ex:求向量x的最大元素，其中x=[-43,72,9,16,23,47]。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">-43</span>,<span class="number">72</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">23</span>,<span class="number">47</span>];</span><br><span class="line">&gt;&gt; y=<span class="built_in">max</span>(x)</span><br><span class="line"></span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">    <span class="number">72</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [y,k]=<span class="built_in">max</span>(x)</span><br><span class="line"></span><br><span class="line">y =</span><br><span class="line"></span><br><span class="line">    <span class="number">72</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">     <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>当参数为矩阵时，函数有三种调用格式:<br>
(1)max(A):返回一个行向量，向量的第i个元素是矩阵A的第i列上的最<br>
大值。<br>
(2）[Y,U]=max(A):返回行向量Y和U，Y向量记录A中每列的最大值，U向量记录每列最大值元素的行号。<br>
(3） max(A,[,dim):dim取1或2。dim取1时，该函数的功能和max(A)完全相同; dim取2时，该函数返回一个列向量，其第i个元素是A矩阵的第i行上的最大值。</p>
<blockquote>
<p>思考：对矩阵按行求最大元素，仅使用第一种格式，能够做到吗？</p>
</blockquote>
<p>ex: 求矩阵A的每行及每列的最大元素，并求整个矩阵的最大元素.</p>
<p>A=[13,-56,78;25,63,-235;78,25,563;1,0,-1]</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt;  A=[<span class="number">13</span>,<span class="number">-56</span>,<span class="number">78</span>;<span class="number">25</span>,<span class="number">63</span>,<span class="number">-235</span>;<span class="number">78</span>,<span class="number">25</span>,<span class="number">563</span>;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">max</span>(A)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">78</span>    <span class="number">63</span>   <span class="number">563</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">max</span>(<span class="built_in">max</span>(A))</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">563</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>思考：用什么方法只调用一次max 函数就能求得整个矩阵的最大值？</p>
</blockquote>
<h3 id="求矩阵的平均值和中值"><a class="header-anchor" href="#求矩阵的平均值和中值">¶</a>求矩阵的平均值和中值</h3>
<ul>
<li>平均值:指算术平均值，即每项数据之和除以项数。</li>
<li>中值:指在数据序列中其值的大小恰好处在中间的元素。如果数据个数为奇数，则取值为大小位于中间的元素;如果数据个数为偶数，则取中间两个元素的平均值。</li>
</ul>
<p>在MATLAB中，求平均值和中值的函数分别为：</p>
<ul>
<li>mean():求算术平均值。</li>
<li>median():求中值。</li>
</ul>
<blockquote>
<p>思考：有了平均值，为什么还要中值？</p>
</blockquote>
<p>ex:某学生宿舍的5位同学月生活费如向量x所示，其中，小明同学家 境一般，请问他应该按什么标准向父母主张生活费额度才较为合理。</p>
<p>x=[1200,800,1500,1000,5000]</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">1200</span>,<span class="number">800</span>,<span class="number">1500</span>,<span class="number">1000</span>,<span class="number">5000</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">mean</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">        <span class="number">1900</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; median(x)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">        <span class="number">1200</span></span><br></pre></td></tr></table></figure>
<h3 id="求和与求积"><a class="header-anchor" href="#求和与求积">¶</a>求和与求积</h3>
<ul>
<li>sum():求和函数。</li>
<li>prod():求积函数。</li>
</ul>
<h3 id="累加和与累乘积"><a class="header-anchor" href="#累加和与累乘积">¶</a>累加和与累乘积</h3>
<p>设<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821105420.png" alt="image-20200821105418343">，是一个向量，V、W是与U等长的另外两个向量，并且<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821105445.png" alt="image-20200821105444073"></p>
<p>则分别称V、W为U的累加和向量和累乘积向量。</p>
<p>在MATLAB中，求累加和与累乘积的函数分别为：</p>
<ul>
<li>cumsum():累加和函数。</li>
<li>cumprod():累乘积函数。</li>
</ul>
<p>ex:求向量X=[1,2,3,4,5,6,7,8,9,10]的积与累乘积。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; X=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line">&gt;&gt; y1=prod(X)</span><br><span class="line"></span><br><span class="line">y1 =</span><br><span class="line"></span><br><span class="line">     <span class="number">3628800</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y2=cumprod(X)</span><br><span class="line"></span><br><span class="line">y2 =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">5</span> 列</span><br><span class="line"></span><br><span class="line">           <span class="number">1</span>           <span class="number">2</span>           <span class="number">6</span>          <span class="number">24</span>         <span class="number">120</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6</span> 至 <span class="number">10</span> 列</span><br><span class="line"></span><br><span class="line">         <span class="number">720</span>        <span class="number">5040</span>       <span class="number">40320</span>      <span class="number">362880</span>     <span class="number">3628800</span></span><br></pre></td></tr></table></figure>
<h3 id="标准差与相关系数"><a class="header-anchor" href="#标准差与相关系数">¶</a>标准差与相关系数</h3>
<p>标准差用于计算数据偏离平均数的距离的平均值，其计算公式为</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821105724.png" alt="image-20200821105723539"></p>
<p>MATLAB中计算标准差的函数为std()，其调用格式为：</p>
<p>(1) std(X):计算向量X的标准差。<br>
(2)std(A):计算矩阵A的各列的标准差。<br>
(3)std(A,flag,dim):flag取0或1，当flag=0时，按S1所列公式计算样本标准方差;当flag=1时，按S2所列公式计算总体标准方差。在默认情况下，flag=0，dim=1。</p>
<p>ex:生成满足正态分布的50000*4随机矩阵，用不同的形式求其各列之间的标准差。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="built_in">randn</span>(<span class="number">50000</span>,<span class="number">4</span>);</span><br><span class="line">&gt;&gt; y1=std(x,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">y1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9958</span>    <span class="number">0.9980</span>    <span class="number">1.0046</span>    <span class="number">0.9990</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y2=std(x,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">y2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9958</span>    <span class="number">0.9980</span>    <span class="number">1.0046</span>    <span class="number">0.9990</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; x1=x&#x27;;</span><br><span class="line">&gt;&gt; y3=std(x1,<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">&gt;&gt; y3&#x27; <span class="comment">%y3&#x27;=y1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9958</span>    <span class="number">0.9980</span>    <span class="number">1.0046</span>    <span class="number">0.9990</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y4=std(x1,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">&gt;&gt; y4&#x27; <span class="comment">%y4&#x27;=y2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9958</span>    <span class="number">0.9980</span>    <span class="number">1.0046</span>    <span class="number">0.9990</span></span><br></pre></td></tr></table></figure>
<p>相关系数能够反映两组数据序列之间相互关系，其计算公式为</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821162834.png" alt="image-20200821162833842"></p>
<p>在MATLAB中，计算相关系数的函数为corrcoef()，其调用格式为：</p>
<p>（1）corrcoef(A)：返回由矩阵A所形成的一个相关系数矩阵，其中，第i行第j 列的元素表示原矩阵A中第i列和第j列的相关系数。 （2）corrcoef(X,Y)：在这里，X,Y是向量，它们与corrcoef([X,Y])的作用一 样，用于求X、Y向量之间的相关系数。</p>
<p>ex:某新产品上市，在上市之 前，公司物流部门把新产品分 配到不同地区的10个仓库进行 销售。产品上市一个月后，公 司要对各种不同的分配方案进 行评估，以便在下一次新产品 上市时进行更准确的分配，避 免由于分配不当而产生的积压 和断货。右表是相关数据，请 判断哪种分配方案最为合理。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821162932.png" alt="image-20200821162929853"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">5032</span>,<span class="number">6000</span>,<span class="number">5100</span>,<span class="number">5200</span>;<span class="number">6532</span>,<span class="number">6500</span>,<span class="number">6600</span>,<span class="number">5800</span>;</span><br><span class="line"><span class="number">5500</span>,<span class="number">7000</span>,<span class="number">5400</span>,<span class="number">4800</span>;<span class="number">4530</span>,<span class="number">4000</span>,<span class="number">4300</span>,<span class="number">4200</span>;</span><br><span class="line"><span class="number">2300</span>,<span class="number">2000</span>,<span class="number">2200</span>,<span class="number">2500</span>;<span class="number">3254</span>,<span class="number">3000</span>,<span class="number">3500</span>,<span class="number">3000</span>;</span><br><span class="line"><span class="number">8095</span>,<span class="number">9000</span>,<span class="number">7800</span>,<span class="number">8500</span>;<span class="number">7530</span>,<span class="number">8000</span>,<span class="number">7000</span>,<span class="number">7500</span>;</span><br><span class="line"><span class="number">3841</span>,<span class="number">3200</span>,<span class="number">3500</span>,<span class="number">3200</span>;<span class="number">4500</span>,<span class="number">5200</span>,<span class="number">4800</span>,<span class="number">4000</span>];</span><br><span class="line">&gt;&gt; corrcoef(A)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>    <span class="number">0.9630</span>    <span class="number">0.9906</span>    <span class="number">0.9782</span></span><br><span class="line">    <span class="number">0.9630</span>    <span class="number">1.0000</span>    <span class="number">0.9694</span>    <span class="number">0.9466</span></span><br><span class="line">    <span class="number">0.9906</span>    <span class="number">0.9694</span>    <span class="number">1.0000</span>    <span class="number">0.9635</span></span><br><span class="line">    <span class="number">0.9782</span>    <span class="number">0.9466</span>    <span class="number">0.9635</span>    <span class="number">1.0000</span></span><br></pre></td></tr></table></figure>
<h3 id="排序"><a class="header-anchor" href="#排序">¶</a>排序</h3>
<p>在MATLAB中，排序函数为sort()，其调用格式为：</p>
<p>（1）sort(X)：对向量X按升序排列。</p>
<p>（2）Y,I]=sort(A,dim,mode)，其中dim指明对A的列还是行进行排序。mode 指明按升序还是降序排序，若取“ascend”，则按升序；若取“descend”， 则按降序，默认为升序。输出参数中，Y是排序后的矩阵，而I记录Y中的元素在A中位置。</p>
<p>ex:对下列矩阵做各种排序。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821165247.png" alt="image-20200821164831765"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">-8</span>,<span class="number">5</span>;<span class="number">4</span>,<span class="number">12</span>,<span class="number">6</span>;<span class="number">13</span>,<span class="number">7</span>,<span class="number">-13</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">sort</span>(A)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>    <span class="number">-8</span>   <span class="number">-13</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">7</span>     <span class="number">5</span></span><br><span class="line">    <span class="number">13</span>    <span class="number">12</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">sort</span>(A,<span class="number">2</span>,<span class="string">&#x27;descend&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">5</span>     <span class="number">1</span>    <span class="number">-8</span></span><br><span class="line">    <span class="number">12</span>     <span class="number">6</span>     <span class="number">4</span></span><br><span class="line">    <span class="number">13</span>     <span class="number">7</span>   <span class="number">-13</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [X,I]=<span class="built_in">sort</span>(A)</span><br><span class="line"></span><br><span class="line">X =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>    <span class="number">-8</span>   <span class="number">-13</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">7</span>     <span class="number">5</span></span><br><span class="line">    <span class="number">13</span>    <span class="number">12</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">2</span>     <span class="number">3</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">3</span>     <span class="number">2</span>     <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="多项式计算"><a class="header-anchor" href="#多项式计算">¶</a>多项式计算</h2>
<ul>
<li>多项式的表示</li>
<li>多项式的四则运算</li>
<li>多项式的求导</li>
<li>多项式的求值</li>
<li>多项式的求根</li>
</ul>
<h3 id="多项式的表示"><a class="header-anchor" href="#多项式的表示">¶</a>多项式的表示</h3>
<p>在MATLAB中，n次多项式用一个长度为n+1的行向量表示。如有n次多项式：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821165212.png" alt="image-20200821165211471"></p>
<p>则在MATLAB中，p(x)表示为向量形式：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821165337.png" alt="image-20200821165336360"></p>
<p>在MATLAB中创建多项式向量时，要注意三点：</p>
<p>（1）多项式系数向量的顺序是从高到低。</p>
<p>（2）多项式系数向量包含0次项系数，所以其长度为多项式最高次数 加1。</p>
<p>（3）如果有的项没有，系数向量相应位置应用0补足。</p>
<h3 id="多项式的四则运算"><a class="header-anchor" href="#多项式的四则运算">¶</a>多项式的四则运算</h3>
<p>（1）多项式的加减运算<br>
多项式的加减运算非常简单，即相应向量相加减。<br>
（2）多项式乘法<br>
conv(P1,P2)：多项式相乘，其中，P1、P2是两个多项式系数向量。<br>
（3）多项式除法<br>
[Q,r]=deconv(P1,P2)：多项式相除，其中Q返回多项式P1除以P2的商式，r返回P1除以P2的余式。这里，Q和r仍是多项式系数向量。deconv是conv的逆函 数，因此有下式成立。<br>
P1=conv(Q,P2)+r</p>
<p>ex:设<code>f(x)=3*x^5-5*x^4-7*x^2+5*x+6,g(x)=3*x^2+5*x-3</code>，求f(x)+g(x),f(x)-g(x),f(x)g(x),f(x)/g(x)。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=[<span class="number">3</span>,<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-7</span>,<span class="number">5</span>,<span class="number">6</span>]; g=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">-3</span>]; g1=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,g];</span><br><span class="line">&gt;&gt; f+g1</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>    <span class="number">-5</span>     <span class="number">0</span>    <span class="number">-4</span>    <span class="number">10</span>     <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f-g1</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">3</span>    <span class="number">-5</span>     <span class="number">0</span>   <span class="number">-10</span>     <span class="number">0</span>     <span class="number">9</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; conv(f,g)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">9</span>     <span class="number">0</span>   <span class="number">-34</span>    <span class="number">-6</span>   <span class="number">-20</span>    <span class="number">64</span>    <span class="number">15</span>   <span class="number">-18</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [Q,r]=deconv(f,g)</span><br><span class="line"></span><br><span class="line">Q =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-3.3333</span>    <span class="number">6.5556</span>  <span class="number">-16.5926</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>  <span class="number">107.6296</span>  <span class="number">-43.7778</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; conv(g,Q)+r          <span class="comment">%=f</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.0000</span>   <span class="number">-5.0000</span>         <span class="number">0</span>   <span class="number">-7.0000</span>    <span class="number">5.0000</span>    <span class="number">6.0000</span></span><br></pre></td></tr></table></figure>
<h3 id="多项式的求导"><a class="header-anchor" href="#多项式的求导">¶</a>多项式的求导</h3>
<p>在MATLAB中，多项式求导函数为polyder()，其调用格式为：</p>
<p>（1）p=polyder§：求多项式P的导函数。<br>
（2）p=polyder(P,Q)：求P×Q的导函数。<br>
（3）[p,q]=polyder(P,Q)：求P/Q的导函数，导函数的分子存入p，分母存入q。</p>
<p>ex:已知两个多项式：</p>
<p><code>a(x)=3*x^3+x^2-6,b(x)=x+2</code></p>
<p>计算两个多项式的乘积的导函数、商的导函数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a=[<span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">-6</span>];</span><br><span class="line">&gt;&gt; b=[<span class="number">1</span> <span class="number">2</span>];</span><br><span class="line">&gt;&gt; polyder(a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">     <span class="number">9</span>     <span class="number">2</span>     <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; c=polyder(a,b)<span class="comment">%这个语句等价于：&gt;&gt; d=conv(a,b)</span></span><br><span class="line">								<span class="comment">%d =</span></span><br><span class="line">								<span class="comment">%3 7 2 -6 -12</span></span><br><span class="line">								<span class="comment">%&gt;&gt; polyder(d)</span></span><br><span class="line">									<span class="comment">%ans =</span></span><br><span class="line">								<span class="comment">%12 21 4 -6</span></span><br><span class="line"></span><br><span class="line">c =</span><br><span class="line"></span><br><span class="line">    <span class="number">12</span>    <span class="number">21</span>     <span class="number">4</span>    <span class="number">-6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [p,q]=polyder(a,b)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">     <span class="number">6</span>    <span class="number">19</span>     <span class="number">4</span>     <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">q =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">4</span>     <span class="number">4</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>思考：对于[p,q]=polyder(a,b)，如 果换成先求商再求导，结果一样吗？</p>
</blockquote>
<h3 id="多项式的求值"><a class="header-anchor" href="#多项式的求值">¶</a>多项式的求值</h3>
<ul>
<li>polyval(p,x):代数多项式求值，其中，p为多项式系数向量，x可以是标量、向量或矩阵。若x为标量，则求多项式在该点的值;若x为向量或矩阵，则对向量或矩阵中的每个元素求多项式的值。</li>
<li>polyvalm(p, x):矩阵多项式求值，其调用格式与polyval相同，但含义不同。polyvalm函数要求x为方阵，以方阵为自变量求多项式的值。</li>
</ul>
<p>设A为方阵，P代表多项式x3-5x2+8，那么polyvalm(P,A)的含义是：</p>
<p><font color="red"><code>A*A*A-5*A*A+8*eye(size(A))</code></font></p>
<p>而polyval(P,A)的含义是：</p>
<p><font color="red"><code>A.*A.*A-5*A.*A+8*ones(size(A))</code></font></p>
<blockquote>
<p>思考：polyval(p,x)与polyvalm(p,x)有没有可能相等？如果有可 能，在什么情况下相等？</p>
</blockquote>
<p>ex:以多项式x 4+8x3-10为例，取一个2×2矩阵为自变量，分别用 polyval和polyvalm计算该多项式的值。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a=[<span class="number">1</span> <span class="number">8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-10</span>];</span><br><span class="line">&gt;&gt; x=[<span class="number">-1</span> <span class="number">1.2</span>;<span class="number">2</span> <span class="number">-1.8</span>];</span><br><span class="line">&gt;&gt; y1=polyval(a,x)</span><br><span class="line"></span><br><span class="line">y1 =</span><br><span class="line"></span><br><span class="line">  <span class="number">-17.0000</span>    <span class="number">5.8976</span></span><br><span class="line">   <span class="number">70.0000</span>  <span class="number">-46.1584</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; y2=polyvalm(a,x)</span><br><span class="line"></span><br><span class="line">y2 =</span><br><span class="line"></span><br><span class="line">  <span class="number">-60.5840</span>   <span class="number">50.6496</span></span><br><span class="line">   <span class="number">84.4160</span>  <span class="number">-94.3504</span></span><br></pre></td></tr></table></figure>
<h3 id="多项式的求根"><a class="header-anchor" href="#多项式的求根">¶</a>多项式的求根</h3>
<p>在MATLAB中，多项式求根函数为roots§，其中p为多项式的系数向量。</p>
<p>ex:求多项式 <code>x^4+8*x^3-10</code>的根。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a=[<span class="number">1</span> <span class="number">8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-10</span>];</span><br><span class="line">&gt;&gt; x=roots(a)</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">  <span class="number">-8.0194</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0344</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">  <span class="number">-0.5075</span> + <span class="number">0.9736</span><span class="built_in">i</span></span><br><span class="line">  <span class="number">-0.5075</span> - <span class="number">0.9736</span><span class="built_in">i</span></span><br></pre></td></tr></table></figure>
<p>若已知多项式的全部根，则可以用poly函数建立起该多 项式，其调用格式为：</p>
<p>p=poly(x)</p>
<p>ex:在以上语句之后，继续输入命令：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; p=poly(x)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>    <span class="number">8.0000</span>    <span class="number">0.0000</span>    <span class="number">0.0000</span>  <span class="number">-10.0000</span></span><br></pre></td></tr></table></figure>
<p>ex:某工业过程需要对工件进行高温加热，热量由一个燃烧装置产生。该装置中共有两条输送管 道，一条管道按固定量提供燃料，一条管道注入空气。空气能够帮助燃烧，但是过高的空气流量 又会带走热量，降低加热效率。经过数十次空气流量实验，技术部门取得了相应的结果数据，并 通过曲线拟合得知空气流量与加热效率在[0, 2]范围内基本满足多项式<code>p(x)=-38.89x^2+126.11x-3.42</code>（x表示空气流量），请推算空气流量在[0, 2]范围内什么水平时，加热效率为最高。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; p=[<span class="number">-38.89</span>,<span class="number">126.11</span>,<span class="number">-3.42</span>];</span><br><span class="line">&gt;&gt; q=polyder(p)</span><br><span class="line">q =</span><br><span class="line"><span class="number">-77.7800</span> <span class="number">126.1100</span></span><br><span class="line">&gt;&gt; roots(q)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">1.6214</span></span><br><span class="line">&gt;&gt; polyval(p,<span class="number">1.6214</span>)</span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line"><span class="number">98.8154</span></span><br><span class="line">&gt;&gt; x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>;</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,polyval(p,x),<span class="number">1.6214</span>,<span class="number">98.8154</span>,<span class="string">&#x27;rp&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821174701.png" alt="image-20200821174657674"></p>
<h2 id="数据插值"><a class="header-anchor" href="#数据插值">¶</a>数据插值</h2>
<ul>
<li>引例-零件加工问题</li>
<li>数据插值的计算机制</li>
<li>数据插值的实现方法</li>
<li>应用案例-粮储仓的通风控制问题</li>
</ul>
<h3 id="引例-零件加工问题"><a class="header-anchor" href="#引例-零件加工问题">¶</a>引例-零件加工问题</h3>
<p>在飞机制造中，机翼的加工是一项关键技术。由于机翼尺寸很大，通常 在图纸中只能标出一些关键点的数据。下表给出了某型飞机机翼的下缘 轮廓线数据，求x每改变0.1时y的值。</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0</th>
<th>3</th>
<th>5</th>
<th>7</th>
<th>9</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
</tr>
</thead>
<tbody>
<tr>
<td>y</td>
<td>0</td>
<td>1.2</td>
<td>1.7</td>
<td>2.0</td>
<td>2.1</td>
<td>2.0</td>
<td>1.8</td>
<td>1.2</td>
<td>1.0</td>
<td>1.6</td>
</tr>
</tbody>
</table>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821182018.png" alt="image-20200821181842835"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>];</span><br><span class="line">&gt;&gt; y=[<span class="number">0</span>,<span class="number">1.2</span>,<span class="number">1.7</span>,<span class="number">2.0</span>,<span class="number">2.1</span>,<span class="number">2.0</span>,<span class="number">1.8</span>,<span class="number">1.2</span>,<span class="number">1.0</span>,<span class="number">1.6</span>];</span><br><span class="line">&gt;&gt; x1=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">15</span>;</span><br><span class="line">&gt;&gt; y1=interp1(x,y,x1,<span class="string">&#x27;spline&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x1,y1)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821182002.png" alt="image-20200821182001920"></p>
<h3 id="数据插值的计算机制"><a class="header-anchor" href="#数据插值的计算机制">¶</a>数据插值的计算机制</h3>
<p>从数学上来说，数据插值是一种函数逼近的方法。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203653.png" alt="image-20200821201007384"></p>
<h3 id="数据插值的实现方法"><a class="header-anchor" href="#数据插值的实现方法">¶</a>数据插值的实现方法</h3>
<p>在MATLAB中，一维插值函数为interp1()，其调用格式为：</p>
<p>Y1=interp1(X,Y,X1,method)</p>
<p>该语句将根据X、Y的值，计算函数在X1处的值。其中，X、Y是两个等长 的已知向量，分别表示采样点和采样值。X1是一个向量或标量，表示要 插值的点。</p>
<p>method参数用于指定插值方法，常用的取值有以下四种：</p>
<p>(1) linear:线性插值，默认方法。将与插值点靠近的两个数据点用直线连接，然后在直线上选取对应插值点的数据。<br>
(2)nearest:最近点插值。选择最近样本点的值作为插值数据。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821200421.png" alt="image-20200821200420255"></p>
<p>(3） pchip:分段3次埃尔米特插值。采用分段三次多项式，除满足插值条件，还需满足在若干节点处相邻段插值函数的一阶导数相等，使得曲线光滑的同时，还具有保形性。<br>
(4） spline:3次样条插值。每个分段内构造一个三次多项式，使其插值函数除满足插值条件外，还要求在各节点处具有连续的一阶和二阶导数。</p>
<blockquote>
<p>思考：为什么这两种插值方法都用3次多项式而不用更高次的？</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203629.png" alt="image-20200821200550064"></p>
<h3 id="四种方法的比较"><a class="header-anchor" href="#四种方法的比较">¶</a>四种方法的比较</h3>
<ul>
<li>线性插值和最近点插值方法比较简单。其中线性插值方法的计算量与样本点n无关。n越大，误差越小。</li>
<li>3次埃尔米特插值和3次样条插值都能保证曲线的光滑性。相比较而言，3次埃尔米特插值具有保形性;而3次样条插值要求其二阶导数也连续，所以插值函数的性态更好。</li>
</ul>
<p>MATLAB中的二维插值函数为interp2()，其调用格式为：<br>
Z1=interp2(X,Y,Z,X1,Y1,method)<br>
其中，X、Y是两个向量，表示两个参数的采样点，Z是采样 点对应的函数值。X1、Y1是两个标量或向量，表示要插值 的点。</p>
<h3 id="粮储仓的通风控制问题"><a class="header-anchor" href="#粮储仓的通风控制问题">¶</a>粮储仓的通风控制问题</h3>
<p>在某粮情自动测控系统中，根据粮温、粮湿计算平衡点湿度，与大气湿 度进行比较，再根据通风模拟情况决定是否自动进行通风。已测得平衡 点湿度与粮温、粮湿关系的部分数据如下表，请推算相应范围内温度每 变化1度、湿度每变化1个点的平衡点湿度。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821201245.png" alt="image-20200821201244739"></p>
<blockquote>
<p>若粮食水分吸收和蒸发量相等，这个湿度称为平衡点湿度。平衡点湿 度跟粮温、粮湿有关。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">20</span>:<span class="number">10</span>:<span class="number">90</span>;</span><br><span class="line">&gt;&gt; y=(<span class="number">0</span>:<span class="number">5</span>:<span class="number">20</span>)&#x27;;</span><br><span class="line">&gt;&gt; z=[<span class="number">8.9</span>,<span class="number">10.32</span>,<span class="number">11.3</span>,<span class="number">12.5</span>,<span class="number">13.9</span>,<span class="number">15.3</span>,<span class="number">17.8</span>,<span class="number">21.3</span>;</span><br><span class="line"><span class="number">8.7</span>,<span class="number">10.8</span>,<span class="number">11</span>,<span class="number">12.1</span>,<span class="number">13.2</span>,<span class="number">14.8</span>,<span class="number">16.55</span>,<span class="number">20.8</span>;</span><br><span class="line"><span class="number">8.3</span>,<span class="number">9.65</span>,<span class="number">10.88</span>,<span class="number">12</span>,<span class="number">13.2</span>,<span class="number">14.6</span>,<span class="number">16.4</span>,<span class="number">20.5</span>;</span><br><span class="line"><span class="number">8.1</span>,<span class="number">9.4</span>,<span class="number">10.7</span>,<span class="number">11.9</span>,<span class="number">13.1</span>,<span class="number">14.5</span>,<span class="number">16.2</span>,<span class="number">20.3</span>;</span><br><span class="line"><span class="number">8.1</span>,<span class="number">9.2</span>,<span class="number">10.8</span>,<span class="number">12</span>,<span class="number">13.2</span>,<span class="number">14.8</span>,<span class="number">16.9</span>,<span class="number">20.9</span>];</span><br><span class="line">&gt;&gt; xi=<span class="number">20</span>:<span class="number">90</span>;</span><br><span class="line">&gt;&gt; yi=(<span class="number">0</span>:<span class="number">20</span>)&#x27;;</span><br><span class="line">&gt;&gt; zi=interp2(x,y,z,xi,yi,<span class="string">&#x27;spline&#x27;</span>);</span><br><span class="line">&gt;&gt; surf(xi,yi,zi)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203618.png" alt="image-20200821201434989"></p>
<h2 id="数据插值应用举例"><a class="header-anchor" href="#数据插值应用举例">¶</a>数据插值应用举例</h2>
<ul>
<li>机动车刹车距离问题</li>
<li>沙盘制作问题</li>
</ul>
<h3 id="机动车刹车距离问题"><a class="header-anchor" href="#机动车刹车距离问题">¶</a>机动车刹车距离问题</h3>
<p>在车辆行驶中，从驾驶员看到障碍物开始，到作出判断而采取制动措施停车所需的最短 距离叫停车视距。停车视距由三部分组成：一是驾驶员反应时间内行驶的距离（即反应 距离）；二是开始制动到车辆完全停止所行驶的距离（即制动距离）；三是车辆停止时 与障碍物应该保持的安全距离。其中，制动距离主要与行驶速度和路面类型有关。根据 测试，某型车辆在潮湿天气于沥青路面行驶时，其行车速度（单位：km/h）与制动距离 （单位：m）的关系如下表所示。</p>
<table>
<thead>
<tr>
<th>速度</th>
<th>20</th>
<th>30</th>
<th>40</th>
<th>50</th>
<th>60</th>
<th>70</th>
<th>80</th>
<th>90</th>
<th>100</th>
<th>110</th>
<th>120</th>
<th>130</th>
<th>140</th>
<th>150</th>
</tr>
</thead>
<tbody>
<tr>
<td>制动距离</td>
<td>3.15</td>
<td>7.08</td>
<td>12.59</td>
<td>19.68</td>
<td>28.34</td>
<td>38.57</td>
<td>50.4</td>
<td>63.75</td>
<td>78.71</td>
<td>95.22</td>
<td>113.29</td>
<td>132.93</td>
<td>154.12</td>
<td>176.87</td>
</tr>
</tbody>
</table>
<p>假设驾驶员的反应时间为10s，安全距离为10m。请问:<br>
①根据某驾驶员的实际视力和视觉习惯，其驾驶时的有效视距为120m，则其在该路面行车时，时速最高不能超过多少（结果取整）?<br>
②若以表中数据为参考，设计一条最高时速为125km/h的高速公路，则设计人员应该保证驾驶者在公路上任一点的可视距离为多少米?</p>
<p><font color="red"><strong>设</strong></font>速度为v，停车视距为d，反应距离为d1，制动距离为d2，安全距离为d3，反应时间为as， 则<br>
d=d1+d2+d3<br>
其中，d1=asv，d2为v的函数，d3已知。<br>
第一问：根据某驾驶员的实际视力和视觉习惯，其驾驶时的有效视距为120m，则其在该路面<br>
行车时，时速最高不能超过多少（结果取整） ？<br>
已知反应时间为10s，安全距离为10m，可采用解方程方法：<br>
10v+d2+10=120<br>
存在的问题是，d2是v的函数，但是函数关系未知，方程不可解。<br>
下面考虑<strong>数据插值方法</strong>，以表格中的数据为样本，进行数据插值，计算出与120m的停车视距所对应的速度指标。<br>
<font color="red"><strong>编程思路：</strong></font><br>
第一步:建立速度和停车视距向量。<br>
第二步:以1为单位，对采样区间内所有速度进行插值，计算出相应的停车视距。<br>
第三步:求出停车视距120所对应的速度。<br>
第四步:绘图展示。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">v=<span class="number">20</span>:<span class="number">10</span>:<span class="number">150</span>;</span><br><span class="line">vs=v.*(<span class="number">1000</span>/<span class="number">3600</span>);</span><br><span class="line">d1=<span class="number">10.</span>*vs;</span><br><span class="line">d2=[<span class="number">3.15</span>,<span class="number">7.08</span>,<span class="number">12.59</span>,<span class="number">19.68</span>,<span class="number">28.34</span>,<span class="number">38.57</span>,<span class="number">50.4</span>,<span class="number">63.75</span>,<span class="number">78.71</span>,<span class="number">95.22</span>,<span class="number">113.29</span>,<span class="number">132.93</span>,<span class="number">154.12</span>,<span class="number">176.87</span>];</span><br><span class="line">d3=<span class="number">10</span>;</span><br><span class="line">d=d1+d2+d3;</span><br><span class="line">vi=<span class="number">20</span>:<span class="number">1</span>:<span class="number">150</span>;</span><br><span class="line">di=interp1(v,d,vi,<span class="string">&#x27;spline&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><font color="red">如何根据停车视距120找到对应的速度？</font></p>
<p>第一步;令代表停车视距的向量di减去120，再取绝对值，得到一个新的向量x。<br>
第二步:将x按升序排列，并记录最小元素的序号，该序号即为停车视距120所对应的速度数据在向量vi中的序号。<br>
第三步;根据序号取得速度数据。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="built_in">abs</span>(di<span class="number">-120</span>);</span><br><span class="line">[y,<span class="built_in">i</span>]=<span class="built_in">sort</span>(x);</span><br><span class="line">vi(<span class="built_in">i</span>(<span class="number">1</span>)) <span class="comment">%vi(i(1))=36</span></span><br><span class="line"><span class="built_in">plot</span>(vi,di,vi(<span class="built_in">i</span>(<span class="number">1</span>)),di(<span class="built_in">i</span>(<span class="number">1</span>)),<span class="string">&#x27;rp&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203611.png" alt="image-20200821202810194"></p>
<ul>
<li>停车视距的增长随着车速增加呈非线性增长。</li>
<li>速度越快，要求视线越远。</li>
</ul>
<p><strong>第二问</strong>：设计一条最高时速为125km/h 的高速公路，则设计人员应该保证驾驶 者在公路上任一点的可视距离为多少米？</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">j</span>=<span class="built_in">find</span>(vi==<span class="number">125</span>);</span><br><span class="line">&gt;&gt; di(<span class="built_in">j</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">480.1373</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(vi,di,<span class="number">125</span>,<span class="number">480.1373</span>,<span class="string">&#x27;rp&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203557.png" alt="image-20200821203028579"></p>
<p>公路设计是一个复杂的工程，除了地形、 地质等因素之外，驾驶者的可视距离也 要考虑在内，以与设计时速相匹配，从 设计上保障安全。</p>
<h3 id="沙盘制作问题"><a class="header-anchor" href="#沙盘制作问题">¶</a>沙盘制作问题</h3>
<p>某地面部队分成红蓝两方在指定的陌生区域（平面区域[0,2000]*[0,2000]内，单位：m） 进行作战演习。在演习过程中，红方侦查单位已经测得一些地点的高程如下表所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203551.png" alt="image-20200821203151462"></p>
<p>①根据表中数据，制作军事沙盘。<br>
②在演习范围内，占领最大高地的一方将获得居高临下的优势。请问红方应第一时间抢占哪块区域。</p>
<p><font color="red">解题思路：</font></p>
<ul>
<li>第一问:用二维插值估算数据，以方便制作军事沙盘。</li>
<li>第二问:在插值的基础上，绘制等高线图，找到最大高地。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="number">0</span>:<span class="number">200</span>:<span class="number">1800</span>;</span><br><span class="line">y=x&#x27;;</span><br><span class="line">z=[<span class="number">2000</span>,<span class="number">2000</span>,<span class="number">2001</span>,<span class="number">1992</span>,<span class="number">1954</span>,<span class="number">1938</span>,<span class="number">1972</span>,<span class="number">1995</span>,<span class="number">1999</span>,<span class="number">1999</span>;</span><br><span class="line"><span class="number">2000</span>,<span class="number">2002</span>,<span class="number">2006</span>,<span class="number">1908</span>,<span class="number">1533</span>,<span class="number">1381</span>,<span class="number">1728</span>, <span class="number">1959</span>,<span class="number">1998</span>,<span class="number">2000</span>;</span><br><span class="line"><span class="number">2000</span>,<span class="number">2005</span>,<span class="number">2043</span>,<span class="number">1921</span>,<span class="number">977</span>,<span class="number">897</span>,<span class="number">1310</span>,<span class="number">1930</span>,<span class="number">2003</span>,<span class="number">2000</span>;</span><br><span class="line"><span class="number">1997</span>,<span class="number">1978</span>,<span class="number">2009</span>,<span class="number">2463</span>,<span class="number">2374</span>,<span class="number">1445</span>,<span class="number">1931</span>,<span class="number">2209</span>,<span class="number">2050</span>,<span class="number">2003</span>;</span><br><span class="line"><span class="number">1992</span>,<span class="number">1892</span>,<span class="number">1566</span>,<span class="number">1971</span>,<span class="number">2768</span>,<span class="number">2111</span>,<span class="number">2653</span>,<span class="number">2610</span>,<span class="number">2121</span>,<span class="number">2007</span>;</span><br><span class="line"><span class="number">1991</span>,<span class="number">1875</span>,<span class="number">1511</span>,<span class="number">1556</span>,<span class="number">2221</span>,<span class="number">1986</span>,<span class="number">2660</span>,<span class="number">2601</span>,<span class="number">2119</span>,<span class="number">2007</span>;</span><br><span class="line"><span class="number">1996</span>,<span class="number">1950</span>,<span class="number">1797</span>,<span class="number">2057</span>,<span class="number">2849</span>,<span class="number">2798</span>,<span class="number">2608</span>,<span class="number">2303</span>,<span class="number">2052</span>,<span class="number">2003</span>;</span><br><span class="line"><span class="number">1999</span>,<span class="number">1999</span>,<span class="number">2079</span>,<span class="number">2685</span>,<span class="number">3390</span>,<span class="number">3384</span>,<span class="number">2781</span>,<span class="number">2165</span>,<span class="number">2016</span>,<span class="number">2000</span>;</span><br><span class="line"><span class="number">2000</span>,<span class="number">2002</span>,<span class="number">2043</span>,<span class="number">2271</span>,<span class="number">2668</span>,<span class="number">2668</span>,<span class="number">2277</span>,<span class="number">2049</span>,<span class="number">2003</span>,<span class="number">2000</span>;</span><br><span class="line"><span class="number">2000</span>,<span class="number">2000</span>,<span class="number">2004</span>,<span class="number">2027</span>,<span class="number">2067</span>,<span class="number">2067</span>,<span class="number">2027</span>,<span class="number">2004</span>,<span class="number">2000</span>,<span class="number">2000</span>];</span><br><span class="line">surf(x,y,z);</span><br><span class="line">x1=<span class="number">0</span>:<span class="number">100</span>:<span class="number">1800</span>;</span><br><span class="line">y1=x1&#x27;;</span><br><span class="line">z1=interp2(x,y,z,x1,y1,<span class="string">&#x27;spline&#x27;</span>);</span><br><span class="line">surf(x1,y1,z1);</span><br><span class="line">x2=<span class="number">0</span>:<span class="number">50</span>:<span class="number">1800</span>;</span><br><span class="line">y2=x2&#x27;;</span><br><span class="line">z2=interp2(x1,y1,z1,x2,y2,<span class="string">&#x27;spline&#x27;</span>);</span><br><span class="line">surf(x2,y2,z2);</span><br><span class="line">contour(x2,y2,z2,<span class="number">12</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821203541.png" alt="image-20200821203540410"></p>
<h2 id="曲线拟合"><a class="header-anchor" href="#曲线拟合">¶</a>曲线拟合</h2>
<ul>
<li>引例-人口预测问题</li>
<li>曲线拟合的原理</li>
<li>曲线拟合的实现方法</li>
<li>实际应用</li>
</ul>
<h3 id="引例-人口预测问题"><a class="header-anchor" href="#引例-人口预测问题">¶</a>引例-人口预测问题</h3>
<p>人口增长是当今世界上都关注的问题，对人口增长趋势进行预测是 各国普遍的做法。已知某国1790年到2010年间历次人口普查数据如 下表所示，请预测该国2020年的人口数。</p>
<table>
<thead>
<tr>
<th>年份</th>
<th>1790</th>
<th>1800</th>
<th>1810</th>
<th>1820</th>
<th>1830</th>
<th>1840</th>
<th>1850</th>
<th>1860</th>
<th>1870</th>
<th>1880</th>
<th>1890</th>
<th>1900</th>
</tr>
</thead>
<tbody>
<tr>
<td>人口（百万）</td>
<td>3.9</td>
<td>5.3</td>
<td>7.2</td>
<td>9.6</td>
<td>12.9</td>
<td>17.1</td>
<td>23.2</td>
<td>31.4</td>
<td>38.6</td>
<td>50.2</td>
<td>63.0</td>
<td>76.0</td>
</tr>
<tr>
<td>年份</td>
<td>1910</td>
<td>1920</td>
<td>1930</td>
<td>1940</td>
<td>1950</td>
<td>1960</td>
<td>1970</td>
<td>1980</td>
<td>1990</td>
<td>2000</td>
<td>2010</td>
<td></td>
</tr>
<tr>
<td>人口（百万）</td>
<td>92.0</td>
<td>105.7</td>
<td>122.8</td>
<td>131.7</td>
<td>150.7</td>
<td>179.3</td>
<td>203.2</td>
<td>226.5</td>
<td>248.7</td>
<td>281.4</td>
<td>308.7</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>解题思路：找一个函数，去逼近这些数据，然后再根据找到的函数， 计算预测点的值。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="number">1790</span>:<span class="number">10</span>:<span class="number">2010</span>;</span><br><span class="line">y=[<span class="number">3.9</span>,<span class="number">5.3</span>,<span class="number">7.2</span>,<span class="number">9.6</span>,<span class="number">12.9</span>,<span class="number">17.1</span>,<span class="number">23.2</span>,<span class="number">31.4</span>,<span class="number">38.6</span>,<span class="number">50.2</span>,<span class="number">63.0</span>,<span class="number">76.0</span>,<span class="number">92.0</span>,<span class="number">105.7</span>,<span class="number">122.8</span>,<span class="number">131.7</span>,<span class="number">150.7</span>,<span class="number">179.3</span>,<span class="number">203.2</span>,<span class="number">226.5</span>,<span class="number">248.7</span>,<span class="number">281.4</span>,<span class="number">308.7</span>];</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">p=polyfit(x,y,<span class="number">3</span>);</span><br><span class="line">polyval(p,<span class="number">2020</span>)</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,x,polyval(p,x));</span><br><span class="line"><span class="comment">%ans=339.8</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821205035.png" alt="image-20200821205034699"></p>
<h3 id="曲线拟合的原理"><a class="header-anchor" href="#曲线拟合的原理">¶</a>曲线拟合的原理</h3>
<p>与数据插值类似，曲线拟合也是一种函数逼近的方法。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821205623.png" alt="image-20200821205154515"></p>
<p>构造函数g(x)去逼近未知函数f(x)，使得误差</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821205618.png" alt="image-20200821205222116"></p>
<p>在某种意义下达到最小。</p>
<p><font color="red"><strong>两个问题</strong>：</font></p>
<ul>
<li>(1)用什么类型的函数做逼近函数?     多项式函数</li>
<li>(2）误差最小到底怎么计算?     最小二乘法</li>
</ul>
<p><strong>最小二乘法</strong>（又称最小平方法）是一种数学优化技术。它通过最小化误差的平方和来寻找数据的最佳函数匹配。</p>
<p>设p(x)是一个多项式函数</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821205611.png" alt="image-20200821205610481"></p>
<p>且</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821205644.png" alt="image-20200821205643541"></p>
<p>的值最小，则p(x)为原函数y=f(x)的逼近函数。</p>
<h3 id="曲线拟合的实现方法"><a class="header-anchor" href="#曲线拟合的实现方法">¶</a>曲线拟合的实现方法</h3>
<p>MATLAB中的多项式拟合函数为polyfit()，其功能为求得最小二乘拟合多项式系 数，其调用格式为：</p>
<p>(1）P=polyfit(X,Y,m)<br>
(2）[P,S]=polyfit(X,Y,m)<br>
(3）[P, S,mu]=polyfit(X,Y,m):根据样本数据X和Y，产生一个m次多项式P及其在采样点误差数据S，mu(1)是一个二元向量，mu(1)是mean(X)，而mu(2)是std(X)。</p>
<p>在引例中，我们已经用polyfit()函数预测了某国2020年的人口数。这 个结果是否正确呢？我们无法得到2020年的数据，但是2016年的数 据已经有了。所以，不妨再预测一下该国2016年的人口数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; polyval(p,<span class="number">2016</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">327.0964</span></span><br></pre></td></tr></table></figure>
<p>该国2016年人口数实际为323.1。</p>
<blockquote>
<p>思考：相对误差1.24%，怎样才能减小？</p>
</blockquote>
<p><font color="purple">问题分析：</font></p>
<p>据研究，一个国家的人口增长具有如下特点：</p>
<p>(1）发展越平稳，人口增长越有规律。<br>
(2）当经济发展到一定水平时，人口增长率反而下降。<br>
换言之，在不同的环境和经济发展水平，人口可能有不同的增长规律。</p>
<p><font color="purple">结论：</font></p>
<p>在人口增长数据的拟合上，应该将二战后至今这一时期的数据与此前的数据分开处理。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">1950</span>:<span class="number">10</span>:<span class="number">2010</span>;</span><br><span class="line">&gt;&gt; y=[<span class="number">150.7</span>,<span class="number">179.3</span>,<span class="number">203.2</span>,<span class="number">226.5</span>,<span class="number">248.7</span>,<span class="number">281.4</span>,<span class="number">308.7</span>];</span><br><span class="line">&gt;&gt; p=polyfit(x,y,<span class="number">3</span>)</span><br><span class="line">p =</span><br><span class="line"><span class="number">1.0e+06</span> *  <span class="comment">%次数太高</span></span><br><span class="line"><span class="number">0.0000</span> <span class="number">-0.0000</span> <span class="number">0.0034</span> <span class="number">-2.2305</span></span><br><span class="line">&gt;&gt; p=polyfit(x,y,<span class="number">2</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,x,polyval(p,x))</span><br><span class="line">&gt;&gt; polyval(p,<span class="number">2016</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">325.1696</span>   <span class="comment">%相对误差成功减小到0.64%！</span></span><br><span class="line">&gt;&gt; polyval(p,<span class="number">2020</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">336.7857</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="../../../picture/PicGo/copypicture/image-20200821210713453.png" alt="image-20200821210713453"></p>
<p>结论：</p>
<p>（1）要对问题的背景进行详细的分析。</p>
<p>（2）采样点并非越多越好，适当的时候，可以减少采样点，分段进行拟合。</p>
<h3 id="家庭储蓄规律问题"><a class="header-anchor" href="#家庭储蓄规律问题">¶</a>家庭储蓄规律问题</h3>
<p>以下是某市家庭收入x与家庭储蓄y之间的一组调查数据（单位：万元）， 试建立x与y的线性函数经验公式。</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0.6</th>
<th>1.0</th>
<th>1.4</th>
<th>1.8</th>
<th>2.2</th>
<th>2.6</th>
<th>3.0</th>
<th>3.4</th>
<th>3.8</th>
<th>4</th>
</tr>
</thead>
<tbody>
<tr>
<td>y</td>
<td>0.08</td>
<td>0.22</td>
<td>0.31</td>
<td>0.4</td>
<td>0.48</td>
<td>0.56</td>
<td>0.67</td>
<td>0.75</td>
<td>0.8</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">0.6</span>,<span class="number">1.0</span>,<span class="number">1.4</span>,<span class="number">1.8</span>,<span class="number">2.2</span>,<span class="number">2.6</span>,<span class="number">3.0</span>,<span class="number">3.4</span>,<span class="number">3.8</span>,<span class="number">4</span> ];</span><br><span class="line">&gt;&gt;  y=[<span class="number">0.08</span>,<span class="number">0.22</span>,<span class="number">0.31</span>,<span class="number">0.4</span>,<span class="number">0.48</span>,<span class="number">0.56</span>,<span class="number">0.67</span>,<span class="number">0.75</span>,<span class="number">0.8</span>,<span class="number">1.0</span> ];</span><br><span class="line">&gt;&gt;  p=polyfit(x,y,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2390</span>   <span class="number">-0.0418</span></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,x,polyval(p,x))</span><br></pre></td></tr></table></figure>
<blockquote>
<p><font color="red">经验公式：y=0.239x-0.0418</font></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="../../../picture/PicGo/copypicture/20200821211259.png" alt="image-20200821211258252">曲线拟合的<strong>三种功能</strong>： （1）估算数据 （2）预测趋势 （3）总结规律</p>
<h2 id="曲线拟合应用举例"><a class="header-anchor" href="#曲线拟合应用举例">¶</a>曲线拟合应用举例</h2>
<ul>
<li>股票预测问题</li>
<li>算法的参数优化问题</li>
</ul>
<h3 id="股票预测问题"><a class="header-anchor" href="#股票预测问题">¶</a>股票预测问题</h3>
<p>已知一只股票在2016年8月每个交易日的收盘价如下表所示，试预测 其后面的大体走势。</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>15</th>
<th>16</th>
</tr>
</thead>
<tbody>
<tr>
<td>价格</td>
<td>7.74</td>
<td>7.84</td>
<td>7.82</td>
<td>7.78</td>
<td>7.91</td>
<td>7.97</td>
<td>7.9</td>
<td>7.76</td>
<td>7.9</td>
<td>8.04</td>
<td>8.06</td>
</tr>
<tr>
<td>时间</td>
<td>17</td>
<td>18</td>
<td>19</td>
<td>22</td>
<td>23</td>
<td>24</td>
<td>25</td>
<td>26</td>
<td>29</td>
<td>30</td>
<td></td>
</tr>
<tr>
<td>价格</td>
<td>8.11</td>
<td>8.08</td>
<td>8.13</td>
<td>8.03</td>
<td>8.01</td>
<td>8.06</td>
<td>8.0</td>
<td>8.3</td>
<td>8.41</td>
<td>8.28</td>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">29</span>,<span class="number">30</span>];</span><br><span class="line">&gt;&gt; y=[<span class="number">7.74</span>,<span class="number">7.84</span>,<span class="number">7.82</span>,<span class="number">7.78</span>,<span class="number">7.91</span>,<span class="number">7.97</span>,<span class="number">7.9</span>,<span class="number">7.76</span>,<span class="number">7.9</span>,<span class="number">8.04</span>,<span class="number">8.06</span>,<span class="number">8.11</span>,<span class="number">8.08</span>,<span class="number">8.13</span>,<span class="number">8.03</span>,<span class="number">8.01</span>,<span class="number">8.06</span>,<span class="number">8.0</span>,<span class="number">8.3</span>,<span class="number">8.41</span>,<span class="number">8.28</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; p=polyfit(x,y,<span class="number">3</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,x,polyval(p,x));</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821212103.png" alt="image-20200821212101554"></p>
<blockquote>
<p>跳动幅度大，不稳定，难以看出规律。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821212146.png" alt="image-20200821212145780"></p>
<p>该股票后三个交易日的收盘价分别为8.27,8.17,9.54。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x1=[<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>];</span><br><span class="line">&gt;&gt; xi=[x,x1];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,xi,polyval(p,xi));</span><br><span class="line">&gt;&gt; y1=[<span class="number">8.27</span>,<span class="number">8.17</span>,<span class="number">9.54</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;*&#x27;</span>,xi,polyval(p,xi),x1,y1,<span class="string">&#x27;rp&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821212253.png" alt="image-20200821212251986"></p>
<blockquote>
<p>误差太大， 预测结果并 没有太大的 参考价值。</p>
</blockquote>
<h3 id="算法的参数优化问题"><a class="header-anchor" href="#算法的参数优化问题">¶</a>算法的参数优化问题</h3>
<p>在群体智能优化算法的设计中，搜索行为具有一定的随机性，以免于陷入局部最优。 但是，随机性参数的设置却是一个普遍性的难题。如果随机性过高，算法的多样性增 加，但是难以收敛；若随机性太低，算法收敛速度快，但多样性降低，极有可能陷入 局部最优。已知某算法随机性参数与多样性、收敛性的关系分别如表1和表2所示，其中收敛性与多样性数据都已经转换为与算法性能相关的统一度量。现在算法的设计者 既不愿意降低收敛性，又不愿意牺牲多样性，想要在两者之间取得一个平衡点。请问怎么确定随机性参数？</p>
<p>​				表1 随机性参数与多样性度量之间的关系</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0.03</th>
<th>0.06</th>
<th>0.09</th>
<th>0.12</th>
<th>0.15</th>
<th>0.18</th>
<th>0.21</th>
<th>0.24</th>
<th>0.27</th>
<th>0.3</th>
</tr>
</thead>
<tbody>
<tr>
<td>y1</td>
<td>0.01</td>
<td>0.01</td>
<td>0.02</td>
<td>0.03</td>
<td>0.06</td>
<td>0.07</td>
<td>0.13</td>
<td>0.17</td>
<td>0.25</td>
<td>0.37</td>
</tr>
</tbody>
</table>
<p>​				表2 随机性参数与收敛性度量之间的关系</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0.03</th>
<th>0.06</th>
<th>0.09</th>
<th>0.12</th>
<th>0.15</th>
<th>0.18</th>
<th>0.21</th>
<th>0.24</th>
<th>0.27</th>
<th>0.3</th>
</tr>
</thead>
<tbody>
<tr>
<td>y2</td>
<td>0.85</td>
<td>0.76</td>
<td>0.68</td>
<td>0.62</td>
<td>0.54</td>
<td>0.52</td>
<td>0.5</td>
<td>0.49</td>
<td>0.48</td>
<td>0.47</td>
</tr>
</tbody>
</table>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=<span class="number">0.03</span>:<span class="number">0.03</span>:<span class="number">0.3</span>;</span><br><span class="line">y1=[<span class="number">0.01</span>,<span class="number">0.01</span>,<span class="number">0.02</span>,<span class="number">0.03</span>,<span class="number">0.06</span>,<span class="number">0.07</span>,<span class="number">0.13</span>,<span class="number">0.17</span>,<span class="number">0.25</span>,<span class="number">0.37</span>];</span><br><span class="line">y2=[<span class="number">0.85</span>,<span class="number">0.76</span>,<span class="number">0.68</span>,<span class="number">0.62</span>,<span class="number">0.56</span>,<span class="number">0.52</span>,<span class="number">0.49</span>,<span class="number">0.46</span>,<span class="number">0.43</span>,<span class="number">0.39</span>];</span><br><span class="line"><span class="built_in">plot</span>(x,y1,<span class="string">&#x27;*&#x27;</span>,x,y2,<span class="string">&#x27;o&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821213119.png" alt="image-20200821212813579"></p>
<p><font color="pink">问题分析：</font></p>
<ul>
<li>随机性参数的增长导致多样性增加，收敛性降低。</li>
<li>两者同等重要，则取平衡点。</li>
<li>平衡点最佳位置是多样性和收敛性相等的地方。</li>
</ul>
<p><font color="pink">解决方案：</font></p>
<ul>
<li>第一步：分别对多样性和收敛性进行拟合，得到拟合曲线。</li>
<li>第二步：找到两曲线的交点。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">p1=polyfit(x,y1,<span class="number">2</span>);</span><br><span class="line">p2=polyfit(x,y2,<span class="number">2</span>);</span><br><span class="line">p=p1-p2;</span><br><span class="line">xi=roots(p);</span><br><span class="line">xj=<span class="number">0</span>:<span class="number">0.03</span>:<span class="number">0.36</span>;</span><br><span class="line">yj1=polyval(p1,xj);</span><br><span class="line">yj2=polyval(p2,xj);</span><br><span class="line">yi=polyval(p1,xi(<span class="number">2</span>))</span><br><span class="line"><span class="built_in">plot</span>(x,y1,<span class="string">&#x27;*&#x27;</span>,x,y2,<span class="string">&#x27;o&#x27;</span>,xj,yj1,xj,yj2,xi(<span class="number">2</span>),yi,<span class="string">&#x27;rp&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200821213059.png" alt="image-20200821213058480"></p>
<h3 id="数据插值与曲线拟合的比较"><a class="header-anchor" href="#数据插值与曲线拟合的比较">¶</a>数据插值与曲线拟合的比较</h3>
<p>相同点：</p>
<ul>
<li>都属于函数逼近方法</li>
<li>都能进行数据估算</li>
</ul>
<p>不同点：</p>
<ul>
<li>实现方法不同</li>
<li>结果形式不同</li>
<li>侧重点不同</li>
<li>应用场合不同</li>
</ul>
<h1>数值微积分与方程求解</h1>
<h2 id="数值微分与数值积分数值微分"><a class="header-anchor" href="#数值微分与数值积分数值微分">¶</a>数值微分与数值积分数值微分</h2>
<ul>
<li>数值积分</li>
<li>数值微分</li>
</ul>
<h3 id="数值微分"><a class="header-anchor" href="#数值微分">¶</a>数值微分</h3>
<h4 id="数值差分与差商"><a class="header-anchor" href="#数值差分与差商">¶</a>数值差分与差商</h4>
<p>微积分中，任意函数f(x)在x0点的导数是通过极限定义的：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826183722.png" alt="image-20200826183720287"></p>
<p>如果去掉极限定义中h趋向于0的极限过程，得到函数在x0点处以h（h&gt;0） 为步长的向前差分、向后差分和中心差分公式：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826183758.png" alt="image-20200826183756703"></p>
<p>函数f(x)在点x0的微分接近于函数在该点的差分，而f在点x的导数接近于函数在该点的差商。</p>
<h4 id="数值微分的实现"><a class="header-anchor" href="#数值微分的实现">¶</a>数值微分的实现</h4>
<p>MATLAB提供了求向前差分的函数diff，其调用格式有三种：</p>
<ul>
<li><font color='purple'>dx=diff(x)</font>:计算向量x的向前差分，dx(i)=x(i+1)-x(i)，i=1，2，…，n-1。</li>
<li><font color='purple'>dx=diff(x, n):</font>计算向量x的n阶向前差分。例如，diff(x,2)=diff(diff(x))。</li>
<li><font color='purple'>dx=diff(A,n, dim):</font>计算矩阵A的n阶差分，dim=1时（默认状态），按列计算差分;dim=2，按行计算差分。</li>
</ul>
<blockquote>
<p><font color ="red">注意：</font>diff函数计算的是向量元素间的差分，故差分向量元素的个数比原向量少了 一个。同样，对于矩阵来说，差分后的矩阵比原矩阵少了一行或一列。 另外，计算差分之后，可以用f(x)在某点处的差商作为其导数的近似值。</p>
</blockquote>
<p>ex:设f(x)=sinx，在[0，2π ]范围内随机采样，计算f’(x)的近似值，并与 理论值f’(x)=cosx 进行比较。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=[<span class="number">0</span>,<span class="built_in">sort</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="built_in">rand</span>(<span class="number">1</span>,<span class="number">5000</span>)),<span class="number">2</span>*<span class="built_in">pi</span>];</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line">f1=diff(y)./diff(x);</span><br><span class="line">f2=<span class="built_in">cos</span>(x(<span class="number">1</span>:<span class="keyword">end</span><span class="number">-1</span>));</span><br><span class="line"><span class="built_in">plot</span>(x(<span class="number">1</span>:<span class="keyword">end</span><span class="number">-1</span>),f1,x(<span class="number">1</span>:<span class="keyword">end</span><span class="number">-1</span>),f2);</span><br><span class="line">d=norm(f1-f2) </span><br><span class="line"></span><br><span class="line">d =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0456</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826185635.png" alt="image-20200826184859687"></p>
<h3 id="数值积分"><a class="header-anchor" href="#数值积分">¶</a>数值积分</h3>
<h4 id="数值积分基本原理"><a class="header-anchor" href="#数值积分基本原理">¶</a>数值积分基本原理</h4>
<p>在高等数学中，计算定积分依靠微积分基本定理，只要找到被积函数f(x) 的原函数大F(x)，则可用牛顿—莱布尼兹（Newton-Leibniz）公式：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826185626.png" alt="image-20200826185010745"></p>
<p>在有些情况下，应用牛顿—莱布尼兹公式有困难，例如，当被积函数的原函 数无法用初等函数表示，或被积函数是用离散的表格形式给出的。这时就需 要用数值解法来求定积分的近似值。</p>
<p>求定积分的数值方法多种多样，如梯形法、辛普森（Simpson）法、高斯求积公式 等。它们的基本思想都是将积分区间[a，b]分成n个子区间[xi，xi+1]，i=1，2，…， n，其中x1=a，xn+1=b，这样求定积分问题就分解为下面的求和问题：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826185619.png" alt="image-20200826185055502"></p>
<p>在每一个小的子区间上定积分的值可以近似求得,从而避免了牛顿—莱布尼兹公式 需要寻求原函数的困难。</p>
<h4 id="数值积分的实现"><a class="header-anchor" href="#数值积分的实现">¶</a>数值积分的实现</h4>
<ul>
<li>基于自适应辛普森方法</li>
</ul>
<p><font color ="purple">[I,n]=quad(filename,a,b,tol,trace)</font></p>
<ul>
<li>基于自适应Gauss-Lobatto方法</li>
</ul>
<p><font color ="purple">[I,n]=quadl(filename,a,b,tol,trace)</font></p>
<blockquote>
<p>其中，filename是被积函数名；a和b分别是定积分的下限和上限，积分限[a，b] 必须是有限的，不能为无穷大（Inf）；tol用来控制积分精度，默认时取 tol=10^(-6)；trace控制是否展现积分过程，若取非0则展现积分过程，取0则不展 现，默认时取trace=0；返回参数I即定积分的值，n为被积函数的调用次数。</p>
</blockquote>
<p>ex:分别用quad函数和quadl函数求定 积分的近似值，并在相同的积分精度下， 比较被积函数的调用次数。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826185608.png" alt="image-20200826185607408"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; format long</span><br><span class="line">&gt;&gt; f=@(x) <span class="number">4.</span>/(<span class="number">1</span>+x.^<span class="number">2</span>);</span><br><span class="line">&gt;&gt; [I,n]=quad(f,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1e-8</span>)</span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">   <span class="number">3.141592653733437</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">    <span class="number">61</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [I,n]=quadl(f,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1e-8</span>)</span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">   <span class="number">3.141592653589806</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">    <span class="number">48</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; (<span class="built_in">atan</span>(<span class="number">1</span>)-<span class="built_in">atan</span>(<span class="number">0</span>))*<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">3.141592653589793</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; format short</span><br></pre></td></tr></table></figure>
<ul>
<li>基于全局自适应积分方法</li>
</ul>
<p><font color ="purple">I=integral(filename,a,b)</font></p>
<blockquote>
<p>其中，I是计算得到的积分；filename是被积函数；a和b分别是定积分的下限和 上限，积分限可以为无穷大。</p>
</blockquote>
<p>ex:求定积分。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826190315.png" alt="image-20200826190314126"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%被积函数文件fe.m：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">fe</span><span class="params">(x)</span></span></span><br><span class="line">f=<span class="number">1.</span>/(x.*<span class="built_in">sqrt</span>(<span class="number">1</span>-<span class="built_in">log</span>(x).^<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">&gt;&gt; I=integral(@fe,<span class="number">1</span>,<span class="built_in">exp</span>(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.5708</span></span><br></pre></td></tr></table></figure>
<ul>
<li>基于自适应高斯-克朗罗德方法</li>
</ul>
<p><font color="purple">[I,err]=quadgk(filename,a,b)</font></p>
<blockquote>
<p>其中，err返回近似误差范围，其他参数的含义和用法与quad函数相同。积分 上下限可以是无穷大（−Inf或Inf），也可以是复数。如果积分上下限是复数， 则quadgk函数在复平面上求积分。</p>
</blockquote>
<p>ex:求定积分。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826191306.png" alt="image-20200826191305074"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%被积函数文件fsx.m：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">fsx</span><span class="params">(x)</span></span></span><br><span class="line">f=<span class="built_in">sin</span>(<span class="number">1.</span>/x)./x.^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; I=quadgk(@fsx,<span class="number">2</span>/<span class="built_in">pi</span>,+Inf)</span><br><span class="line"></span><br><span class="line">I =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span></span><br></pre></td></tr></table></figure>
<ul>
<li>基于梯形积分法</li>
</ul>
<p>已知（xi，yi）（i=1，2，…，n），且a=x1&lt;x2&lt;····&lt;xn=b，求<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="../../../picture/PicGo/copypicture/image-20200826191602547.png" alt="image-20200826191602547">近似值。</p>
<p><font color ="purple">I=trapz(x,y) </font></p>
<blockquote>
<p>其中，向量x、y定义函数关系y=f(x)。</p>
</blockquote>
<p>trapz函数采用梯形积分法则，积分的近似值为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826191728.png" alt="image-20200826191726661"></p>
<blockquote>
<p>其中，hi=x(i+1)-xi。</p>
</blockquote>
<p>可用以下语句实现：</p>
<p><font color="green">sum(diff(x).*(y(1:end-1)+y(2:end))/2)</font></p>
<p>ex:设x=1:6，y=[6,8,11,7,5,2],用trapz函数计算定积分。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">1</span>:<span class="number">6</span>;</span><br><span class="line">&gt;&gt; y=[<span class="number">6</span> <span class="number">8</span> <span class="number">11</span> <span class="number">7</span> <span class="number">5</span> <span class="number">2</span>];</span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(x,y,<span class="string">&#x27;-ko&#x27;</span>);</span><br><span class="line">&gt;&gt; grid on</span><br><span class="line">&gt;&gt; axis([<span class="number">1</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">11</span>]);</span><br><span class="line">&gt;&gt; I1=trapz(x,y)</span><br><span class="line"></span><br><span class="line">I1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">35</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; I2=sum(diff(x).*(y(<span class="number">1</span>:<span class="keyword">end</span><span class="number">-1</span>)+y(<span class="number">2</span>:<span class="keyword">end</span>))/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">I2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">35</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826192244.png" alt="image-20200826192243277"></p>
<h4 id="多重定积分的数值求解"><a class="header-anchor" href="#多重定积分的数值求解">¶</a>多重定积分的数值求解</h4>
<ul>
<li>求二重积分的数值解：<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826192317.png" alt="image-20200826192316268"></li>
</ul>
<p><font color="purple">I=integral2(filename,a,b,c,d)</font></p>
<p><font color="purple">I=quad2d(filename,a,b,c,d)</font></p>
<p><font color="purple">I=dblquad(filename,a,b,c,d,tol)</font></p>
<ul>
<li>求三重积分的数值解：<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826203656.png" alt="image-20200826192442918"></li>
</ul>
<p><font color="purple">I=integral3(filename,a,b,c,d,e,f)</font></p>
<p><font color="purple">I=triplequad(filename,a,b,c,d,e,f,tol)</font></p>
<p>ex:分别求二重积分和三重积分。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826203650.png" alt="image-20200826192607178"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f1=@(x,y) <span class="built_in">exp</span>(-x.^<span class="number">2</span>/<span class="number">2</span>).*<span class="built_in">sin</span>(x.^<span class="number">2</span>+y);</span><br><span class="line">&gt;&gt; I1=quad2d(f1,<span class="number">-2</span>,<span class="number">2</span>,<span class="number">-1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">I1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.5745</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f2=@(x,y,z) <span class="number">4</span>*x.*z.*<span class="built_in">exp</span>(-z.*z.*y-x.*x);</span><br><span class="line">&gt;&gt; I2=integral3(f2,<span class="number">0</span>,<span class="built_in">pi</span>,<span class="number">0</span>,<span class="built_in">pi</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">I2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.7328</span></span><br></pre></td></tr></table></figure>
<h2 id="线性方程组求解"><a class="header-anchor" href="#线性方程组求解">¶</a>线性方程组求解</h2>
<ul>
<li>直接法</li>
<li>迭代法</li>
</ul>
<h3 id="线性方程组的直接解法"><a class="header-anchor" href="#线性方程组的直接解法">¶</a>线性方程组的直接解法</h3>
<ul>
<li>高斯（Gauss）消去法</li>
<li>列主元消去法</li>
<li>矩阵的三角分解法</li>
</ul>
<p>高斯（Gauss）消去法是一个经典的直接法，由它改进得到的列主元消去法，是 目前计算机上求解线性方程组的标准算法，其特点就是通过消元将一般线性方 程组的求解问题转化为三角方程组的求解问题。此外，还有矩阵的三角分解法 等许多直接求解算法。</p>
<h4 id="利用左除运算符的直接解法"><a class="header-anchor" href="#利用左除运算符的直接解法">¶</a>利用左除运算符的直接解法</h4>
<p>MATLAB提供了一个左除运算符“\”用于求解线性方程组，它使用列主元消去法， 使用起来十分方便。对于线性方程组Ax=b，可以利用左除运算符反斜杠求解，b左 除以A可获得线性方程组的数值解x。</p>
<p><font color="purple">Ax=b</font><font color="red">——&gt;</font><font color="purple">x=A\b</font></p>
<blockquote>
<p>注意，如果矩阵A是奇异的或接近奇异的，则MATLAB会给出警告信息。</p>
</blockquote>
<p>ex:用左除运算符求解下列线性方程组。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826203644.png" alt="image-20200826193110942"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">2</span>,<span class="number">1</span>,<span class="number">-5</span>,<span class="number">1</span>;<span class="number">1</span>,<span class="number">-5</span>,<span class="number">0</span>,<span class="number">7</span>;<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">-1</span>;<span class="number">1</span>,<span class="number">6</span>,<span class="number">-1</span>,<span class="number">-4</span>];</span><br><span class="line">&gt;&gt; b=[<span class="number">13</span>,<span class="number">-9</span>,<span class="number">6</span>,<span class="number">0</span>]&#x27;;</span><br><span class="line">&gt;&gt; x=A\b</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">  <span class="number">-66.5556</span></span><br><span class="line">   <span class="number">25.6667</span></span><br><span class="line">  <span class="number">-18.7778</span></span><br><span class="line">   <span class="number">26.5556</span></span><br></pre></td></tr></table></figure>
<h4 id="利用矩阵分解求解线性方程组"><a class="header-anchor" href="#利用矩阵分解求解线性方程组">¶</a>利用矩阵分解求解线性方程组</h4>
<p>矩阵分解是设计算法的重要技巧，是指将一个给定的矩阵分解成若干个特 殊类型矩阵的乘积，从而将一个一般的矩阵计算问题转化为几个易求的特 殊矩阵的计算问题。通过矩阵分解方法求解线性方程组的优点是运算速度快，可以节省存储空间。</p>
<ul>
<li>LU分解</li>
<li>QR分解</li>
<li>Cholesky分解</li>
</ul>
<p>①LU分解的基本思想</p>
<p>矩阵的LU分解就是将一个n阶矩阵表示为一个下三角矩阵和一个上三角矩阵的 乘积。线性代数中已经证明，只要方阵是非奇异的，LU分解总是可以进行的。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220122.png" alt="image-20200826203934776"></p>
<p>对于三角方程很容易求解，于是可以首先求解向量y使Ly=b，再求解Ux=y，从 而达到求解线性方程组Ax=b的目的。</p>
<p>②MATLAB的LU分解函数</p>
<p>LU分解函数是根据列主元LU分解算法定义的，具有较好的数据稳定性。lu 函数有两种调用格式：</p>
<ul>
<li><font color="purple">[L, U]=lu(A):</font>产生一个上三角阵U和一个变换形式的下三角阵L，使之满足A=LU。注意，这里的矩阵A必须是方阵。</li>
<li><font color="purple">[L,U,P]=lu(A):</font>产生一个上三角阵U和一个下三角阵L以及一个置换矩阵P，使之满足PA=LU。同样，矩阵A必须是方阵。</li>
</ul>
<p>当使用第一种格式时，矩阵L往往不是一个下三角阵，但可以通过行交换成为一个下三角阵。</p>
<p>③用LU分解求解线性方程组</p>
<p><font color="purple">Ax=b→LUx=b→x=U(L\b) </font></p>
<p>或</p>
<p><font color="purple">Ax=b→ PAx=Pb→ LUx=Pb → x=U(L\P*b)</font></p>
<p>通过LU分解后可以大大提高运算速度。</p>
<p>ex:用LU分解求解例1中的线性方程组。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220116.png" alt="image-20200826204438949"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">2</span>,<span class="number">1</span>,<span class="number">-5</span>,<span class="number">1</span>;<span class="number">1</span>,<span class="number">-5</span>,<span class="number">0</span>,<span class="number">7</span>;<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">-1</span>;<span class="number">1</span>,<span class="number">6</span>,<span class="number">-1</span>,<span class="number">-4</span>];</span><br><span class="line">&gt;&gt; b=[<span class="number">13</span>,<span class="number">-9</span>,<span class="number">6</span>,<span class="number">0</span>]&#x27;;</span><br><span class="line">&gt;&gt; [L,U]=lu(A);			<span class="comment">%&gt;&gt; [L,U,P]=lu(A);</span></span><br><span class="line">						<span class="comment">%&gt;&gt; x=U\(L\P*b) </span></span><br><span class="line">&gt;&gt; x=U\(L\b)</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">  <span class="number">-66.5556</span></span><br><span class="line">   <span class="number">25.6667</span></span><br><span class="line">  <span class="number">-18.7778</span></span><br><span class="line">   <span class="number">26.5556</span></span><br></pre></td></tr></table></figure>
<h3 id="线性方程组的迭代解法"><a class="header-anchor" href="#线性方程组的迭代解法">¶</a>线性方程组的迭代解法</h3>
<p>迭代法是一种不断用变量的原值推出它的新值的过程，是用计算机解决问题的一种基本方法。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220107.png" alt="image-20200826220106591"></p>
<h4 id="雅可比（Jacobi）迭代法"><a class="header-anchor" href="#雅可比（Jacobi）迭代法">¶</a>雅可比（Jacobi）迭代法</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220207.png" alt="image-20200826220206404"></p>
<p>求解公式为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220254.png" alt="image-20200826220253399"></p>
<p>与之对应的迭代公式为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220323.png" alt="image-20200826220322259"></p>
<p>雅可比迭代法的函数文件jacobi.m：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[y,n]</span>=<span class="title">jacobi</span><span class="params">(A,b,x0,ep)</span></span></span><br><span class="line">D=<span class="built_in">diag</span>(<span class="built_in">diag</span>(A));</span><br><span class="line">L=-<span class="built_in">tril</span>(A,<span class="number">-1</span>);</span><br><span class="line">U=-<span class="built_in">triu</span>(A,<span class="number">1</span>);</span><br><span class="line">B=D\(L+U);</span><br><span class="line">f=D\b;</span><br><span class="line">y=B*x0+f;</span><br><span class="line">n=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> norm(y-x0)&gt;=ep</span><br><span class="line"> x0=y;</span><br><span class="line"> y=B*x0+f;</span><br><span class="line"> n=n+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span> </span><br></pre></td></tr></table></figure>
<h4 id="高斯-赛德尔（Gauss-Serdel）迭代法"><a class="header-anchor" href="#高斯-赛德尔（Gauss-Serdel）迭代法">¶</a>高斯-赛德尔（Gauss-Serdel）迭代法</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220436.png" alt="image-20200826220435494"></p>
<p>Gauss-Serdel迭代法的函数文件gauseidel.m：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[y,n]</span>=<span class="title">gauseidel</span><span class="params">(A,b,x0,ep)</span></span></span><br><span class="line">D=<span class="built_in">diag</span>(<span class="built_in">diag</span>(A));</span><br><span class="line">L=-<span class="built_in">tril</span>(A,<span class="number">-1</span>);</span><br><span class="line">U=-<span class="built_in">triu</span>(A,<span class="number">1</span>);</span><br><span class="line">B=(D-L)\U;</span><br><span class="line">f=(D-L)\b;</span><br><span class="line">y=B*x0+f;</span><br><span class="line">n=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> norm(y-x0)&gt;=ep</span><br><span class="line"> x0=y;</span><br><span class="line"> y=B*x0+f;</span><br><span class="line"> n=n+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span> </span><br></pre></td></tr></table></figure>
<p>ex:分别用雅可比迭代法和高斯-赛德尔迭代法求解线性方程组。设迭代初值为 0，迭代精度为10^-6 。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826220542.png" alt="image-20200826220541284"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">4</span>,<span class="number">-2</span>,<span class="number">-1</span>;<span class="number">-2</span>,<span class="number">4</span>,<span class="number">3</span>;<span class="number">-1</span>,<span class="number">-3</span>,<span class="number">3</span>]; </span><br><span class="line">&gt;&gt; b=[<span class="number">1</span>,<span class="number">5</span>,<span class="number">0</span>]&#x27;;</span><br><span class="line">&gt;&gt; [x,n]=jacobi(A,b,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]&#x27;,<span class="number">1.0e-6</span>) </span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9706</span></span><br><span class="line">    <span class="number">0.8529</span></span><br><span class="line">    <span class="number">1.1765</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">    <span class="number">35</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">%other    </span></span><br><span class="line">&gt;&gt; [x,n]=gauseidel(A,b,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]&#x27;,<span class="number">1.0e-6</span>)</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9706</span></span><br><span class="line">    <span class="number">0.8529</span></span><br><span class="line">    <span class="number">1.1765</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">    <span class="number">16</span></span><br></pre></td></tr></table></figure>
<p>ex:分别用雅可比迭代法和高斯-赛德尔迭代法求解下列线性方程组，看是否收敛。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826221403.png" alt="image-20200826221000840"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">-2</span>;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>;<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>]; </span><br><span class="line">&gt;&gt; b=[<span class="number">9</span>;<span class="number">7</span>;<span class="number">6</span>];</span><br><span class="line">&gt;&gt; [x,n]=jacobi(A,b,[<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>],<span class="number">1.0e-6</span>) </span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   <span class="number">-27</span></span><br><span class="line">    <span class="number">26</span></span><br><span class="line">     <span class="number">8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [x,n]=gauseidel(A,b,[<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>],<span class="number">1.0e-6</span>) </span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   NaN</span><br><span class="line">   NaN</span><br><span class="line">   NaN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n =</span><br><span class="line"></span><br><span class="line">        <span class="number">1012</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>直接法：以矩阵初等变换为基础，可以求得方程组的精确解；占用的内存空 间大、程序实现较为复杂；一般适合求解低阶稠密线性方程组。</p>
</li>
<li>
<p>迭代法：从给定初始值逐步逼近精确解的过程，求解过程占用存储空间小， 程序设计简单；适用于求解大型稀疏矩阵线性方程组；要考虑算法的收敛性。</p>
</li>
</ul>
<h2 id="线性方程组应用举例"><a class="header-anchor" href="#线性方程组应用举例">¶</a>线性方程组应用举例</h2>
<ul>
<li>平面桁架结构受力分析问题</li>
<li>小行星运行轨道计算问题</li>
</ul>
<h3 id="平面桁架结构受力分析问题"><a class="header-anchor" href="#平面桁架结构受力分析问题">¶</a>平面桁架结构受力分析问题</h3>
<p>桁架是工程中常用的一种结构，各构件在同一平面内的桁架称为平面桁架。 一个平面桁架结构由连接于A、B、C、D、E、F、G、H共8个结点的13根杆件 构成。在结点B、E和G上施加指定载荷，求桁架每根杆件上的轴力。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826221334.png" alt="image-20200826221333310"></p>
<p>对于静态平衡的衍架而言，它的各个结点也一定是平衡的，即在任何结点上 水平方向或垂直方向受力之和都必须为零。因此，可以对每一个结点列出两 个独立的平衡方程，从而可求出杆件的轴力。对于8个结点，可以列出16个方 程，方程数多于待定的13个未知量。为使该衍架静定，即为使问题存在唯一 解，我们假定：结点A在水平和垂直方向上刚性固定，而结点H仅在垂直方向 刚性固定。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826221433.png" alt="image-20200826221431889"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826221452.png" alt="image-20200826221451371"></p>
<p>以结点E为例,其受力如图所示,写出平衡方程，有：</p>
<p>水平方向：ƒ𝟓cos45°+ƒ𝟔= ƒ𝟗cos45°+ƒ𝟏0</p>
<p>垂直方向：ƒ𝟓sin45°+ƒ𝟕+ƒ𝟗sin45°=15</p>
<p>定义参数𝜶 = 𝟐/𝟐，则可得到E点的平衡方程。</p>
<p>𝜶ƒ𝟓+ƒ𝟔= 𝜶 ƒ𝟗+ƒ𝟏𝟎</p>
<p>𝜶 ƒ𝟓+ƒ𝟕+𝜶ƒ𝟗=15</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">结点B：  ƒ𝟐=ƒ𝟔</span><br><span class="line"> 		ƒ𝟑=10</span><br><span class="line">结点C：𝛂ƒ𝟏=ƒ𝟒+𝛂ƒ𝟓</span><br><span class="line"> 	  𝛂ƒ𝟏+ƒ𝟑+𝛂ƒ𝟓=0</span><br><span class="line">结点D：ƒ𝟒=ƒ𝟖</span><br><span class="line"><span class="code">	  ƒ𝟕=0</span></span><br><span class="line"><span class="code">结点E：𝛂ƒ𝟓+ƒ𝟔=𝛂ƒ𝟗+ƒ𝟏𝟎</span></span><br><span class="line"><span class="code"> 	  𝛂ƒ𝟓+ƒ𝟕+𝛂ƒ𝟗=15</span></span><br><span class="line"><span class="code">结点F：ƒ𝟏𝟎=ƒ𝟏𝟑</span></span><br><span class="line"><span class="code"> 	  ƒ𝟏𝟏=20</span></span><br><span class="line"><span class="code">结点G：ƒ𝟖+𝛂ƒ𝟗= 𝛂ƒ𝟏𝟐</span></span><br><span class="line"><span class="code"> 	  𝛂ƒ𝟗+ƒ𝟏𝟏+𝛂ƒ𝟏𝟐=0</span></span><br><span class="line"><span class="code">结点H：ƒ𝟏𝟑+𝛂ƒ𝟏𝟐=0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>结点H在垂直方向刚性固定，只有水平方向平衡方程。</li>
<li>这是一个包含13个未知数的线性方程组，利用MATLAB很容易求出杆件轴力向量f。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">alpha=<span class="built_in">sqrt</span>(<span class="number">2</span>)/<span class="number">2</span>;</span><br><span class="line">A=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> alpha,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,-alpha,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> alpha,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,alpha,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,alpha,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,-alpha,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,alpha,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,alpha,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,alpha,<span class="number">0</span>,<span class="number">0</span>,-alpha,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,alpha,<span class="number">0</span>,<span class="number">1</span>,alpha,<span class="number">0</span>;</span><br><span class="line"> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,alpha,<span class="number">1</span>];</span><br><span class="line">b=[<span class="number">0</span>;<span class="number">10</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">15</span>;<span class="number">0</span>;<span class="number">20</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>];</span><br><span class="line">f=A\b;</span><br><span class="line"><span class="built_in">disp</span>(f&#x27;) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">-28.2843</span>   <span class="number">20.0000</span>   <span class="number">10.0000</span>  <span class="number">-30.0000</span>   <span class="number">14.1421</span>   <span class="number">20.0000</span>         <span class="number">0</span>  <span class="number">-30.0000</span>    <span class="number">7.0711</span>   <span class="number">25.0000</span>   <span class="number">20.0000</span>  <span class="number">-35.3553</span>   <span class="number">25.0000</span></span><br></pre></td></tr></table></figure>
<h3 id="小行星运行轨道计算问题"><a class="header-anchor" href="#小行星运行轨道计算问题">¶</a>小行星运行轨道计算问题</h3>
<p>现在已经在5个不同时刻对某颗小行星进行了5次观测，测得轨道上的5个点 的坐标数据如表所示，其单位为天文测量单位。试确定小行星的轨道方程。</p>
<table>
<thead>
<tr>
<th>i</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody>
<tr>
<td>xi</td>
<td>1.02</td>
<td>0.87</td>
<td>0.67</td>
<td>0.44</td>
<td>0.16</td>
</tr>
<tr>
<td>yi</td>
<td>0.39</td>
<td>0.27</td>
<td>0.18</td>
<td>0.13</td>
<td>0.13</td>
</tr>
</tbody>
</table>
<h4 id="模型分析"><a class="header-anchor" href="#模型分析">¶</a>模型分析</h4>
<p>由开普勒第一定律知，小行星运行轨道为椭圆方程：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826223000.png" alt="image-20200826222646103"></p>
<p>需要确定系数ai(i=1,2,3,4,5)。</p>
<p>利用已知的数据，不妨设测得的5个点坐标为（xi,yi）（i=1,2,3,4,5），确 定系数ai等价于求解下列线性方程组。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826222950.png" alt="image-20200826222722213"></p>
<p>将方程改写为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826222945.png" alt="image-20200826222743485"></p>
<p>将表中的数据（xi,yi）（i=1,2,3,4,5）代入系数矩阵，可求得 ai(i=1,2,3,4,5)，从而得到小行星的轨道方程。</p>
<h4 id="模型求解"><a class="header-anchor" href="#模型求解">¶</a>模型求解</h4>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">xi=[<span class="number">1.02</span>,<span class="number">0.87</span>,<span class="number">0.67</span>,<span class="number">0.44</span>,<span class="number">0.16</span>];</span><br><span class="line">yi=[<span class="number">0.39</span>,<span class="number">0.27</span>,<span class="number">0.18</span>,<span class="number">0.13</span>,<span class="number">0.13</span>];</span><br><span class="line">A=<span class="built_in">zeros</span>(<span class="built_in">length</span>(xi));</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(xi)</span><br><span class="line"> A(<span class="built_in">i</span>,:)=[xi(<span class="built_in">i</span>)*xi(<span class="built_in">i</span>),<span class="number">2</span>*xi(<span class="built_in">i</span>)*yi(<span class="built_in">i</span>),yi(<span class="built_in">i</span>)*yi(<span class="built_in">i</span>),<span class="number">2</span>*xi(<span class="built_in">i</span>),<span class="number">2</span>*yi(<span class="built_in">i</span>)];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">b=-<span class="built_in">ones</span>(<span class="built_in">length</span>(xi),<span class="number">1</span>);</span><br><span class="line">ai=A\b</span><br><span class="line"></span><br><span class="line">ai =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.4645</span></span><br><span class="line">   <span class="number">-0.4423</span></span><br><span class="line">    <span class="number">6.4917</span></span><br><span class="line">   <span class="number">-0.6819</span></span><br><span class="line">   <span class="number">-3.6008</span></span><br></pre></td></tr></table></figure>
<p>因此小行星的轨道方程为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826222925.png" alt="image-20200826222924456"></p>
<p>绘制小行星运行轨道：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x,y) <span class="number">2.4645</span>*x.^<span class="number">2</span><span class="number">-0.8846</span>*x.*y+<span class="number">6.4917</span>*y.^<span class="number">2</span><span class="number">-1.3638</span>*x<span class="number">-7.2016</span>*y+<span class="number">1</span>;</span><br><span class="line">&gt;&gt; h=ezplot(f,[<span class="number">-0.5</span>,<span class="number">1.2</span>,<span class="number">0</span>,<span class="number">1.2</span>]);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200826223043.png" alt="image-20200826223042839"></p>
<h2 id="非线性方程求解与函数极值计算"><a class="header-anchor" href="#非线性方程求解与函数极值计算">¶</a>非线性方程求解与函数极值计算</h2>
<ul>
<li>非线性方程数值求解</li>
<li>函数极值的计算</li>
</ul>
<h3 id="非线性方程数值求解"><a class="header-anchor" href="#非线性方程数值求解">¶</a>非线性方程数值求解</h3>
<h4 id="单变量非线性方程求解"><a class="header-anchor" href="#单变量非线性方程求解">¶</a>单变量非线性方程求解</h4>
<p>函数的调用格式为：</p>
<p><font color="purple">x=fzero(filename,x0)</font></p>
<blockquote>
<p>其中，filename是待求根方程左端的函数表达式，x0是初始值。</p>
</blockquote>
<p>ex:求f(x)=x-(1/x)+5在x0=-5和x0=1作为迭代初值时的根。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x) x<span class="number">-1.</span>/x+<span class="number">5</span>;</span><br><span class="line">&gt;&gt; x1=fzero(f,<span class="number">-5</span>)</span><br><span class="line"></span><br><span class="line">x1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">-5.1926</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; x2=fzero(f,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">x2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.1926</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; x3=fzero(f,<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">x3 =</span><br><span class="line"></span><br><span class="line">   <span class="number">3.7372e-16</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>取x=0点近的初值,看看结果如何（x3），显然x3不是方程的解，所以利用 fzero函数求解方程，初值的选取是很重要的。在使用MATLAB进行问题求解时， 需要对问题进行多角度分析，而不能机械地套用命令或程序。</p>
</blockquote>
<p>f(x)=x2-1=0的根。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=@(x) x.^<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">x=[];</span><br><span class="line">x0=<span class="number">-0.25</span>:<span class="number">0.001</span>:<span class="number">0.25</span>;</span><br><span class="line"><span class="keyword">for</span> x00=x0</span><br><span class="line">x=[x,fzero(f,x00)];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">plot</span>(x0,x,<span class="string">&#x27;-o&#x27;</span>)</span><br><span class="line">xlabel(<span class="string">&#x27;初值&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;方程的根&#x27;</span>);</span><br><span class="line">axis([<span class="number">-0.25</span>,<span class="number">0.25</span>,<span class="number">-1</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827095806.png" alt=""></p>
<blockquote>
<p>结果表明，在零附近，相同的根所对应的初值范围并不连续，求得的根也并 非是离初值比较近的根。所以fzero函数执行的是一个数值搜索过程，搜索结 果依赖于函数特性和指定的初值。</p>
</blockquote>
<h4 id="非线性方程组的求解"><a class="header-anchor" href="#非线性方程组的求解">¶</a>非线性方程组的求解</h4>
<p>在MATLAB的最优化工具箱中提供了非线性方程组的求解函数fsolve，其调用 格式如下：</p>
<p><font color="purple">x=fsolve(filename,x0,option)</font></p>
<blockquote>
<p>其中，x为返回的近似解，filename是待求根方程左端的函数表达式，x0是初值， option用于设置优化工具箱的优化参数，可以调用optimset函数来完成。例如， Display参数设置为‘off’时不显示中间结果。</p>
</blockquote>
<p>利用fsolve函数解上例的方程。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x) x<span class="number">-1.</span>/x+<span class="number">5</span>;</span><br><span class="line">&gt;&gt; x1=fsolve(f,<span class="number">-5</span>,optimset(<span class="string">&#x27;Display&#x27;</span>,<span class="string">&#x27;off&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">-5.1926</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; x2=fsolve(f,<span class="number">1</span>,optimset(<span class="string">&#x27;Display&#x27;</span>,<span class="string">&#x27;off&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.1926</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; x3=fsolve(f,<span class="number">0.1</span>,optimset(<span class="string">&#x27;Display&#x27;</span>,<span class="string">&#x27;off&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x3 =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.1926</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>当初值是0.1时，利用fzero函数无法得到正确结果，这里利用fsolve函数就能 得到正确结果，因为不同函数的实现方法不同，适用的场合也不同。总之，多 角度选择和分析是很有必要的。</p>
</blockquote>
<p>ex:求下列方程组在（1，1，1）附近的解并对结果进行验证。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827100124.png" alt="image-20200827100123591"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x) [<span class="built_in">sin</span>(x(<span class="number">1</span>))+x(<span class="number">2</span>)+x(<span class="number">3</span>)^<span class="number">2</span>*<span class="built_in">exp</span>(x(<span class="number">1</span>)),x(<span class="number">1</span>)+x(<span class="number">2</span>)+x(<span class="number">3</span>),x(<span class="number">1</span>)*x(<span class="number">2</span>)*x(<span class="number">3</span>)];</span><br><span class="line">&gt;&gt; f([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">4.5598</span>    <span class="number">3.0000</span>    <span class="number">1.0000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;  x=fsolve(f,[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],optimset(<span class="string">&#x27;Display&#x27;</span>,<span class="string">&#x27;off&#x27;</span>))</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0224</span>   <span class="number">-0.0224</span>   <span class="number">-0.0000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f(x)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0e-06</span> *</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.5931</span>    <span class="number">0.0000</span>    <span class="number">0.0006</span></span><br></pre></td></tr></table></figure>
<h3 id="函数极值的计算"><a class="header-anchor" href="#函数极值的计算">¶</a>函数极值的计算</h3>
<p>函数极值包括极大值和极小值，或者叫最大值和最小值。MATLAB只考虑最小值问题的计算，如果要求f(x)的最大值，可以通过求-f(x)的最小值来解 决。</p>
<h4 id="无约束最优化问题"><a class="header-anchor" href="#无约束最优化问题">¶</a>无约束最优化问题</h4>
<p>无约束最优化问题的一般描述为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827100448.png" alt="image-20200827100447542"></p>
<blockquote>
<p>其中，x=[x1,x2,····，xn的转置。</p>
</blockquote>
<p>求最小值的函数为：</p>
<p><font color="purple">[xmin,fmin]=fminbnd(filename,x1,x2,option)</font></p>
<p><font color="purple">[xmin,fmin]=fminsearch(filename,x0,option)</font></p>
<p><font color="purple">[xmin,fmin]=fminunc(filename,x0,option)</font></p>
<blockquote>
<p>其中，xmin表示极小值点，fmin表示最小值，filename是定义的目标函数。第一 个函数的输入变量xl、x2分别表示被研究区间的左、右边界。后两个函数的输入 变量x0是一个向量，表示极值点的初值。option为优化参数，可以通过optimset 函数来设置。</p>
</blockquote>
<p>ex:求函数 f(x)=x −(1/x) +5 ，在区间(-10，-1)和(1，10)上的最小值点。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; f=@(x) x<span class="number">-1.</span>/x+<span class="number">5</span>;</span><br><span class="line">&gt;&gt; [xmin,fmin]=fminbnd(f,<span class="number">-10</span>,<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">xmin =</span><br><span class="line"></span><br><span class="line">   <span class="number">-9.9999</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmin =</span><br><span class="line"></span><br><span class="line">   <span class="number">-4.8999</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [xmin,fmin]=fminbnd(f,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">xmin =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0001</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmin =</span><br><span class="line"></span><br><span class="line">    <span class="number">5.0001</span></span><br></pre></td></tr></table></figure>
<h4 id="有约束最优化问题"><a class="header-anchor" href="#有约束最优化问题">¶</a>有约束最优化问题</h4>
<p>有约束最优化问题的一般描述为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827102223.png" alt="image-20200827102221098"></p>
<blockquote>
<p>其中，x=[x1,x2,····,xn]的转置。</p>
</blockquote>
<p>即求取一组x，使得目标函数f(x)为最小，且满足约束条件G(x)≤0。记号s.t. 是英文subject to的缩写，表示x要满足后面的约束条件。 约束条件可以进一步细化为：线性不等式约束、线性等式约束、非线性不等 式约束、非线性等式约束以及x的下界和上界。</p>
<p>求有约束条件下最小值的函数为：</p>
<p><font color="purple">[xmin,fmin]=fmincon(filename,x0,A,b,Aeq,beq,Lbnd,Ubnd,NonF,option)</font></p>
<blockquote>
<p>其中，xmin、fmin、filename、x0和option的含义与求最小值函数相同。其余 参数为约束条件，包括线性不等式约束、线性等式约束、x的下界和上界以及定 义非线性约束的函数。如果某个约束不存在，则用空矩阵来表示。</p>
</blockquote>
<p>ex:求解有约束最优化问题。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827104337.png" alt="image-20200827104127644"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=@(x) <span class="number">0.4</span>*x(<span class="number">2</span>)+x(<span class="number">1</span>)^<span class="number">2</span>+x(<span class="number">2</span>)^<span class="number">2</span>-x(<span class="number">1</span>)*x(<span class="number">2</span>)+<span class="number">1</span>/<span class="number">30</span>*x(<span class="number">1</span>)^<span class="number">3</span>;</span><br><span class="line">x0=[<span class="number">0.5</span>;<span class="number">0.5</span>];</span><br><span class="line">A=[<span class="number">-1</span>,<span class="number">-0.5</span>;<span class="number">-0.5</span>,<span class="number">-1</span>];</span><br><span class="line">b=[<span class="number">-0.4</span>;<span class="number">-0.5</span>];</span><br><span class="line">lb=[<span class="number">0</span>;<span class="number">0</span>];</span><br><span class="line">option=optimset(<span class="string">&#x27;Display&#x27;</span>,<span class="string">&#x27;off&#x27;</span>);</span><br><span class="line">[xmin,fmin]=fmincon(f,x0,A,b,[],[],lb,[],[],option)</span><br><span class="line"></span><br><span class="line">xmin =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.3396</span></span><br><span class="line">    <span class="number">0.3302</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmin =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2456</span></span><br></pre></td></tr></table></figure>
<h4 id="最小值问题应用实例"><a class="header-anchor" href="#最小值问题应用实例">¶</a>最小值问题应用实例</h4>
<p>ex:某公司有A、B、C、D、E 5个工厂，分别位于xy平面上的坐标点（10， 10），（30，50），（16.667，29），（0.555，29.888）和（22.2221， 49.988）处。设两点之间的距离表示在工厂之间开车的距离，以公里为单位。 公司计划在平面上某点处建造一座仓库，预期平均每周到A、B、C、D、E工厂 分别有10、18、20、14和25次送货。理想情况下，要使每周送货车的里程最 小，仓库应建在xy平面的什么位置？</p>
<p>假设仓库所选点的坐标为（x，y），则总里程表达式为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827104326.png" alt="image-20200827104325707"></p>
<p>所以原问题即求无约束条件下d(x,y)的最小值。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">a=[<span class="number">10</span>,<span class="number">30</span>,<span class="number">16.667</span>,<span class="number">0.555</span>,<span class="number">22.2221</span>];</span><br><span class="line">b=[<span class="number">10</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">29.888</span>,<span class="number">49.988</span>];</span><br><span class="line">c=[<span class="number">10</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">14</span>,<span class="number">25</span>];</span><br><span class="line">f=@(x) sum(c.*<span class="built_in">sqrt</span>((x(<span class="number">1</span>)-a).^<span class="number">2</span>+(x(<span class="number">2</span>)-b).^<span class="number">2</span>));</span><br><span class="line">[xmin,fmin]=fminsearch(f,[<span class="number">15</span>,<span class="number">30</span>])</span><br><span class="line"></span><br><span class="line">xmin =</span><br><span class="line"></span><br><span class="line">   <span class="number">19.8143</span>   <span class="number">41.1247</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmin =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.3618e+03</span></span><br></pre></td></tr></table></figure>
<p>ex:在上例中，如果由于地域的限制，仓库必须建在曲线y=x²上，则它应该建在何处？</p>
<p>非线性约束的函数文件funny.m：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[c,h]</span>=<span class="title">funny</span><span class="params">(x)</span></span></span><br><span class="line">c=[];</span><br><span class="line">h=x(<span class="number">2</span>)-x(<span class="number">1</span>)^<span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a=[<span class="number">10</span>,<span class="number">30</span>,<span class="number">16.667</span>,<span class="number">0.555</span>,<span class="number">22.2221</span>];</span><br><span class="line">&gt;&gt; b=[<span class="number">10</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">29.888</span>,<span class="number">49.988</span>];</span><br><span class="line">&gt;&gt; c=[<span class="number">10</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">14</span>,<span class="number">25</span>];</span><br><span class="line">&gt;&gt; f=@(x) sum(c.*<span class="built_in">sqrt</span>((x(<span class="number">1</span>)-a).^<span class="number">2</span>+(x(<span class="number">2</span>)-b).^<span class="number">2</span>));</span><br><span class="line">&gt;&gt; [xmin,fmin]=fmincon(f,[<span class="number">15</span>,<span class="number">30</span>],[],[],[],[],[],[],<span class="string">&#x27;funny&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xmin =</span><br><span class="line"></span><br><span class="line">    <span class="number">5.9363</span>   <span class="number">35.2402</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmin =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.6676e+03</span></span><br></pre></td></tr></table></figure>
<h2 id="常微分方程数值求解"><a class="header-anchor" href="#常微分方程数值求解">¶</a>常微分方程数值求解</h2>
<ul>
<li>常微分方程数值求解的一般概念</li>
<li>常微分方程数值求解函数</li>
<li>刚性问题</li>
</ul>
<h3 id="常微分方程数值求解的一般概念"><a class="header-anchor" href="#常微分方程数值求解的一般概念">¶</a>常微分方程数值求解的一般概念</h3>
<p>求解常微分方程初值问题就是寻找函数y(t)使之满足如下方程：</p>
<p><font color="purple">y’=f(t,y)，t0≤t≤b</font></p>
<p><font color="purple">y(t0)=y0</font></p>
<p>所谓其数值解法，就是求y(t)在离散结点tn处的函数近似值yn的方法，yn≈y(xn)。 这些近似值称为常微分方程初值问题的数值解。相邻两个结点之间的距离称为步长。</p>
<ul>
<li>单步法:在计算y(n+1)时只用到前一步的y‰因此在有了初值之后就可以逐步往下计算，其代表是龙格-库塔（Runge-Kutta）法。</li>
<li>多步法:在计算y,时，除了用到前一步的值y,之外,还要用到y,p(p=1，2，…，k,k&gt;0）的值,即前面的k步。其代表就是亚当斯(Adams)法。</li>
</ul>
<h3 id="常微分方程数值求解函数"><a class="header-anchor" href="#常微分方程数值求解函数">¶</a>常微分方程数值求解函数</h3>
<p>MATLAB提供了多个求常微分方程初值问题数值解的函数，一般调用格式为：</p>
<p><font color="purple">[t,y]=solver(filename,tspan,y0,option)</font></p>
<blockquote>
<p>其中，t和y分别给出时间向量和相应的数值解。solver为求常微分方程数值解 的函数。filename是定义f(t，y)的函数名，该函数必须返回一个列向量。 tspan形式为[t0，tf]，表示求解区间。y0是初始状态向量。Option是可选参数， 用于设置求解属性，常用的属性包括相对误差值RelTol(默认值是10^-3)和绝对误 差值AbsTol(默认值是10^-6)。</p>
</blockquote>
<p>常微分方程数值求解函数的统一命名格式：</p>
<p><font color="purple">odennxx</font></p>
<ul>
<li>ode是Ordinary Differential Equation的缩写，是常微分方程的意思。</li>
<li>nn是数字，代表所用方法的阶数。例如，ode23采用2阶 龙格-库塔(Runge-Kutta)算法，用3阶公式做误差估计来调节步长，具有低等精度。ode45采用4阶龙格-库塔算法，用5阶公式做误差估计来调节步长，具有中等精度。</li>
<li>xx是字母，用于标注方法的专门特征。例如，ode15s、 ode23s中的 “s&quot;代表(Stiff) ，表示函数适用于刚性方程。</li>
</ul>
<p>求常微分方程数值解的函数</p>
<table>
<thead>
<tr>
<th>求解函数</th>
<th>采用方法</th>
<th>适用场合</th>
</tr>
</thead>
<tbody>
<tr>
<td>ode23</td>
<td>2阶或3阶Runge-Kutta算法，低精度</td>
<td>非刚性</td>
</tr>
<tr>
<td>ode45</td>
<td>4阶或5阶Runge-Kutta算法，中精度</td>
<td>非刚性</td>
</tr>
<tr>
<td>ode113</td>
<td>Adams算法，精度可到<code>10^-3～10^-6</code></td>
<td>非刚性，计算时间比ode45短</td>
</tr>
<tr>
<td>ode23t</td>
<td>梯形算法</td>
<td>适度刚性</td>
</tr>
<tr>
<td>ode15s</td>
<td>Gear’s反向数值微分算法，中精度</td>
<td>刚性</td>
</tr>
<tr>
<td>ode23s</td>
<td>2阶Rosebrock算法，低精度</td>
<td>刚性，当精度较低时，计算时间比ode15s短</td>
</tr>
<tr>
<td>ode23tb</td>
<td>梯形算法，低精度</td>
<td>刚性，当精度较低时，计算时间比ode15s短</td>
</tr>
</tbody>
</table>
<p>ex1:求解微分方程初值问题，并与精确解<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225523.png" alt="image-20200827225519670">进行比较。</p>
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225556.png" alt="image-20200827225555373" style="zoom:80%;" />
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=@(t,y) (y^<span class="number">2</span>-t<span class="number">-2</span>)/<span class="number">4</span>/(t+<span class="number">1</span>);</span><br><span class="line">[t,y]=ode23(f,[<span class="number">0</span>,<span class="number">10</span>],<span class="number">2</span>);</span><br><span class="line">y1=<span class="built_in">sqrt</span>(t+<span class="number">1</span>)+<span class="number">1</span>;</span><br><span class="line"><span class="built_in">plot</span>(t,y,<span class="string">&#x27;b:&#x27;</span>,t,y1,<span class="string">&#x27;r&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225651.png" alt="image-20200827225650118"></p>
<p>ex2:已知一个二阶线性系统的微分方程为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225726.png" alt="image-20200827225725350"></p>
<p>取a=2，绘制系统的时间响应曲线和相平面图。 令x2=x，x1=x’，则得到系统的状态方程：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225745.png" alt="image-20200827225745024"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=@(t,x) [<span class="number">-2</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>]*[x(<span class="number">2</span>);x(<span class="number">1</span>)];</span><br><span class="line">[t,x]=ode45(f,[<span class="number">0</span>,<span class="number">20</span>],[<span class="number">1</span>,<span class="number">0</span>]);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);<span class="built_in">plot</span>(t,x(:,<span class="number">2</span>));</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);<span class="built_in">plot</span>(x(:,<span class="number">2</span>),x(:,<span class="number">1</span>));</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200827225826.png" alt="image-20200827225824881"></p>
<h3 id="刚性问题"><a class="header-anchor" href="#刚性问题">¶</a>刚性问题</h3>
<p>有一类常微分方程，其解的分量有的变化很快，有的变化很慢，且相差悬殊， 这就是所谓的刚性问题(Stiff)。</p>
<p>对于刚性问题，数值解算法必须取很小步长才能获得满意的结果，导致计算 量会大大增加。解决刚性问题需要有专门方法。非刚性算法可以求解刚性问 题，只不过需要很长的计算时间。</p>
<p>ex3:假如点燃一个火柴，火焰球迅速增大直至某个临界体积，然后，维 持这一体积不变，原因是火焰球内部燃烧耗费的氧气和从球表面所获氧气 达到平衡。其简化模型如下：</p>
<p><font color="purple">y’=y^2-y ^3</font></p>
<p><font color="purple">y(0)=λ </font></p>
<p><font color="purple">0≤t≤2/λ</font></p>
<blockquote>
<p>其中，y(t)代表火焰球半径，初始半径是λ，它很小。分析λ的大小对方程求解过程的影响。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">lamda=<span class="number">0.01</span>;</span><br><span class="line">f=@(t,y) y^<span class="number">2</span>-y^<span class="number">3</span>;</span><br><span class="line">tic;[t,y]=ode45(f,[<span class="number">0</span>,<span class="number">2</span>/lamda],lamda);toc</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;ode45计算的点数&#x27;</span> num2str(<span class="built_in">length</span>(t))]);</span><br></pre></td></tr></table></figure>
<p><font color="purple">时间已过 2.946947 秒。</font></p>
<p><font color="purple">ode45计算的点数120565</font></p>
<p>这时计算时间明显加长，计算的点数剧增，表明这时常微分方程表现为刚性。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">lamda=<span class="number">1e-5</span>;</span><br><span class="line">f=@(t,y) y^<span class="number">2</span>-y^<span class="number">3</span>;</span><br><span class="line">tic;[t,y]=ode15s(f,[<span class="number">0</span>,<span class="number">2</span>/lamda],lamda);toc</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;ode15s计算的点数&#x27;</span> num2str(<span class="built_in">length</span>(t))]);</span><br></pre></td></tr></table></figure>
<p><font color="purple">时间已过 0.070974 秒。</font></p>
<p><font color="purple">ode15s计算的点数98</font></p>
<p>对于刚性问题，我们需要改变求解算法。我们选择以“s”结尾的函数，他们 专门用于求解刚性方程。计算时间大大缩短，计算的点数大大减少。</p>
<h2 id="常微分方程应用举例"><a class="header-anchor" href="#常微分方程应用举例">¶</a>常微分方程应用举例</h2>
<ul>
<li>Lotka-Volterra模型</li>
<li>Lotka-Volterra改进模型</li>
</ul>
<h3 id="Lotka-Volterra模型"><a class="header-anchor" href="#Lotka-Volterra模型">¶</a>Lotka-Volterra模型</h3>
<p>一阶非线性微分方程组：</p>
<p>dr / dt = 2r − λrƒ，r(0) = r0</p>
<p>dƒ / dt = −ƒ + λrƒ，ƒ(0)= ƒ0</p>
<blockquote>
<p>其中，t为时间， 𝐫 (𝒕) 为兔子数量，ƒ (𝒕) 为狐狸数量，𝝀为一个正常数。该系统解具有周 期性，其周期取决于初始条件。也就是说，对于任意数量的𝐫 (𝟎) 和ƒ (𝟎) ，总存在一个时间 𝐭 = 𝒕𝒑，使这两个种群的数量回归初始值。</p>
</blockquote>
<p>① 在𝒓𝟎 = 𝟑𝟎𝟎、ƒ𝟎 = 𝟏𝟓𝟎、𝝀 = 𝟎. 𝟎𝟏的条件下，求该系统的解，结果会发现𝒕𝒑接 近5。进一步绘制𝐫(𝐭)和ƒ(t)函数的曲线，以及以𝐫和ƒ为坐标轴画相平面图。</p>
<p>② 在𝒓𝟎 = 𝟏𝟓、ƒ𝟎 = 𝟐𝟐、𝝀 = 𝟎. 𝟎𝟏时求解并绘制图形，发现会发现𝒕𝒑接近6.62。</p>
<p>③ 在𝒓𝟎 = 𝟏𝟎𝟐、ƒ𝟎 = 𝟏𝟗𝟖、𝝀 = 𝟎. 𝟎𝟏时求解并绘制图形，并确定周期𝒕𝒑。</p>
<p>④ 点（𝒓𝟎，ƒ𝟎）=（𝟏 𝝀，𝟐 𝝀）是一个稳定平衡点。若以此为初值，那么种群数量 不发生变化。若初值接近此平衡点，那么数量不会发生大的变化。试作图验证。</p>
<h4 id="模型分析-v2"><a class="header-anchor" href="#模型分析-v2">¶</a>模型分析</h4>
<p>x1(t)—兔子在t时刻的数量			 x2(t)—狐狸在t时刻的数量</p>
<p>r1—兔子独立生存时的增长率 		r2—狐狸独自存在时的死亡率</p>
<p>λ 1—狐狸掠取兔子的能力			 λ 2—兔子对狐狸的供养能力</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153627.png" alt="image-20200829152315097"></p>
<p>这里假设r1= 2，r2=1，λ 1= λ 2= 0.01，即系统模型如下：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153623.png" alt="image-20200829152720561"></p>
<p>第①问：兔子数量初始值x1(0)=300，狐狸数量初始值x2(0)=150。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">30</span>],[<span class="number">300</span>,<span class="number">150</span>])</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);<span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),<span class="string">&#x27;-&#x27;</span>,t,x(:,<span class="number">2</span>),<span class="string">&#x27;-*&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)&#x27;</span>,<span class="string">&#x27;x2(t)&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);ylabel(<span class="string">&#x27;物种数量&#x27;</span>);</span><br><span class="line">grid on</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>);<span class="built_in">plot</span>(x(:,<span class="number">1</span>),x(:,<span class="number">2</span>))</span><br><span class="line">grid on </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153618.png" alt="image-20200829153123062"></p>
<p>我们可以看到，兔子和狐狸两者相互制约，当狐狸逐渐增多时，兔子逐渐减少，当狐狸增 加到一定数量时，由于种群内部竞争激烈，又导致其数量减少，从而兔子天敌减少，进而 导致兔子数量增加，当兔子增加到一定数量时，种间竞争加剧，从而又导致兔子数量减少， 如此循环，相互制约发展。</p>
<p>第②问：兔子初始值x1(0)=15，狐狸初始值x2(0)=22。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153609.png" alt="image-20200829153355658"></p>
<p>第③问：兔子初始值x1(0)=102，狐狸初始值x2(0)=198。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153604.png" alt="image-20200829153439155"></p>
<p>第④问：验证（1/λ ，2/λ ）是稳定平衡点。</p>
<ul>
<li>取λ =0.01， 所以稳定平衡点（1/λ ，2/λ ）即是（100，200），以此点作 为初值时，画出其图像。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">30</span>],[<span class="number">100</span>,<span class="number">200</span>]);</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),<span class="string">&#x27;-o&#x27;</span>,t,x(:,<span class="number">2</span>),<span class="string">&#x27;-*&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829153550.png" alt="image-20200829153548985"></p>
<ul>
<li>当将初始值变为（98,195）时，即向下十分接近平衡点，画出其图像。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">30</span>],[<span class="number">98</span>,<span class="number">195</span>]);</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),<span class="string">&#x27;-o&#x27;</span>,t,x(:,<span class="number">2</span>),<span class="string">&#x27;-*&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154248.png" alt="image-20200829153745712"></p>
<blockquote>
<p>两者图像没有交点，兔子和狐狸的数量分别以各自的平衡点进行周期性波动， 但是两者的数量变化不是很大。</p>
</blockquote>
<ul>
<li>当将初始值变为（70,150）时（向下偏离平衡点比较远时），画出其图像。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">30</span>],[<span class="number">70</span>,<span class="number">150</span>]);</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),<span class="string">&#x27;-o&#x27;</span>,t,x(:,<span class="number">2</span>),<span class="string">&#x27;-*&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>); </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154243.png" alt="image-20200829153845856"></p>
<blockquote>
<p>可以发现兔子和狐狸的数量变化比较剧烈，但是依然成周期性变化。</p>
</blockquote>
<ul>
<li>当将初始值变为（900,1600）时（向上偏离平衡点十分远时），画出其图像。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">500</span>],[<span class="number">900</span>,<span class="number">1600</span>]);</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),t,x(:,<span class="number">2</span>));</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>); </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154237.png" alt="image-20200829153952626"></p>
<blockquote>
<p>可以发现，此时兔子和狐狸的数量变化相当的剧烈，但是依然存在周期。</p>
</blockquote>
<h3 id="Lotka-Volterra改进模型"><a class="header-anchor" href="#Lotka-Volterra改进模型">¶</a>Lotka-Volterra改进模型</h3>
<p>修改后的方程：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154232.png" alt="image-20200829154048156"></p>
<blockquote>
<p>其中，t为时间； 𝐫 𝒕 为兔子数量；𝒇 𝒕 为狐狸数量；𝝀为一个正常数，R也是 一个正常数。方程在𝒓𝟎 = 𝟑𝟎𝟎、ƒ𝟎 = 𝟏𝟓𝟎初始条件下的50个时间单位上求解 并绘制图形。</p>
</blockquote>
<p>① 原模型下，狐狸数量和兔子数量的时间函数曲线。<br>
② 改进模型下，狐狸数量和兔子数量的时间函数曲线。<br>
③ 原模型下，狐狸数量相对兔子数量的关系曲线。<br>
④ 改进模型下，狐狸数量相对兔子数量的关系曲线。</p>
<p>第①问：在原模型下，绘制狐狸和兔子数量的时间函数曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),t,x(:,<span class="number">2</span>));</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;原模型下，狐狸和兔子数量的函数曲线&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154224.png" alt="image-20200829154223112"></p>
<p>第②问：在改进模型下，狐狸和兔子数量的时间函数曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [<span class="number">2</span>*x(<span class="number">1</span>)*(<span class="number">1</span>-x(<span class="number">1</span>)/<span class="number">400</span><span class="number">-0.005</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">50</span>],[<span class="number">300</span>,<span class="number">150</span>]);</span><br><span class="line"><span class="built_in">plot</span>(t,x(:,<span class="number">1</span>),t,x(:,<span class="number">2</span>));</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;x1(t)-兔子&#x27;</span>,<span class="string">&#x27;x2(t)-狐狸&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;时间&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;物种数量&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;改进模型下，狐狸和兔子数量的函数曲线&#x27;</span>); </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154340.png" alt="image-20200829154339459"></p>
<p>通过对比发现，原模型无论经历多长时间，狐狸和兔子的数量总是在自己的平 衡点之间波动；而改进以后的模型，虽然在先前一段时间有较大的波动，但随 着时间的推移，它们的波动越来越小，在经历足够长的时间后，狐狸和兔子的 数量分别达到稳定平衡，这更加接近自然界中的实际情况。</p>
<p>第③问：在原模型下，绘制狐狸数量相对于兔子数量的关系曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [x(<span class="number">1</span>)*(<span class="number">2</span><span class="number">-0.01</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">50</span>],[<span class="number">300</span>,<span class="number">150</span>]);</span><br><span class="line"><span class="built_in">plot</span>(x(:,<span class="number">1</span>),x(:,<span class="number">2</span>));</span><br><span class="line">xlabel(<span class="string">&#x27;兔子数量&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;狐狸数量&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;原模型下，狐狸数量相对于兔子数量的关系曲线&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154523.png" alt="image-20200829154431392"></p>
<p>第④问：在改进模型下，狐狸数量相对于兔子数量的关系曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">rabbitFox=@(t,x) [<span class="number">2</span>*x(<span class="number">1</span>)*(<span class="number">1</span>-x(<span class="number">1</span>)/<span class="number">400</span><span class="number">-0.005</span>*x(<span class="number">2</span>));...</span><br><span class="line"> x(<span class="number">2</span>)*(<span class="number">-1</span>+<span class="number">0.01</span>*x(<span class="number">1</span>))];</span><br><span class="line">[t,x]=ode45(rabbitFox,[<span class="number">0</span>,<span class="number">50</span>],[<span class="number">300</span>,<span class="number">150</span>]);</span><br><span class="line"><span class="built_in">plot</span>(x(:,<span class="number">1</span>),x(:,<span class="number">2</span>));</span><br><span class="line">xlabel(<span class="string">&#x27;兔子数量&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;狐狸数量&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;改进模型下，狐狸数量相对于兔子数量的关系曲线&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829154516.png" alt="image-20200829154515140"></p>
<p>模型的进一步改进:</p>
<ul>
<li>考虑狐狸的环境容纳量</li>
<li>考虑到兔子其他天敌和狐狸天敌的影响</li>
<li>考虑自然灾害、人为捕捉等因素</li>
</ul>
<h1>MATLAB符号计算</h1>
<h2 id="符号对象"><a class="header-anchor" href="#符号对象">¶</a>符号对象</h2>
<ul>
<li>符号对象的建立</li>
<li>符号对象的运算</li>
<li>符号矩阵</li>
</ul>
<h3 id="符号对象的建立"><a class="header-anchor" href="#符号对象的建立">¶</a>符号对象的建立</h3>
<h4 id="sym函数"><a class="header-anchor" href="#sym函数">¶</a>sym函数</h4>
<p>sym函数用于建立单个符号对象，其常用调用格式为：</p>
<p>符号对象名=sym(A)</p>
<p>将由A来建立符号对象。其中，A可以是一个数值常量、数值矩阵或数值表达式（<font color="red">不加单引号</font>），此时符号对象为一 个<font color="red">符号常量</font>；A也可以是一个变量名（<font color="red">加单引号</font>），这时 符号对象为一个<font color="red">符号变量</font>。</p>
<p>请对比以下程序：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; t=sym(<span class="number">2</span>);</span><br><span class="line">&gt;&gt; t+<span class="number">1</span>/<span class="number">2</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"><span class="number">5</span>/<span class="number">2</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; <span class="built_in">sin</span>(sym(<span class="built_in">pi</span>/<span class="number">3</span>))</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"><span class="number">3</span>^(<span class="number">1</span>/<span class="number">2</span>)/<span class="number">2</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; <span class="built_in">sin</span>(<span class="built_in">pi</span>/<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.8660</span></span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; a=<span class="number">5</span>;</span><br><span class="line">&gt;&gt; b=<span class="number">-8</span>;</span><br><span class="line">&gt;&gt; x=sym(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&gt;&gt; y=sym(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&gt;&gt; w=(a+b)*(a-b)</span><br><span class="line"></span><br><span class="line">w =</span><br><span class="line"></span><br><span class="line">   <span class="number">-39</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; s=(x+y)*(x-y)</span><br><span class="line"> </span><br><span class="line">s =</span><br><span class="line"> </span><br><span class="line">(a + b)*(a - b)</span><br><span class="line"> </span><br><span class="line">&gt;&gt; eval(s)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">-39</span></span><br></pre></td></tr></table></figure>
<p>由以上的例子我们可以看出：</p>
<ul>
<li>符号计算的结果是一个精确的数学表达式。</li>
<li>数值计算的结果是一个数值。</li>
</ul>
<h4 id="syms命令"><a class="header-anchor" href="#syms命令">¶</a>syms命令</h4>
<p>syms命令可以一次定义多个符号变量，其一般调用格式如下：</p>
<p>syms 符号变量名1 符号变量名2 … 符号变量名n</p>
<blockquote>
<p>其中，变量名不能加单引号，相互之间用空格隔开。</p>
</blockquote>
<p>例如，要同时定义四个符号变量a、b、c、d，则可以输入如下 命令：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms a b c d</span><br></pre></td></tr></table></figure>
<h3 id="符号对象的运算"><a class="header-anchor" href="#符号对象的运算">¶</a>符号对象的运算</h3>
<h4 id="四则运算"><a class="header-anchor" href="#四则运算">¶</a>四则运算</h4>
<p>符号表达式的四则运算与数值运算一样，用+、-、*、/、^ 运 算符实现，其运算结果依然是一个符号表达式。例如：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x;</span><br><span class="line">&gt;&gt; f=<span class="number">2</span>*x^<span class="number">2</span>+<span class="number">3</span>*x<span class="number">-5</span>;</span><br><span class="line">&gt;&gt; g=x^<span class="number">2</span>-x+<span class="number">7</span>;</span><br><span class="line">&gt;&gt; f+g</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"><span class="number">3</span>*x^<span class="number">2</span> + <span class="number">2</span>*x + <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="关系运算-v2"><a class="header-anchor" href="#关系运算-v2">¶</a>关系运算</h4>
<ul>
<li>6种关系运算符:&lt;、&lt;=、&gt;、&gt;=、=、一=。</li>
<li>对应的6个函数: lt()、le()、gt()、ge()、eq()、ne()。</li>
</ul>
<p>若参与运算的是<font color="red">符号表达式</font>，其结果是一个<font color="red">符号关系表达式</font>；若参与运算的是<font color="red">符号矩阵</font>，其结果是<font color="red">由符号关系表达式组 成的矩阵</font>。</p>
<p>在进行符号对象的运算前，可用<font color="red">assume函数</font>对符号对象设置值域， 函数调用格式为：</p>
<p>assume(condition)</p>
<p>assume(expr,set)</p>
<blockquote>
<p>第一种格式指定变量满足条件condition，第二种格式指定表达式 expr属于集合set。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x;</span><br><span class="line">&gt;&gt; assume(x&lt;<span class="number">0</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(x)==x</span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line">-x==x</span><br><span class="line"><span class="comment">%因为x&lt;0，所以abs(x)的值为-x。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; assume(x,<span class="string">&#x27;positive&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">abs</span>(x)==x</span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line">x==x</span><br><span class="line"><span class="comment">%因为x为正数，所以abs(x)的值为x。</span></span><br></pre></td></tr></table></figure>
<h4 id="逻辑运算-v2"><a class="header-anchor" href="#逻辑运算-v2">¶</a>逻辑运算</h4>
<ul>
<li>3种逻辑运算符:&amp;（与）、│(或）和～（非）。</li>
<li>4个逻辑运算函数: and(a, b)、or(a,b)、not(a)和xor(a, b)。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829171020.png" alt="image-20200829160458763"></p>
<h4 id="因式分解与展开运算"><a class="header-anchor" href="#因式分解与展开运算">¶</a>因式分解与展开运算</h4>
<p>MATLAB提供了符号表达式的因式分解与展开的函数，函数的调用格式为：</p>
<p>①factor(s):对符号表达式s分解因式。<br>
②expand(s):对符号表达式s进行展开。<br>
③collect(s):对符号表达式s合并同类项。<br>
④collect(s,v):对符号表达式s按变量v合并同类项。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms a b;</span><br><span class="line">&gt;&gt; s=a^<span class="number">3</span>-b^<span class="number">3</span>;</span><br><span class="line">&gt;&gt; <span class="built_in">factor</span>(s)</span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line">[ a-b, a^<span class="number">2</span> + a*b + b^<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">factor</span>(<span class="number">12</span>)</span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>梅森素数的验证问题</p>
<p>所谓梅森数，是指形如2 p -1的一类整数，其中指数p是素数。将梅森数记为Mp。 如果梅森数是素数，就称为梅森素数。请验证M19 、 M23 、 M29 、 M31是否 为梅森素数。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms p;</span><br><span class="line">&gt;&gt; m=<span class="number">2</span>^p<span class="number">-1</span>;</span><br><span class="line">&gt;&gt; p=<span class="number">19</span>;</span><br><span class="line">&gt;&gt; m19=eval(m)</span><br><span class="line"></span><br><span class="line">m19 =</span><br><span class="line"></span><br><span class="line">      <span class="number">524287</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">factor</span>(m19)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">      <span class="number">524287</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; p=<span class="number">23</span>;</span><br><span class="line">&gt;&gt; m23=eval(m)</span><br><span class="line"></span><br><span class="line">m23 =</span><br><span class="line"></span><br><span class="line">     <span class="number">8388607</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">factor</span>(m23)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">          <span class="number">47</span>      <span class="number">178481</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; p=<span class="number">29</span>;</span><br><span class="line">&gt;&gt; m29=eval(m)</span><br><span class="line"></span><br><span class="line">m29 =</span><br><span class="line"></span><br><span class="line">   <span class="number">536870911</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">factor</span>(m29)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">         <span class="number">233</span>        <span class="number">1103</span>        <span class="number">2089</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; p=<span class="number">31</span>;</span><br><span class="line">&gt;&gt; m31=eval(m)</span><br><span class="line"></span><br><span class="line">m31 =</span><br><span class="line"></span><br><span class="line">   <span class="number">2.1475e+09</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">factor</span>(m31)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">2.1475e+09</span></span><br></pre></td></tr></table></figure>
<h4 id="其他运算"><a class="header-anchor" href="#其他运算">¶</a>其他运算</h4>
<p>① 提取有理分式的分子分母：[n,d]=numden(s)。<br>
② 提取符号表达式的系数：c=coeffs(s,x)。<br>
③ 符号表达式化简：simplify(s)。<br>
④ 符号多项式与多项式系数向量之间的转换：</p>
<ul>
<li>符号多项式转换为多项式系数向量: p=sym2poly(s)。</li>
<li>多项式系数向量转换为符号多项式:s=poly2sym§。</li>
</ul>
<p>ex1:求方程ax^2+bx+c=0的根。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms a b c x;</span><br><span class="line">&gt;&gt; f=a*x^<span class="number">2</span>+b*x+c</span><br><span class="line"> </span><br><span class="line">f =</span><br><span class="line"> </span><br><span class="line">a*x^<span class="number">2</span> + b*x + c</span><br><span class="line"> </span><br><span class="line">&gt;&gt; g=coeffs(f,x)</span><br><span class="line"> </span><br><span class="line">g =</span><br><span class="line"> </span><br><span class="line">[ c, b, a]</span><br><span class="line"> </span><br><span class="line">&gt;&gt; g=g(<span class="keyword">end</span>:<span class="number">-1</span>:<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">g =</span><br><span class="line"> </span><br><span class="line">[ a, b, c]</span><br><span class="line"> </span><br><span class="line">&gt;&gt; roots(g)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"> -(b + (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> -(b - (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br></pre></td></tr></table></figure>
<h4 id="符号运算中变量的确定"><a class="header-anchor" href="#符号运算中变量的确定">¶</a>符号运算中变量的确定</h4>
<p>① 如果没有明确指定自变量，MATLAB将按以下原则确定主变量并对其进行相应运算:</p>
<ul>
<li>寻找除i、j之外，在字母顺序上最接近x的小写字母。</li>
<li>若表达式中有两个符号变量与x的距离相等，则ASCII码大者优先。</li>
</ul>
<p>② symvar()函数可以用于查找一个符号表达式中的符号变量，函数的调用格式为：</p>
<p>symvar(s,n)</p>
<p>函数返回符号表达式s中的n个符号变量。因此，可以用<font color="red">symvar(s,1)</font>查找表达式s的主变量。</p>
<h3 id="符号矩阵"><a class="header-anchor" href="#符号矩阵">¶</a>符号矩阵</h3>
<p>符号矩阵也是一种符号表达式，所以符号表达式运算都可以在矩阵意 义下进行。</p>
<div class="note success flat"><p>注意：这些函数作用于符号矩阵时，是分别作用于矩阵的每一个元素。</p>
</div>
<p>ex1：建立符号矩阵并化简。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829170952.png" alt="image-20200829170951954"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms a b x y alp;</span><br><span class="line">&gt;&gt; m=[a^<span class="number">3</span>-b^<span class="number">3</span>,<span class="built_in">sin</span>(alp)^<span class="number">2</span>+<span class="built_in">cos</span>(alp)^<span class="number">2</span>;(<span class="number">15</span>*x*y<span class="number">-3</span>*x^<span class="number">2</span>)/(x<span class="number">-5</span>*y),<span class="number">78</span>]</span><br><span class="line">m =</span><br><span class="line">[ a^<span class="number">3</span> - b^<span class="number">3</span>,<span class="built_in">cos</span>(alp)^<span class="number">2</span> + <span class="built_in">sin</span>(alp)^<span class="number">2</span>]</span><br><span class="line">[(- <span class="number">3</span>*x^<span class="number">2</span> + <span class="number">15</span>*y*x)/(x - <span class="number">5</span>*y), <span class="number">78</span>]</span><br><span class="line">&gt;&gt; simplify(m)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">[ a^<span class="number">3</span> - b^<span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line">[ <span class="number">-3</span>*x, <span class="number">78</span>]</span><br></pre></td></tr></table></figure>
<p>ex2:当λ取何值时，以下齐次线性方程组有非零解。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829171105.png" alt="image-20200829171104371"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">syms lamda;</span><br><span class="line">A=[<span class="number">1</span>-lamda,<span class="number">-2</span>,<span class="number">4</span>;<span class="number">2</span>,<span class="number">3</span>-lamda,<span class="number">1</span>;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>-lamda];</span><br><span class="line">D=det(A);</span><br><span class="line"><span class="built_in">factor</span>(D)</span><br><span class="line"></span><br><span class="line"><span class="comment">%程序运行结果为：</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">[<span class="number">-1</span>, lamda, lamda - <span class="number">2</span>, lamda - <span class="number">3</span>]</span><br><span class="line"><span class="comment">%从而得知，当λ=0、λ=2或λ=3时，原方程组有非零解。</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>对于齐次线性方程组Ax=0，当 rank(A)&lt;n或|A|=0时，齐次线性方程组有非零解。</p>
</blockquote>
<h2 id="符号微积分"><a class="header-anchor" href="#符号微积分">¶</a>符号微积分</h2>
<ul>
<li>符号函数的极限</li>
<li>符号函数的导数</li>
<li>符号函数的积分</li>
</ul>
<h3 id="符号函数的极限"><a class="header-anchor" href="#符号函数的极限">¶</a>符号函数的极限</h3>
<ul>
<li>求符号函数极限的命令为limit，其调用格式为：</li>
</ul>
<p>limit(f,x,a)</p>
<p>即求函数f关于变量x在a点的极限。</p>
<p>limit函数的另一种功能是求单边极限，其调用格式为：</p>
<p>limit(f,x,a,‘right’)</p>
<p>limit(f,x,a,‘left’)</p>
<p>ex:求下列极限。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829171745.png" alt="image-20200829171743840"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms a m x n;</span><br><span class="line">&gt;&gt; f=(x^(<span class="number">1</span>/m)-a^(<span class="number">1</span>/m))/(x-a);</span><br><span class="line">&gt;&gt; limit(f,x,a)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">a^(<span class="number">1</span>/m - <span class="number">1</span>)/m</span><br><span class="line">&gt;&gt; g=(<span class="number">1</span>+<span class="number">1</span>/n)^n;</span><br><span class="line">&gt;&gt; limit(g,n,<span class="built_in">inf</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="built_in">exp</span>(<span class="number">1</span>)</span><br><span class="line"><span class="comment">%即自然常数e。</span></span><br></pre></td></tr></table></figure>
<h3 id="符号函数的导数"><a class="header-anchor" href="#符号函数的导数">¶</a>符号函数的导数</h3>
<p>MATLAB中的求导函数为：</p>
<p>diff(f,x,n)</p>
<p>即求函数f关于变量x的n阶导数。参数x的用法同求极限函数limit，可以缺省，默认值与limit相同，n的默认值是1。</p>
<p>ex:求下列函数的导数。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829171930.png" alt="image-20200829171929798"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%（1）</span></span><br><span class="line">&gt;&gt; syms x y z;</span><br><span class="line">&gt;&gt; f=<span class="built_in">sqrt</span>(<span class="number">1</span>+<span class="built_in">exp</span>(x));</span><br><span class="line">&gt;&gt; diff(f)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="built_in">exp</span>(x)/(<span class="number">2</span>*(<span class="built_in">exp</span>(x) + <span class="number">1</span>)^(<span class="number">1</span>/<span class="number">2</span>)) </span><br><span class="line"><span class="comment">%(2)</span></span><br><span class="line">&gt;&gt; g=x*<span class="built_in">exp</span>(y)/y^<span class="number">2</span>;</span><br><span class="line">&gt;&gt; diff(g,x)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="built_in">exp</span>(y)/y^<span class="number">2</span></span><br><span class="line">&gt;&gt; diff(g,y)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">(x*<span class="built_in">exp</span>(y))/y^<span class="number">2</span> - (<span class="number">2</span>*x*<span class="built_in">exp</span>(y))/y^<span class="number">3</span></span><br></pre></td></tr></table></figure>
<h3 id="符号函数的积分"><a class="header-anchor" href="#符号函数的积分">¶</a>符号函数的积分</h3>
<h4 id="不定积分"><a class="header-anchor" href="#不定积分">¶</a>不定积分</h4>
<p>在MATLAB中，求不定积分的函数是int()，其常用 的调用格式为：</p>
<p>int(f,x)</p>
<p>即求函数f对变量x的不定积分。</p>
<p>ex:求下列不定积分。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="../../../picture/PicGo/copypicture/image-20200829172130927.png" alt="image-20200829172130927"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x t;</span><br><span class="line">&gt;&gt; f=(<span class="number">3</span>-x^<span class="number">2</span>)^<span class="number">3</span>;</span><br><span class="line">&gt;&gt; int(f)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">- x^<span class="number">7</span>/<span class="number">7</span> + (<span class="number">9</span>*x^<span class="number">5</span>)/<span class="number">5</span> - <span class="number">9</span>*x^<span class="number">3</span> + <span class="number">27</span>*x</span><br><span class="line">&gt;&gt; g=<span class="number">5</span>*x*t/(<span class="number">1</span>+x^<span class="number">2</span>);</span><br><span class="line">&gt;&gt; int(g,t)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">(<span class="number">5</span>*t^<span class="number">2</span>*x)/(<span class="number">2</span>*(x^<span class="number">2</span> + <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h4 id="定积分"><a class="header-anchor" href="#定积分">¶</a>定积分</h4>
<p>在MATLAB中，定积分的计算也使用int()函数，但调用格式有区别：</p>
<p>int(f,x,a,b)</p>
<blockquote>
<p>其中，a、b分别表示定积分的下限和上限。</p>
</blockquote>
<ul>
<li>当函数f关于变量x在闭区间[a, b]可积时，函数返回一个定积分结果。</li>
<li>当a、b中有一个是inf时，函数返回一个广义积分。</li>
<li>当a、b中有一个符号表达式时，函数返回一个符号函数。</li>
</ul>
<p>ex:求下列定积分。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829172312.png" alt="image-20200829172311087"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x t;</span><br><span class="line">&gt;&gt; int(<span class="built_in">abs</span>(<span class="number">1</span>-x),<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">1</span>/<span class="number">2</span></span><br><span class="line">&gt;&gt; int(<span class="number">1</span>/(<span class="number">1</span>+x^<span class="number">2</span>),-<span class="built_in">inf</span>,<span class="built_in">inf</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="built_in">pi</span></span><br><span class="line">&gt;&gt; int(<span class="number">4</span>*x/t,t,<span class="number">2</span>,<span class="built_in">sin</span>(x))</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">4</span>*x*(<span class="built_in">log</span>(<span class="built_in">sin</span>(x)) - <span class="built_in">log</span>(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<h2 id="级数"><a class="header-anchor" href="#级数">¶</a>级数</h2>
<ul>
<li>级数求和</li>
<li>泰勒级数</li>
</ul>
<h3 id="级数求和"><a class="header-anchor" href="#级数求和">¶</a>级数求和</h3>
<p>求无穷级数的和需要符号表达式求和函数symsum()，其调 用格式为：</p>
<p>symsum(s,v,n,m)</p>
<blockquote>
<p>其中，s表示一个级数的通项，是一个符号表达式。v是求 和变量，v省略时使用系统的默认变量。n和m是求和变量v 的初值和末值。</p>
</blockquote>
<p>ex:求下列级数之和。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829172515.png" alt="image-20200829172514352"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms n;</span><br><span class="line">&gt;&gt; s1=symsum(n^<span class="number">2</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">s1 =</span><br><span class="line"><span class="number">338350</span></span><br><span class="line">&gt;&gt; s2=symsum((<span class="number">-1</span>)^(n<span class="number">-1</span>)/n,<span class="number">1</span>,<span class="built_in">inf</span>)</span><br><span class="line">s2=</span><br><span class="line"><span class="built_in">log</span>(<span class="number">2</span>)</span><br><span class="line">&gt;&gt; s3=symsum((<span class="number">-1</span>)^(n<span class="number">-1</span>)/(<span class="number">2</span>*n<span class="number">-1</span>),n,<span class="number">1</span>,<span class="built_in">inf</span>)</span><br><span class="line">s3 =</span><br><span class="line">hypergeom([<span class="number">-1</span>/<span class="number">2</span>, <span class="number">1</span>], <span class="number">1</span>/<span class="number">2</span>, <span class="number">-1</span>)–<span class="number">1</span></span><br><span class="line">&gt;&gt; hypergeom([<span class="number">-1</span>/<span class="number">2</span>, <span class="number">1</span>], <span class="number">1</span>/<span class="number">2</span>, <span class="number">-1</span>) <span class="comment">%超几何函数</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">1.7854</span></span><br><span class="line">&gt;&gt; eval(s3)*<span class="number">4</span></span><br><span class="line"><span class="built_in">ans</span>=</span><br><span class="line"><span class="number">3.141592653589792</span></span><br><span class="line"><span class="comment">%即原级数之和为π/4。</span></span><br></pre></td></tr></table></figure>
<p>银行利率的计算问题</p>
<p>假设某人在银行存款50000元，年利率为4.5%，按复利计息。</p>
<p>①若半年期计息一次，请问一年后总金额是多少？</p>
<p>②若每季度计息一次，请问一年后总金额是多少？</p>
<p>③若每月计息一次，请问一年后总金额是多少？</p>
<p>④若计息时间无限短，即计息期数趋于无穷，则一年后总金额是多少？</p>
<p><font color='purple'>思考：期数无限多，总金额是否也会无限增长？</font></p>
<p><font color='purple'>问题分析：</font></p>
<p>假设存款（初始总金额）为p，年利率为r，计息期数为k。<br>
第一期后总金额为<code>p*(1+r/k)</code>。<br>
第二期后总金额为<code>p*(1+r/k)^2</code>。<br>
第三期后总金额为<code>p*(1+r/k)^3</code>。<br>
依此类推，第k期后总金额为<code>p*(1+r/k)^k</code>。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms k r;</span><br><span class="line">&gt;&gt; p2=symsum(<span class="number">50000</span>*(<span class="number">1</span>+<span class="number">0.045</span>/k)^k,k,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">&gt;&gt; eval(p2)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">5.2275e+04</span></span><br><span class="line">&gt;&gt; p4=symsum(<span class="number">50000</span>*(<span class="number">1</span>+<span class="number">0.045</span>/k)^k,k,<span class="number">4</span>,<span class="number">4</span>);</span><br><span class="line">&gt;&gt; eval(p4)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">5.2288e+04</span></span><br><span class="line">&gt;&gt; p12=symsum(<span class="number">50000</span>*(<span class="number">1</span>+<span class="number">0.045</span>/k)^k,k,<span class="number">12</span>,<span class="number">12</span>);</span><br><span class="line">&gt;&gt; eval(p12)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">5.2297e+04</span></span><br><span class="line">&gt;&gt; limit((<span class="number">1</span>+r/k)^k,k,<span class="built_in">inf</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="built_in">exp</span>(r)</span><br><span class="line">&gt;&gt; <span class="number">50000</span>*<span class="built_in">exp</span>(<span class="number">0.045</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">5.2301e+04</span></span><br></pre></td></tr></table></figure>
<p>所以，即使是无数次计息，只要年利率确定， 总金额也不会无限增长，它收敛于pe^r 。</p>
<blockquote>
<p>注意：在符号计算中，因为小数都表示为有理分数的形式，随着计算次数的 增加，容易导致分子或分母出现极大整数从而无法计算的情况。</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms n;</span><br><span class="line">&gt;&gt; s=symsum(<span class="number">1</span>/n^<span class="number">2</span>,n,<span class="number">1</span>,<span class="built_in">inf</span>)</span><br><span class="line">s =</span><br><span class="line"><span class="built_in">pi</span>^<span class="number">2</span>/<span class="number">6</span></span><br><span class="line">&gt;&gt; s1=symsum(<span class="number">1</span>/n^<span class="number">2</span>,n,<span class="number">1</span>,<span class="number">500</span>)</span><br><span class="line">s1 =</span><br><span class="line"><span class="number">40989667509417020364501093692502</span> …</span><br><span class="line">&gt;&gt; eval(s1)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">NaN</span><br></pre></td></tr></table></figure>
<h3 id="泰勒级数"><a class="header-anchor" href="#泰勒级数">¶</a>泰勒级数</h3>
<p>MATLAB提供了taylor()函数将函数展开为幂级数，其调用格式为：</p>
<p>taylor(f,v,a,Name,Value)</p>
<p>该函数将函数f按变量v在a点展开为泰勒级数，v的默认值 与diff函数相同，a的默认值是0。 Name和Value为选项设置，经常成对使用，前者为选项名，后者为该选项的值。</p>
<p>Name有3个可取字符串：</p>
<p>① ‘ExpansionPoint’：指定展开点，对应值可以是标量或向量。 未设置时，展开点为0。</p>
<p>② ‘Order’：指定截断参数，对应值为一个正整数。未设置时， 截断参数为6，即展开式的最高阶为5。</p>
<p>③ ‘OrderMode’：指定展开式采用绝对阶或相对阶，对应值为 ‘Absolute’ 或’Relative’。 未设置时取’Absolute’。</p>
<p>ex:求函数f在x=1处的5阶泰勒级数展开式。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829180353.png" alt="image-20200829180352257"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x;</span><br><span class="line">&gt;&gt; f=(<span class="number">1</span>+x+x^<span class="number">2</span>)/(<span class="number">1</span>-x+x^<span class="number">2</span>);</span><br><span class="line">&gt;&gt; taylor(f,x,<span class="number">1</span>,<span class="string">&#x27;Order&#x27;</span>,<span class="number">6</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"><span class="number">2</span>*(x - <span class="number">1</span>)^<span class="number">3</span> - <span class="number">2</span>*(x - <span class="number">1</span>)^<span class="number">2</span> - <span class="number">2</span>*(x - <span class="number">1</span>)^<span class="number">5</span> + <span class="number">3</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; expand(<span class="built_in">ans</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line">- <span class="number">2</span>*x^<span class="number">5</span> + <span class="number">10</span>*x^<span class="number">4</span> - <span class="number">18</span>*x^<span class="number">3</span> + <span class="number">12</span>*x^<span class="number">2</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>复杂函数的计算方法问题</p>
<p>除了四则运算以外，计算机对其他复杂函数怎么计算？ 是否存在一种方法，使得计算机只需要通过四则运算， 就能计算其他复杂函数？</p>
<p><font color='purple'>泰勒级数展开就是一种非常好的解决方案。</font></p>
<p>ex:利用泰勒展开式计算三角函数的值。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x;</span><br><span class="line">&gt;&gt; f=taylor(<span class="built_in">cos</span>(x),x,<span class="built_in">pi</span>)</span><br><span class="line"> </span><br><span class="line">f =</span><br><span class="line"> </span><br><span class="line">(x - <span class="built_in">pi</span>)^<span class="number">2</span>/<span class="number">2</span> - (x - <span class="built_in">pi</span>)^<span class="number">4</span>/<span class="number">24</span> - <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; x=<span class="number">3</span>;</span><br><span class="line">&gt;&gt; eval(f)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.9900</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">cos</span>(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.9900</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过泰勒级数展开的方法，成功地将三角函数的计算转换成了四则运算。</p>
</blockquote>
<h2 id="符号方程求解"><a class="header-anchor" href="#符号方程求解">¶</a>符号方程求解</h2>
<ul>
<li>代数方程符号求解</li>
<li>常微分方程符号求解</li>
</ul>
<h3 id="代数方程符号求解"><a class="header-anchor" href="#代数方程符号求解">¶</a>代数方程符号求解</h3>
<p>在MATLAB中，求解用符号表达式表示的代数方程可由函数 solve()实现，其调用格式为：</p>
<p>① solve(s)：求解符号表达式s的代数方程，求解变量为 默认变量。<br>
② solve(s,v)：求解符号表达式s的代数方程，求解变量 为v。<br>
③ solve(s1,s2,…,sn,v1,v2,…,vn)：求解符号表达式 s1，s2，…，sn组成的代数方程组，求解变量分别为v1， v2，…，vn。</p>
<p>ex:解方程 <code>a*x^2+b*x+c=0</code>。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x y a b c;</span><br><span class="line"><span class="comment">%①</span></span><br><span class="line">&gt;&gt; solve(a*x^<span class="number">2</span>+b*x+c==<span class="number">0</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"> -(b + (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> -(b - (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> <span class="comment">%②</span></span><br><span class="line">&gt;&gt; f=a*x^<span class="number">2</span>+b*x+c==<span class="number">0</span>;</span><br><span class="line">&gt;&gt; solve(f)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"> -(b + (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> -(b - (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> <span class="comment">%③</span></span><br><span class="line">&gt;&gt; solve(a*x^<span class="number">2</span>+b*x+c)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"> -(b + (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> -(b - (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> <span class="comment">%④</span></span><br><span class="line">&gt;&gt; f=a*x^<span class="number">2</span>+b*x+c</span><br><span class="line"> </span><br><span class="line">f =</span><br><span class="line"> </span><br><span class="line">a*x^<span class="number">2</span> + b*x + c</span><br><span class="line"> </span><br><span class="line">&gt;&gt; solve(f)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"> </span><br><span class="line"> -(b + (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br><span class="line"> -(b - (b^<span class="number">2</span> - <span class="number">4</span>*a*c)^(<span class="number">1</span>/<span class="number">2</span>))/(<span class="number">2</span>*a)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：solve()函数求解方程时，所得到的结果不一定准确。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829190446.png" alt="image-20200829190445337"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x y;</span><br><span class="line">&gt;&gt; [u,v]=solve(x+y==<span class="number">98</span>,x^(<span class="number">1</span>/<span class="number">3</span>)+y^(<span class="number">1</span>/<span class="number">3</span>)==<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line">u =</span><br><span class="line"> </span><br><span class="line">Empty sym: <span class="number">0</span>-by<span class="number">-1</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">v =</span><br><span class="line"> </span><br><span class="line">Empty sym: <span class="number">0</span>-by<span class="number">-1</span></span><br></pre></td></tr></table></figure>
<p><font color='purple'>转化过后，再解方程：</font></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x y;</span><br><span class="line">&gt;&gt; u=solve(x+(<span class="number">2</span>-x^(<span class="number">1</span>/<span class="number">3</span>))^<span class="number">3</span>==<span class="number">98</span>)</span><br><span class="line"> </span><br><span class="line">u =</span><br><span class="line"> </span><br><span class="line"><span class="number">125</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; v=<span class="number">98</span>-u</span><br><span class="line"> </span><br><span class="line">v =</span><br><span class="line"> </span><br><span class="line"><span class="number">-27</span></span><br></pre></td></tr></table></figure>
<h3 id="常微分方程符号求解"><a class="header-anchor" href="#常微分方程符号求解">¶</a>常微分方程符号求解</h3>
<ul>
<li>
<p>在MATLAB中，用大写字母D表示导数。例如，Dy表示y’，D2y表示y’’， Dy(0)=5表示y’(0)=5。D3y+D2y+Dy-x+5=0表示微分方程y’’’+y’’+y’-x+5=0。</p>
</li>
<li>
<p>符号常微分方程求解可以通过函数dsolve()函数来实现，其调用格式为：</p>
<p>dsolve(e,c,v)</p>
<p>用于求解常微分方程e在初值条件c下的特解。参数v是方程中的自变量，省 略时按默认原则处理，若没有给出初值条件c，则求方程的通解。</p>
</li>
<li>
<p>dsolve在求常微分方程组时的调用格式为：</p>
<p>dsolve(e1,e2,…,en,c1,c2,…,cn,v)</p>
<p>用于求解常微分方程组e1, e2, …, en在初值条件c1, c2, …, cn下的特解，若不 给出初值条件，则求方程组的通解。v给出求解变量，如果没有指定自变量， 则采用默认自变量t。</p>
</li>
</ul>
<p>ex:求下列微分方程或方程组的解。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829190847.png" alt="image-20200829190846323"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; syms x y t;</span><br><span class="line">&gt;&gt; y=dsolve(<span class="string">&#x27;Dy-(x^2+y^2)/x^2/2&#x27;</span>,x)</span><br><span class="line">y =</span><br><span class="line">x</span><br><span class="line">-x*(<span class="number">1</span>/(C5 + <span class="built_in">log</span>(x)/<span class="number">2</span>) - <span class="number">1</span>)</span><br><span class="line">&gt;&gt; [x,y]=dsolve(<span class="string">&#x27;Dx=4*x-2*y&#x27;</span>,<span class="string">&#x27;Dy=2*x-y&#x27;</span>,t)</span><br><span class="line">x =</span><br><span class="line">C8/<span class="number">2</span> + <span class="number">2</span>*C7*<span class="built_in">exp</span>(<span class="number">3</span>*t)</span><br><span class="line">y =</span><br><span class="line">C8 + C7*<span class="built_in">exp</span>(<span class="number">3</span>*t)</span><br></pre></td></tr></table></figure>
<h1>MATLAB图形用户界面设计</h1>
<h2 id="图形窗口与坐标轴"><a class="header-anchor" href="#图形窗口与坐标轴">¶</a>图形窗口与坐标轴</h2>
<ul>
<li>图形对象的句柄</li>
<li>图形对象的属性</li>
<li>图形窗口的操作</li>
<li>坐标轴的操作</li>
</ul>
<h3 id="图形对象句柄"><a class="header-anchor" href="#图形对象句柄">¶</a>图形对象句柄</h3>
<h4 id="句柄的概念"><a class="header-anchor" href="#句柄的概念">¶</a>句柄的概念</h4>
<p>在MATLAB中，每一个具体的图形都是由若干个不同的图形对象组成的。</p>
<p>在MATLAB中，用句柄来标识对象，通过句柄来访问相应对象的属性。</p>
<p>ex:绘制多个图形，并保存图形句柄。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">10</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">h1=<span class="built_in">plot3</span>(t+<span class="built_in">pi</span>,t<span class="number">-2</span>*<span class="built_in">pi</span>,<span class="built_in">sin</span>(t),<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line">[x,y]=<span class="built_in">meshgrid</span>(t);</span><br><span class="line">z=<span class="built_in">sin</span>(x);</span><br><span class="line">h2=mesh(t<span class="number">-2</span>*<span class="built_in">pi</span>,t+<span class="built_in">pi</span>,z);</span><br><span class="line">[x3,y3,z3]=cylinder(t);</span><br><span class="line">h3=surf(x3,y3,z3);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829213442.png" alt="image-20200829213441217"></p>
<h4 id="访问图形对象"><a class="header-anchor" href="#访问图形对象">¶</a>访问图形对象</h4>
<p>访问图形对象是指获取或设置图形对象的属性。不同图形对象所具有的属性不同，但访问的方法是一样的。</p>
<p>对象句柄.属性名</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; x=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">10</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">&gt;&gt; y=<span class="built_in">sin</span>(x);</span><br><span class="line">&gt;&gt; h0=<span class="built_in">plot</span>(x,y);</span><br><span class="line">&gt;&gt; h0.Color</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">0</span> <span class="number">0.4470</span> <span class="number">0.7410</span></span><br><span class="line">&gt;&gt; h0.LineWidth=<span class="number">2</span>;</span><br><span class="line">&gt;&gt; h0.LineStyle=<span class="string">&#x27;-.&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="获取特定图形对象句柄的函数"><a class="header-anchor" href="#获取特定图形对象句柄的函数">¶</a>获取特定图形对象句柄的函数</h4>
<ul>
<li>gcf:获取当前图形窗口的句柄。</li>
<li>gca:获取当前坐标轴的句柄。</li>
<li>gco:获取最近被选中的图形对象的句柄。</li>
<li>findobj:按照指定的属性来获取图形对象的句柄。</li>
</ul>
<h3 id="图形对象属性"><a class="header-anchor" href="#图形对象属性">¶</a>图形对象属性</h3>
<h4 id="图形对象的常用公共属性"><a class="header-anchor" href="#图形对象的常用公共属性">¶</a>图形对象的常用公共属性</h4>
<ul>
<li>Children属性:该对象的所有子对象的句柄组成的一个向量。</li>
<li>Parent属性:该对象的父对象的句柄。</li>
<li>Type属性:对象的类型，这是一个只读属性。</li>
<li>Tag属性:用于给对象定义一个标识符。</li>
</ul>
<p>ex:分别在两个子图中绘制曲线和曲面。然后设置子图1的背景色为黄 色，曲线线条颜色为红色，设置子图2的背景色为青色。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">h1=fplot(@(t)t.*<span class="built_in">sin</span>(t),@(t)t.*<span class="built_in">cos</span>(t),[<span class="number">0</span>,<span class="number">6</span>*<span class="built_in">pi</span>] );</span><br><span class="line">axis equal</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">[x,y,z]=peaks(<span class="number">20</span>);</span><br><span class="line">h2=mesh(x,y,z);</span><br><span class="line">h10=h1.Parent;</span><br><span class="line">h10.Color=<span class="string">&#x27;y&#x27;</span>;</span><br><span class="line">h1.Color=<span class="string">&#x27;r&#x27;</span>;</span><br><span class="line">h2.Parent.Color=<span class="string">&#x27;cyan&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829214455.png" alt="image-20200829214453961"></p>
<h4 id="图形对象的常用动态属性"><a class="header-anchor" href="#图形对象的常用动态属性">¶</a>图形对象的常用动态属性</h4>
<ul>
<li>KeyPressFcn属性:定义按下键盘按键事件的响应。</li>
<li>CreateFcn属性:定义创建图形对象时做出的响应。</li>
<li>DeleteFcn属性:定义取消图形对象时做出的响应。</li>
<li>WindowButtonDownFcn或ButtonDownFcn属性:定义鼠标键按下事件的响应。</li>
</ul>
<h3 id="图形窗口的操作"><a class="header-anchor" href="#图形窗口的操作">¶</a>图形窗口的操作</h3>
<h4 id="建立图形窗口对象"><a class="header-anchor" href="#建立图形窗口对象">¶</a>建立图形窗口对象</h4>
<p>MATLAB通过figure函数来创建窗口对象，其调用格式为：</p>
<ul>
<li>句柄变量=figure(属性1,属性值1,属性2,属性值2,…)</li>
</ul>
<blockquote>
<p>其中，属性用于设置图形窗口的特征。</p>
</blockquote>
<ul>
<li>句柄变量=figure</li>
</ul>
<blockquote>
<p>按MATLAB默认的属性值建立图形窗口。</p>
</blockquote>
<ul>
<li>figure(窗口句柄)</li>
</ul>
<blockquote>
<p>设定该句柄对应的窗口为当前窗口。</p>
</blockquote>
<h4 id="图形窗口属性"><a class="header-anchor" href="#图形窗口属性">¶</a>图形窗口属性</h4>
<ul>
<li>
<p>MenuBar属性:控制图形窗口是否具有菜单条，其取值为’none’或’figure’。</p>
</li>
<li>
<p>Name属性:指定图形窗口的标题。</p>
</li>
<li>
<p>NumberTitle属性:决定着在图形窗口的标题中是否以“Figure n:&quot;为标题前缀。</p>
</li>
<li>
<p>Color属性:设定图形窗口背景的颜色。</p>
</li>
<li>
<p>Position属性：定义图形窗口对象在屏幕上的位置和大小，值是一 个4元行向量：<br>
[x，y，w，h]</p>
</li>
<li>
<p>Units属性：定义图形窗口使用的度量单位，将影响一切定义大小 的属性项。</p>
<ul>
<li>‘pixels’:指定度量单位为像素（默认值）。</li>
<li>‘inches’:指定度量单位为英寸。厘米、磅。</li>
<li>‘centimeters’:指定度量单位为厘米。</li>
<li>‘points’:指定度量单位为磅。</li>
<li>‘normalized’:指定用相对单位。</li>
</ul>
</li>
</ul>
<p>ex:建立一个图形窗口。该图形窗口没有菜单条，标题名称为“图 形窗口示例”，起始于屏幕左下角、宽度和高度分别为300像素点和 150像素点，背景颜色为青色，且当用户从键盘按下任意一个键时，然 后在窗口中单击鼠标左键，在鼠标指针所在位置将显示 “Hello,World!” 。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">hf=<span class="built_in">figure</span>;</span><br><span class="line">hf.Color=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>];</span><br><span class="line">hf.Position=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">300</span>,<span class="number">150</span>];</span><br><span class="line">hf.Name=<span class="string">&#x27;图形窗口示例&#x27;</span>;</span><br><span class="line">hf.NumberTitle=<span class="string">&#x27;off&#x27;</span>;</span><br><span class="line">hf.MenuBar=<span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">hf.ButtonDownFcn=<span class="string">&#x27;gtext(&#x27;&#x27;Hello,World!&#x27;&#x27;)&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829215020.png" alt="image-20200829215019375"></p>
<h3 id="坐标轴对象的操作"><a class="header-anchor" href="#坐标轴对象的操作">¶</a>坐标轴对象的操作</h3>
<h4 id="建立坐标轴对象"><a class="header-anchor" href="#建立坐标轴对象">¶</a>建立坐标轴对象</h4>
<p>使用axes函数，其调用格式为：</p>
<ul>
<li>句柄变量=axes(属性1,属性值1,属性2,属性值2,…)</li>
</ul>
<blockquote>
<p>其中，属性用于设置坐标轴的外观和行为。</p>
</blockquote>
<ul>
<li>句柄变量=axes</li>
</ul>
<blockquote>
<p>按MATLAB默认的属性值在当前图形窗口创建坐标轴。</p>
</blockquote>
<ul>
<li>axes(坐标轴句柄)</li>
</ul>
<blockquote>
<p>设定该句柄代表的坐标轴为当前坐标轴。</p>
</blockquote>
<h4 id="坐标轴对象的属性"><a class="header-anchor" href="#坐标轴对象的属性">¶</a>坐标轴对象的属性</h4>
<ul>
<li>Position属性:定义坐标轴在图形窗口中的位置和大小。</li>
<li>Units属性:定义坐标轴使用的度量单位，默认值是’normalized’。</li>
<li>Box属性:决定坐标轴是否带有边框，可取值是’on’或’off’（默认值）。</li>
<li>GridLineStyle属性:用于定义网格线的类型，可取值是’:’(默认值）、’’、’-. ‘、’–’、 ‘none’。</li>
<li>Title属性:用于对坐标轴标题对象进行操作，取值是通过title函数建立的标题对象的句柄。</li>
<li>XLabel、YLabel、ZLabel属性：取值分别是通过xlabel、ylabel、 zlabel函数建立的标签对象的句柄。</li>
<li>XLim、YLim、ZLim 属性：分别定义各坐标轴的下限和上限，取值 是2元向量[Lmin, Lmax]，默认值为[0，1]。</li>
<li>XScale、YScale、ZScale 属性：定义各坐标轴的刻度类型。可取 值是’linear’ 、 ‘log’。</li>
<li>View属性：定义视点，取值是2元向量[az, el]，az定义视点的方位角，el定义视点的仰角。坐标轴默认视点的方位角为0°，仰角为 90°。</li>
</ul>
<p>ex:利用坐标轴对象实现图形窗口的分割。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">ha1=axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.1</span>,<span class="number">0.1</span>,<span class="number">0.7</span>,<span class="number">0.7</span>]);</span><br><span class="line">contour(peaks(<span class="number">20</span>))</span><br><span class="line">ha1.Title=title(<span class="string">&#x27;等高线&#x27;</span>);</span><br><span class="line">ha1.YLabel=ylabel(<span class="string">&#x27;南北向&#x27;</span>);</span><br><span class="line">ha1.XLabel=xlabel(<span class="string">&#x27;东西向&#x27;</span>);</span><br><span class="line">ha2=axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.65</span>,<span class="number">0.7</span>,<span class="number">0.28</span>,<span class="number">0.28</span>]);</span><br><span class="line">surf(peaks(<span class="number">20</span>))</span><br><span class="line">ha2.View=[<span class="number">-30</span>,<span class="number">45</span>];</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829215536.png" alt="image-20200829215535465"></p>
<ul>
<li>ColorOrder属性：用于设置多条曲线的颜色顺序，是一个n×3矩阵， 每行用RGB三元组表示一种颜色，默认n为7。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; hc=gca;</span><br><span class="line">&gt;&gt; C=hc.ColorOrder</span><br><span class="line">C =</span><br><span class="line"><span class="number">0</span> <span class="number">0.4470</span> <span class="number">0.7410</span></span><br><span class="line"><span class="number">0.8500</span> <span class="number">0.3250</span> <span class="number">0.0980</span></span><br><span class="line"><span class="number">0.9290</span> <span class="number">0.6940</span> <span class="number">0.1250</span></span><br><span class="line"><span class="number">0.4940</span> <span class="number">0.1840</span> <span class="number">0.5560</span></span><br><span class="line"><span class="number">0.4660</span> <span class="number">0.6740</span> <span class="number">0.1880</span></span><br><span class="line"><span class="number">0.3010</span> <span class="number">0.7450</span> <span class="number">0.9330</span></span><br><span class="line"><span class="number">0.6350</span> <span class="number">0.0780</span> <span class="number">0.1840</span></span><br></pre></td></tr></table></figure>
<p>ex:定义包含4种颜色的ColorOrder属性，绘制6条曲线。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">x=[<span class="number">0</span>,<span class="number">0</span>];y=[<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">ha=axes;</span><br><span class="line">ha.ColorOrder=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>; <span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(x,y,x+<span class="number">0.5</span>,y,x+<span class="number">1</span>,y,x+<span class="number">1.5</span>,y,x+<span class="number">2</span>,y,x+<span class="number">2.5</span>,y);</span><br><span class="line">ha.XLim=[<span class="number">-0.2</span>,<span class="number">3</span>];</span><br><span class="line">ha.YLim=[<span class="number">-0.2</span>,<span class="number">1.2</span>];</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829220222.png" alt="image-20200829215647610"></p>
<h2 id="曲线与曲面对象"><a class="header-anchor" href="#曲线与曲面对象">¶</a>曲线与曲面对象</h2>
<ul>
<li>曲线对象</li>
<li>曲面对象</li>
<li>光照处理</li>
<li>图形对象的反射特性</li>
</ul>
<h3 id="曲线对象"><a class="header-anchor" href="#曲线对象">¶</a>曲线对象</h3>
<h4 id="建立曲线对象"><a class="header-anchor" href="#建立曲线对象">¶</a>建立曲线对象</h4>
<p>line函数的调用格式为：</p>
<p>句柄变量=line(x, y, z, 属性1, 属性值1, 属性2, 属性值2, …)</p>
<blockquote>
<p>其中，x、y、z存储数据点的坐标，与plot、plot3函数含义相同。</p>
</blockquote>
<h4 id="曲线对象常用属性"><a class="header-anchor" href="#曲线对象常用属性">¶</a>曲线对象常用属性</h4>
<ul>
<li>Color属性：定义曲线的颜色，默认值为[0 0 0]。</li>
<li>LineStyle属性：定义线型，默认值为’-’。</li>
<li>LineWidth属性：定义线宽，默认值为0.5磅。</li>
<li>Marker属性：定义数据点标记符号，默认值为’none’。</li>
<li>MarkerSize属性：定义数据点标记符号的大小，默认值为6磅。</li>
<li>XData、YData、ZData属性：用于设置3个坐标轴的数据源。</li>
</ul>
<p>ex:利用曲线对象绘制五环图案。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">t=<span class="number">-0.1</span> : <span class="number">0.1</span> : <span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">x=<span class="built_in">cos</span>(t); y=<span class="built_in">sin</span>(t);</span><br><span class="line">line(x,y,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">line(x+<span class="number">1.2</span>,y<span class="number">-1</span>,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">line(x+<span class="number">2.4</span>,y,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">line(x+<span class="number">3.6</span>,y<span class="number">-1</span>,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">line(x+<span class="number">4.8</span>,y,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">ha=gca;</span><br><span class="line"><span class="keyword">for</span> n=<span class="number">1</span>:<span class="built_in">size</span>(ha.Children)</span><br><span class="line">ha.Children(n).LineWidth=<span class="number">5</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ha.XLim=[<span class="number">-2</span>,<span class="number">7</span>];</span><br><span class="line">ha.YLim=[<span class="number">-3</span>,<span class="number">2</span>];</span><br><span class="line">axis equal</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829220217.png" alt="image-20200829215946706"></p>
<h3 id="曲面对象"><a class="header-anchor" href="#曲面对象">¶</a>曲面对象</h3>
<h4 id="建立曲面对象"><a class="header-anchor" href="#建立曲面对象">¶</a>建立曲面对象</h4>
<p>建立曲面对象使用surface函数，其调用格式为：</p>
<p>句柄变量=surface(x,y,z,c,属性1,属性值1,属性2,属性值2,…)</p>
<blockquote>
<p>其中，x、y、z存储数据点的坐标，与mesh、surf函数含义相同；c用 于指定在不同高度下的曲面颜色。</p>
</blockquote>
<p>surf函数每调用一次，就会刷新坐标轴，清空原有图形，再绘制新的 图形。而surface函数生成的曲面则在已有图形上叠加显示。</p>
<p>利用surface函数建立的曲面对象，默认视点在图形正上方，即方位角 为0°，仰角为90°。</p>
<h4 id="与曲面形态有关的属性："><a class="header-anchor" href="#与曲面形态有关的属性：">¶</a>与曲面形态有关的属性：</h4>
<ul>
<li>
<p>FaceColor属性：定义曲面网格片的颜色，可取值：</p>
<ul>
<li>‘flat’：每一个网格片用单一颜色填充。</li>
<li>‘interp’：用渐变方式填充网格片。</li>
<li>‘none’：网格片无颜色。</li>
<li>‘texturemap’：用Cdata属性定义的颜色填充网格片。</li>
<li>RGB向量或代表颜色的字符</li>
</ul>
</li>
<li>
<p>EdgeColor属性：定义曲面网格线的颜色。</p>
</li>
</ul>
<p>ex:利用曲面对象绘制立体圆环，圆环方程为:</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829220206.png" alt="image-20200829220205761"></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">r=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>);</span><br><span class="line">[u,v]=<span class="built_in">meshgrid</span>(r);</span><br><span class="line">x=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">cos</span>(u);</span><br><span class="line">y=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">sin</span>(u);</span><br><span class="line">z=<span class="number">3</span>*<span class="built_in">sin</span>(v);</span><br><span class="line">axes(<span class="string">&#x27;view&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>])</span><br><span class="line">hs=surface(x,y,z);</span><br><span class="line">axis equal;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829220340.png" alt="image-20200829220339527"></p>
<h3 id="光照处理"><a class="header-anchor" href="#光照处理">¶</a>光照处理</h3>
<h4 id="创建光源对象"><a class="header-anchor" href="#创建光源对象">¶</a>创建光源对象</h4>
<p>light函数的调用格式为：</p>
<p>对象句柄=light(属性1,属性值1,属性2,属性值2,…)</p>
<blockquote>
<p>其中，属性指定光源的特性。</p>
</blockquote>
<h4 id="光源对象的属性"><a class="header-anchor" href="#光源对象的属性">¶</a>光源对象的属性</h4>
<ul>
<li>Color属性:设置光的颜色。</li>
<li>Style属性:设置光源类型，其取值为’infinite’（默认值）或’local’.</li>
<li>Position属性:指定光源位置，值是一个3元向量。</li>
</ul>
<p>利用lighting命令可以设置光照模式，lighting命令格式为：</p>
<p>lighting 选项</p>
<blockquote>
<p>其中，选项可取值为</p>
<ul>
<li>flat:使得入射光均匀洒落在图形对象的每个面上（默认值）。</li>
<li>gouraud:先对顶点颜色插补，再对顶点勾画的面上颜色进行插补。</li>
<li>phong:对顶点处的法线插值，再计算各个像素的反光。</li>
<li>none:关闭所有光源。</li>
</ul>
</blockquote>
<p>ex:绘制光照处理后的圆环面并观察不同光照模式下的效果。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">r=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>); [u,v]=<span class="built_in">meshgrid</span>(r);</span><br><span class="line">x=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">cos</span>(u); y=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">sin</span>(u); z=<span class="number">3</span>*<span class="built_in">sin</span>(v);</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.05</span>,<span class="number">0.675</span>,<span class="number">1.0</span>,<span class="number">0.3</span>], <span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs1=surface(x,y,z); axis equal;</span><br><span class="line">hs1.EdgeColor=<span class="string">&#x27;none&#x27;</span>; hs1.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.05</span>,<span class="number">0.35</span>,<span class="number">1.0</span>,<span class="number">0.3</span>], <span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs2=surface(x,y,z); axis equal;</span><br><span class="line">hs2.EdgeColor=<span class="string">&#x27;none&#x27;</span>; hs2.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">light(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>])</span><br><span class="line">lighting flat</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.05</span>,<span class="number">0.025</span>,<span class="number">1.0</span>,<span class="number">0.3</span>], <span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs3=surface(x,y,z); axis equal;</span><br><span class="line">hs3.EdgeColor=<span class="string">&#x27;none&#x27;</span>; hs3.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">light(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>])</span><br><span class="line">lighting phong</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829220748.png" alt="image-20200829220746419"></p>
<h3 id="图形对象的反射特性"><a class="header-anchor" href="#图形对象的反射特性">¶</a>图形对象的反射特性</h3>
<ul>
<li>SpecularStrength属性：控制对象表面镜面反射的强度，属性值取 0~1之间的数，默认为0.9。</li>
<li>DiffuseStrength 属性：控制对象表面漫反射的强度，属性值取0~1 之间的数，默认为0.6。</li>
<li>AmbientStrength属性：确定环境光的强度，属性值取0~1之间的数 ，默认为0.3。  SpecularExponent属性：控制镜面反射指数，值大于等于1，大多设 置在[5 20]之间，默认为10。</li>
<li>BackFaceLighting属性：控制对象内表面和外表面的差别，取值为
<ul>
<li>‘unlit’</li>
<li>‘lit’</li>
<li>‘reverselit’（默认值）</li>
</ul>
</li>
</ul>
<p>ex:绘制具有不同反射特性的圆环面并观察反射特性对图形效果的影响。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">r=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>); [u,v]=<span class="built_in">meshgrid</span>(r);</span><br><span class="line">x=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">cos</span>(u); y=(<span class="number">8</span>+<span class="number">3</span>*<span class="built_in">cos</span>(v)).*<span class="built_in">sin</span>(u); z=<span class="number">3</span>*<span class="built_in">sin</span>(v);</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0.05</span>,<span class="number">0.675</span>,<span class="number">1.0</span>,<span class="number">0.3</span>],<span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs1=surface(x,y,z);axis equal;</span><br><span class="line">hs1.EdgeColor=<span class="string">&#x27;none&#x27;</span>;hs1.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">light(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>]) ;lighting phong</span><br><span class="line">hs1.SpecularStrength=<span class="number">0.1</span>;</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>, [<span class="number">0.05</span>,<span class="number">0.35</span>,<span class="number">1.0</span>,<span class="number">0.3</span>],<span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs2=surface(x,y,z);axis equal;</span><br><span class="line">hs2.EdgeColor=<span class="string">&#x27;none&#x27;</span>;hs2.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">light(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>]) ;lighting phong</span><br><span class="line">hs2.SpecularStrength=<span class="number">0.5</span>;</span><br><span class="line">axes(<span class="string">&#x27;Position&#x27;</span>, [<span class="number">0.05</span>,<span class="number">0.025</span>,<span class="number">1.0</span>,<span class="number">0.3</span>],<span class="string">&#x27;View&#x27;</span>,[<span class="number">-37.5</span>,<span class="number">30</span>]);</span><br><span class="line">hs3=surface(x,y,z);axis equal;</span><br><span class="line">hs3.EdgeColor=<span class="string">&#x27;none&#x27;</span>;hs3.FaceColor=<span class="string">&#x27;interp&#x27;</span>;</span><br><span class="line">light(<span class="string">&#x27;Position&#x27;</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>]) ;lighting phong ;</span><br><span class="line">hs3.SpecularStrength=<span class="number">1.0</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829222132.png" alt="image-20200829220934946"></p>
<h2 id="图形用户界面设计方法"><a class="header-anchor" href="#图形用户界面设计方法">¶</a>图形用户界面设计方法</h2>
<ul>
<li>图形用户界面的组成</li>
<li>控件对象及其操作</li>
<li>菜单对象及其操作</li>
</ul>
<h3 id="图形用户界面的组成"><a class="header-anchor" href="#图形用户界面的组成">¶</a>图形用户界面的组成</h3>
<ul>
<li>图形用户界面（Graphical User Interface，GUI）：用户与计算 机进行信息交流的窗口。</li>
<li>设计图形用户界面的方法
<ul>
<li>调用建立用户界面控件的函数</li>
<li>使用MATLAB提供的GUIDE工具进行可视化设计</li>
</ul>
</li>
</ul>
<h3 id="控件对象及其操作"><a class="header-anchor" href="#控件对象及其操作">¶</a>控件对象及其操作</h3>
<h4 id="常用控件"><a class="header-anchor" href="#常用控件">¶</a>常用控件</h4>
<ul>
<li>输入和输出类控件：编辑框、静态文本、列表框、滑动条等。</li>
<li>实施确认、选择操作类控件：按钮、双位按钮、单选按钮、复选框等。</li>
</ul>
<h4 id="建立控件对象"><a class="header-anchor" href="#建立控件对象">¶</a>建立控件对象</h4>
<p>函数uicontrol用于建立控件对象，其调用格式为：</p>
<p>句柄变量=uicontrol(图形窗口句柄,属性1,属性值1,属性2,属性值2,…)</p>
<blockquote>
<p>其中，属性及其取值决定了控件的特征。若省略图形窗口句柄，默认 在当前图形窗口建立控件对象。</p>
</blockquote>
<h4 id="控件对象的基本控制属性"><a class="header-anchor" href="#控件对象的基本控制属性">¶</a>控件对象的基本控制属性</h4>
<ul>
<li>Style属性：定义控件对象的类型，例如‘pushbutton’表示按钮对 象，'edit’表示编辑框，等等。</li>
<li>String属性：定义控件对象的说明文字。</li>
<li>Tag属性：标识控件对象。</li>
<li>Enable属性：控制控件对象是否可用。</li>
<li>Position属性：定义控件对象的位置，其取值形式为[x，y，w，h]。</li>
<li>Callback属性：其属性值是描述命令的字符串或函数句柄，当选中控 件时，系统将自动执行字符串描述的命令或调用句柄所代表的函数， 实施相关操作。</li>
</ul>
<p>ex1:在图形窗口中建立三个按钮对象，当单击按钮时分别绘制正弦曲 线、显示或隐藏坐标轴的网格、清除坐标轴的图形。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">ha= axes(<span class="string">&#x27;Units&#x27;</span>,<span class="string">&#x27;pixels&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">40</span>,<span class="number">40</span>,<span class="number">360</span>,<span class="number">360</span>]);</span><br><span class="line">ptgrid=uicontrol(<span class="string">&#x27;Style&#x27;</span>,<span class="string">&#x27;pushbutton&#x27;</span>,<span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;网格&#x27;</span>, <span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">120</span>,<span class="number">48</span>,<span class="number">20</span>],<span class="string">&#x27;Callback&#x27;</span>,<span class="string">&#x27;grid&#x27;</span> );</span><br><span class="line">btncla = uicontrol(<span class="string">&#x27;Style&#x27;</span>, <span class="string">&#x27;pushbutton&#x27;</span>,<span class="string">&#x27;String&#x27;</span>, <span class="string">&#x27;清除&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">80</span>,<span class="number">48</span>,<span class="number">20</span>],<span class="string">&#x27;Callback&#x27;</span>,<span class="string">&#x27;cla&#x27;</span> );</span><br><span class="line">btnplot = uicontrol(<span class="string">&#x27;Style&#x27;</span>, <span class="string">&#x27;pushbutton&#x27;</span>,<span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;绘图&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">160</span>,<span class="number">48</span>,<span class="number">20</span>]);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829222125.png" alt="image-20200829221851937"></p>
<p>回调函数定义对象怎样处理信息并响应某事件。回调函数的定义格式：</p>
<p>function 函数名(source, eventdata)</p>
<p>……</p>
<p>end</p>
<blockquote>
<p>其中，参数source是发生事件的源控件对象句柄，eventdata存储事件 数据。</p>
</blockquote>
<p>ex2:将上例的“绘图”按钮要实现的功能定义为回调函数plot_sin。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">plot_sin</span><span class="params">(source, callbackdata)</span></span></span><br><span class="line">t=-<span class="built_in">pi</span>:<span class="built_in">pi</span>/<span class="number">20</span>:<span class="built_in">pi</span>;</span><br><span class="line"><span class="built_in">plot</span>(t,<span class="built_in">sin</span>(t));</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">ha= axes(<span class="string">&#x27;Units&#x27;</span>,<span class="string">&#x27;pixels&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>,[<span class="number">40</span>,<span class="number">40</span>,<span class="number">360</span>,<span class="number">360</span>]);</span><br><span class="line">ptgrid=uicontrol(<span class="string">&#x27;Style&#x27;</span>,<span class="string">&#x27;pushbutton&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;网格&#x27;</span>, <span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">120</span>,<span class="number">48</span>,<span class="number">20</span>],...</span><br><span class="line"><span class="string">&#x27;Callback&#x27;</span>,<span class="string">&#x27;grid&#x27;</span> );</span><br><span class="line">btncla = uicontrol(<span class="string">&#x27;Style&#x27;</span>, <span class="string">&#x27;pushbutton&#x27;</span>, ...</span><br><span class="line"><span class="string">&#x27;String&#x27;</span>, <span class="string">&#x27;清除&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">80</span>,<span class="number">48</span>,<span class="number">20</span>],...</span><br><span class="line"><span class="string">&#x27;Callback&#x27;</span>,<span class="string">&#x27;cla&#x27;</span> );</span><br><span class="line">btnplot = uicontrol(<span class="string">&#x27;Style&#x27;</span>, <span class="string">&#x27;pushbutton&#x27;</span>, ...</span><br><span class="line"><span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;绘图&#x27;</span>,<span class="string">&#x27;Position&#x27;</span>, [<span class="number">450</span>,<span class="number">160</span>,<span class="number">48</span>,<span class="number">20</span>]);</span><br><span class="line"><span class="comment">%设置“绘图”按钮的Callback属性值是plot_sin函数句柄。</span></span><br><span class="line">btnplot.Callback=@plot_sin;</span><br></pre></td></tr></table></figure>
<h3 id="菜单对象"><a class="header-anchor" href="#菜单对象">¶</a>菜单对象</h3>
<h4 id="建立菜单对象"><a class="header-anchor" href="#建立菜单对象">¶</a>建立菜单对象</h4>
<p>uimenu函数用于创建、设置、修改菜单。</p>
<ul>
<li>建立一级菜单项的函数调用格式为：</li>
</ul>
<p>一级菜单项句柄=uimenu(图形窗口句柄,属性,属性值1,属性2,属性值2,…)</p>
<ul>
<li>建立子菜单项的函数调用格式为：</li>
</ul>
<p>子菜单项句柄=uimenu(上级菜单项句柄,属性1,属性值1,属性2,属性值2,…)</p>
<h4 id="菜单属性"><a class="header-anchor" href="#菜单属性">¶</a>菜单属性</h4>
<ul>
<li>Label属性：定义菜单项的名字。</li>
<li>Accelerator属性：定义菜单项的快捷键。</li>
<li>Checked属性：指示菜单项是否已选中。E</li>
<li>nable属性：控制菜单项的可选择性。</li>
<li>Separator属性：在菜单项上方添加一条分隔线。</li>
</ul>
<p>ex3:在ex1的界面中添加“图形选项”菜单项，其中包括一个二级菜 单项“线型”，其下又有3个子菜单项，分别为“实线”、“虚线”、 “双划线”。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">hopt=uimenu(gcf,<span class="string">&#x27;Label&#x27;</span>,<span class="string">&#x27;图形选项&#x27;</span>,<span class="string">&#x27;Accelerator&#x27;</span>,<span class="string">&#x27;L&#x27;</span>);</span><br><span class="line">hLStyle=uimenu(hopt,<span class="string">&#x27;Label&#x27;</span>,<span class="string">&#x27;线型&#x27;</span>,<span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;LStyle&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Enable&#x27;</span>,<span class="string">&#x27;off&#x27;</span>);</span><br><span class="line">hL_Solid=uimenu(hLStyle,<span class="string">&#x27;Label&#x27;</span>,<span class="string">&#x27;实线&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;Solid&#x27;</span>,<span class="string">&#x27;Callback&#x27;</span>, @MLine_Type);</span><br><span class="line">hL_Dotted=uimenu(hLStyle,<span class="string">&#x27;Label&#x27;</span>,<span class="string">&#x27;虚线&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;Dotted&#x27;</span>,<span class="string">&#x27;Callback&#x27;</span>, @MLine_Type);</span><br><span class="line">hL_Dashed=uimenu(hLStyle,<span class="string">&#x27;Label&#x27;</span>,<span class="string">&#x27;双划线&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;Dashed&#x27;</span>,<span class="string">&#x27;Callback&#x27;</span>, @MLine_Type);</span><br></pre></td></tr></table></figure>
<p>新建函数文件MLine_Type.m，内容如下：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MLine_Type</span><span class="params">(source,callbackdata)</span></span></span><br><span class="line">hline=findobj(<span class="string">&#x27;Type&#x27;</span>,<span class="string">&#x27;line&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> strcmp(source.Tag,<span class="string">&#x27;Solid&#x27;</span> )==<span class="number">1</span></span><br><span class="line">hline.LineStyle=<span class="string">&#x27;-&#x27;</span>;</span><br><span class="line"><span class="keyword">elseif</span> strcmp(source.Tag,<span class="string">&#x27;Dotted&#x27;</span> )==<span class="number">1</span></span><br><span class="line">hline.LineStyle=<span class="string">&#x27;:&#x27;</span>;</span><br><span class="line"><span class="keyword">elseif</span> strcmp(source.Tag,<span class="string">&#x27;Dashed&#x27;</span> )==<span class="number">1</span></span><br><span class="line">hline.LineStyle=<span class="string">&#x27;--&#x27;</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>修改函数文件plot_sin.m，内容如下：</p>
<div class="note default flat"><p>在运行时报错，source, callbackdata，未使用参数，换成了~</p>
</div>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">plot_sin</span><span class="params">(~, ~)</span></span></span><br><span class="line">t=-<span class="built_in">pi</span>:<span class="built_in">pi</span>/<span class="number">20</span>:<span class="built_in">pi</span>;</span><br><span class="line"><span class="built_in">plot</span>(t,<span class="built_in">sin</span>(t));</span><br><span class="line">h1=findobj(<span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;LStyle&#x27;</span>);</span><br><span class="line">h1.Enable=<span class="string">&#x27;On&#x27;</span>; <span class="comment">%使得 “线型”菜单项可用</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>程序的运行结果。 首先运行ex1的程序生成图形界面，再 运行ex2程序，在界面中添加“图形选 项”菜单项，这时“线型”菜单项不 可用，单击“绘图”按钮绘制正弦函 数曲线后“线型”菜单项变为可用， 这时可以改变线型，例如双划线，这时界面如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829223223.png" alt="image-20200829223222692"></p>
<h2 id="用户界面设计工具"><a class="header-anchor" href="#用户界面设计工具">¶</a>用户界面设计工具</h2>
<ul>
<li>图形界面设计窗口</li>
<li>图形用户界面设计工具</li>
<li>定义回调函数</li>
</ul>
<h3 id="图形用户界面设计窗口"><a class="header-anchor" href="#图形用户界面设计窗口">¶</a>图形用户界面设计窗口</h3>
<h4 id="打开GUIDE"><a class="header-anchor" href="#打开GUIDE">¶</a>打开GUIDE</h4>
<ul>
<li>在MATLAB命令行窗口输入guide命令。</li>
<li>在MATLAB主窗口中选择“主页”选项卡，单击工具栏的“新建”命令按钮，再选择“应用程序”下的GUIDE命令。</li>
</ul>
<h4 id="图形用户界面设计模板"><a class="header-anchor" href="#图形用户界面设计模板">¶</a>图形用户界面设计模板</h4>
<ul>
<li>Blank GUI (Default)</li>
<li>GUI with Uicontrols</li>
<li>GUI with Axes and Menu</li>
<li>Modal Question Dialog</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829224022.png" alt="image-20200829224020745"></p>
<h4 id="图形用户界面设计窗口-v2"><a class="header-anchor" href="#图形用户界面设计窗口-v2">¶</a>图形用户界面设计窗口</h4>
<p>图形用户界面设计窗口由菜单栏、 工具栏、组件选项板、界面设计区、状 态栏等部分组成。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829224239.png" alt="image-20200829224237966"></p>
<p>ex:建立一个图形用户界面，该界面包括1个坐标轴，3个静态文本，3 个可编辑文本，2个按钮。还有1个按钮组，里面有两个单选按钮。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829224645.png" alt="image-20200829224644316"></p>
<h3 id="图形用户界面设计工具"><a class="header-anchor" href="#图形用户界面设计工具">¶</a>图形用户界面设计工具</h3>
<ul>
<li>对齐对象工具</li>
<li>菜单编辑器</li>
<li>Tab键顺序编辑器</li>
<li>工具栏编辑器</li>
<li>代码编辑器</li>
<li>对象属性检查器</li>
<li>对象浏览器</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829225044.png" alt="image-20200829224931549"></p>
<h4 id="对象属性检查器"><a class="header-anchor" href="#对象属性检查器">¶</a>对象属性检查器</h4>
<p>对象属性检查器是用于检查/修改对象属性的工具。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829225034.png" alt="image-20200829225033302"></p>
<p>ex2:利用属性检查器设置ex1界面对象上显示的文字和对象标识。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829225513.png" alt="image-20200829225512519"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829225854.png" alt="image-20200829225853500"></p>
<ul>
<li>设置控件的String属性</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829230320.png" alt="image-20200829230319345"></p>
<ul>
<li>设置控件的Tag 属性</li>
<li>设置按钮组的Title 属性</li>
</ul>
<h4 id="菜单编辑器"><a class="header-anchor" href="#菜单编辑器">¶</a>菜单编辑器</h4>
<ul>
<li>
<p>菜单编辑器构成</p>
<ul>
<li>工具栏</li>
<li>菜单列表</li>
<li>菜单属性面板</li>
</ul>
</li>
<li>
<p>图形窗口的MenuBar属性</p>
<ul>
<li>figure</li>
<li>none</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829231354.png" alt="image-20200829231353261"></p>
<p>ex3:在ex2的菜单栏添加一个一级菜单项“绘图选项” ，而且这个菜 单只有在画有曲线时才是可用的。其下有6项，前3项定义线型，后3项 定义曲线颜色。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829235227.png" alt="image-20200829235226564"></p>
<div class='tip error'><p>注意：出现错误，未解决<p></div>
<ul>
<li>添加自定义菜单
<ul>
<li>新建菜单</li>
<li>新建菜单项</li>
<li>设置菜单项属性</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829235454.png" alt="image-20200829235453021"></p>
<h4 id="对象浏览器"><a class="header-anchor" href="#对象浏览器">¶</a>对象浏览器</h4>
<p>对象浏览器用于查看图形对象和展示界面的组织架构。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829235947.png" alt="image-20200829235543324"></p>
<h3 id="回调属性与回调函数"><a class="header-anchor" href="#回调属性与回调函数">¶</a>回调属性与回调函数</h3>
<h4 id="回调属性"><a class="header-anchor" href="#回调属性">¶</a>回调属性</h4>
<ul>
<li>Callback属性：按钮类控件和菜单项的单击事件的默认回调属性。</li>
<li>CreateFcn属性：定义创建图形对象的响应。</li>
<li>DeleteFcn属性：定义取消图形对象的响应。</li>
<li>ButtonDownFcn属性：定义单击鼠标键按下的响应。</li>
<li>KeyPressFcn属性：定义键盘键按下的响应。</li>
<li>SelectionChangeFcn属性：定义改变选项的响应。</li>
</ul>
<h4 id="回调函数框架"><a class="header-anchor" href="#回调函数框架">¶</a>回调函数框架</h4>
<p>function 对象标识_Callback(hObject, eventdata, handles)</p>
<blockquote>
<p>其中，hObject为发生事件的源控件，eventdata为事件数据，handles保 存图形界面中所有对象的句柄。</p>
</blockquote>
<h4 id="回调函数举例"><a class="header-anchor" href="#回调函数举例">¶</a>回调函数举例</h4>
<ul>
<li>“绘图”按钮的Callback函数</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pushbutton1_Callback</span><span class="params">(hObject, eventdata, handles)</span></span></span><br><span class="line">A=eval(handles.editfz.String);</span><br><span class="line">f=eval(handles.editpl.String)/<span class="number">50</span>;</span><br><span class="line">theta=eval(handles.editxj.String)/<span class="number">180</span>*<span class="built_in">pi</span>;</span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>);</span><br><span class="line"><span class="keyword">if</span> handles.OpSin.Value==<span class="number">1</span></span><br><span class="line">y=A*<span class="built_in">sin</span>(f*x+theta);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">y=A*<span class="built_in">cos</span>(f*x+theta);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">handles.PStyle.Enable=<span class="string">&#x27;On&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200829235947.png" alt="image-20200829235812870"></p>
<ul>
<li>“实线”菜单项的回调函数</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Solid_Callback</span><span class="params">(hObject, eventdata, handles)</span></span></span><br><span class="line">hline=findobj(<span class="string">&#x27;Type&#x27;</span>,<span class="string">&#x27;line&#x27;</span>);</span><br><span class="line">hline.LineStyle=<span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">handles.Solid.Checked=<span class="string">&#x27;On&#x27;</span>;</span><br><span class="line">handles.Dotted.Checked=<span class="string">&#x27;Off&#x27;</span>;</span><br><span class="line">handles.Dashed.Checked=<span class="string">&#x27;Off&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>“红”菜单项的回调函数</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">r_Callback</span><span class="params">(hObject, eventdata, handles)</span></span></span><br><span class="line">hline=findobj(<span class="string">&#x27;Type&#x27;</span>,<span class="string">&#x27;line&#x27;</span>);</span><br><span class="line">hline.Color=<span class="string">&#x27;r&#x27;</span>;</span><br><span class="line">handles.r.Checked=<span class="string">&#x27;On&#x27;</span>;</span><br><span class="line">handles.g.Checked=<span class="string">&#x27;Off&#x27;</span>;</span><br><span class="line">handles.b.Checked=<span class="string">&#x27;Off&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="运行图形用户界面的方法"><a class="header-anchor" href="#运行图形用户界面的方法">¶</a>运行图形用户界面的方法</h4>
<ul>
<li>在GUIDE窗口中单击工具栏上的“运行图形”命令按钮。</li>
<li>在GUIDE窗口中选择“工具”菜单中的“运行”命令。</li>
</ul>
<h1>Simulink系统仿真</h1>
<h2 id="Simulink仿真基础"><a class="header-anchor" href="#Simulink仿真基础">¶</a>Simulink仿真基础</h2>
<ul>
<li>Simulink的启动</li>
<li>系统仿真模型的创建</li>
<li>仿真参数的设置</li>
</ul>
<h3 id="Simulink的启动"><a class="header-anchor" href="#Simulink的启动">¶</a>Simulink的启动</h3>
<ul>
<li>在MATLAB主窗口选择“主页”选项卡，再单击“文件”命令组中的“新建”命令按钮，然后从下拉菜单中选择“Simulink Model”命令。</li>
<li>在MATLAB主窗口选择“主页”选项卡，再单击“SIMULINK”命令组中的 “Simulink”命令按钮。</li>
<li>在MATLAB的命令行窗口输入simulink命令。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830105132.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830104938.png" alt=""></p>
<ul>
<li>利用File→New命令，可以建立新的仿真模型；利用File→Open命令，可以打 开已经建立好的模型文件。</li>
<li>单击“Library Browser”按钮，将打开Simulink模块库浏览器窗口，此时， 可以通过鼠标将模块库中的模块拖动到模型编辑窗口，再将各个模块连接起来， 就构成了仿真模型。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830105425.png" alt=""></p>
<h3 id="系统仿真模型的创建"><a class="header-anchor" href="#系统仿真模型的创建">¶</a>系统仿真模型的创建</h3>
<h4 id="Simulink-Library-Browser窗口"><a class="header-anchor" href="#Simulink-Library-Browser窗口">¶</a>Simulink Library Browser窗口</h4>
<p>“Simulink模块库浏览器”窗口 包含两个窗格，左侧的窗格以树 状列表的形式列出了所有模块库。 单击某个模块库，即在右侧窗格 中列出该模块库的子模块库；再 双击其中的子模块库图标，即列 出该子模块库的所有模块。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830105739.png" alt=""></p>
<p>Simulink的模块库大体分为两类，一类是基本模块库,即Simulink 模块库，另一类是专业模块库,种类很多。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830105912.png" alt=""></p>
<p>如果双击连续系统子模块库图标，模块库浏览器窗口左侧展开了 Simulink基本模块库的全部子模块库，并且目前选中连续系统子模块库， 右侧显示了连续系统子模块库的各个模块，可供连续系统建模使用。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830110000.png" alt=""></p>
<h4 id="Simulink模块的操作"><a class="header-anchor" href="#Simulink模块的操作">¶</a>Simulink模块的操作</h4>
<ul>
<li><font color="red">模块的添加：</font>首先要在Simulink模块库浏览器窗口中找到该模块， 然后用鼠标将这个模块拖曳到模型编辑窗口中即可。</li>
<li><font color="red">模块的删除或复制：</font>需要先选定模块，再按删除键；或在模型编 辑窗口选择Edit菜单项中的Cut、Copy、Paste等剪贴板操作命令。</li>
<li><font color="red">两个模块的连接：</font>先将鼠标指针移动到一个模块的输出端，当鼠标 指针变成十字形光标时按住鼠标左键，移动鼠标指针到另一个模块 的输入端，当连接线由虚线变成实线时，释放鼠标左键就完成了两 个模块的连接。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830110548.png" alt=""></p>
<ul>
<li><font color='red'>连线的分支：</font>在先连好一条线之后，把鼠标指针移到分支点的 位置，先按下Ctrl键，然后按住鼠标拖曳到目标模块的输入端， 释放鼠标和Ctrl键。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830110502.png" alt=""></p>
<h4 id="模型存盘"><a class="header-anchor" href="#模型存盘">¶</a>模型存盘</h4>
<ul>
<li>在Simulink模型编辑窗口选择File→Save命令或Save as命令。</li>
<li>单击模型编辑窗口工具栏中的Save命令按钮。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830111023.png" alt=""></p>
<h4 id="模块参数的设置"><a class="header-anchor" href="#模块参数的设置">¶</a>模块参数的设置</h4>
<ul>
<li>双击要设置的模块。</li>
<li>选择要设置的模块，再选择Diagram→Block Parameters命令。</li>
<li>右击要设置的模块，从快捷菜单中选择Block Parameters命令。</li>
</ul>
<p>模块参数设置对话框分为两部分， 上面一部分是模块功能说明，下面 一部分用来进行模块参数设置。例 如，正弦波模块参数对话框，用户 可以设置它的幅值、偏移量、频率、 相位、采样时间等参数。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830111012.png" alt=""></p>
<h3 id="仿真参数的设置"><a class="header-anchor" href="#仿真参数的设置">¶</a>仿真参数的设置</h3>
<ul>
<li>选择Simulation→Model Configuration Paramerers命令。</li>
<li>二单击工具栏中的Model Configuration Paramerers命令按钮。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830111236.png" alt=""></p>
<p>在仿真参数设置对话框中，仿真参数分为7类，Solver参数用于设置仿 真起始和终止时间，选择微分方程求解算法并为其规定参数，以及选择某些输出选项。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830111940.png" alt=""></p>
<p>仿真算法的选择首先设定算法类别：固定步长或变步长算法，再选择具体算法。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830112116.png" alt="(a)固定步长"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830112237.png" alt="(b)变步长"></p>
<p>设置完仿真参数之后，单击模型编辑窗口工具栏中的Run按钮，或选择 Simulation菜单项中的Run命令，便可启动对当前模型的仿真。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830162723.png" alt=""></p>
<p>利用Simulink仿真，分别显示曲线y=sint和y=cost，同时显示sint对 cost的变化曲线。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830164041.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830170647.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830170702.png" alt=""></p>
<div class='tip success'><p>注意：scope默认是一个接口，可以在双击之后，左上角设置Number of input ports为2
实现cosx可以相位延时pi/2。模块属性中直接设置，将Phase（rad）设置为-pi/2即可。    
    <p></div>
<p>Simulink系统仿真的步骤：</p>
<ul>
<li>建立系统仿真模型</li>
<li>设置仿真参数</li>
<li>启动仿真并分析仿真结果</li>
</ul>
<h2 id="子系统的创建与封装"><a class="header-anchor" href="#子系统的创建与封装">¶</a>子系统的创建与封装</h2>
<ul>
<li>子系统的创建</li>
<li>子系统的封装</li>
<li>子系统的条件执行</li>
</ul>
<h3 id="子系统的创建"><a class="header-anchor" href="#子系统的创建">¶</a>子系统的创建</h3>
<ul>
<li>通过Subsystem模块建立子系统</li>
<li>将已有的模块转换为子系统</li>
</ul>
<p>两者的区别是：前者先建立子系统，再为其添加功能模块；后者先 选择模块，再建立子系统。</p>
<p>下面以创建y=kx+b子系统为例，说明具体操作。</p>
<h4 id="通过Subsystem模块建立子系统"><a class="header-anchor" href="#通过Subsystem模块建立子系统">¶</a>通过Subsystem模块建立子系统</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830172151.png" alt=""></p>
<p>双击子系统模块打开子系统编辑窗口，窗口中已经自动添加了相互连接 的一个输入模块和输出模块，表示子系统的输入端口和输出端口。将要组合的模块插入到输入模块和输出模块中间，这里需要k和b两个常数模块，一个乘法模块和一个加法模块，将这些模块重新连接起来，一个子 系统就建好了。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830172140.png" alt=""></p>
<p>启动仿真后查看示波器的曲线，其中蓝色曲线是正弦曲线，黄色曲线 是经过y=kx+b变换之后的曲线，这里在MATLAB命令行窗口事先给k赋3， b赋2，即黄色曲线代表y=3sint+2。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830172938.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830172959.png" alt=""></p>
<h4 id="通过已有的模块建立子系统"><a class="header-anchor" href="#通过已有的模块建立子系统">¶</a>通过已有的模块建立子系统</h4>
<p>建立的系统模型如图所示，选中系统模型中的所有模块，在模型编辑窗 口选择Diagram菜单项中的相关命令（Diagram →Subsystem &amp; Model Reference→Create Subsystem from Selection命令），或按Ctrl+G组 合键建立子系统，所选模块将被一个子系统模块取代，如果想要查看子 系统的内部结构又可以双击子系统模块。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830173259.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830173322.png" alt=""></p>
<h3 id="子系统的封装"><a class="header-anchor" href="#子系统的封装">¶</a>子系统的封装</h3>
<p>先选中所要封装的子系统，再在模型编辑窗口选择Diagram菜单项中的 Create Mask命令，或按Ctrl+M组合键，这时将出现封装编辑器（Mask Editor）对话框。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830173723.png" alt=""></p>
<ul>
<li>第一个选项卡用于设置被封装模块的图标。</li>
<li>第二个选项卡用来设置子系统参数设置对话框。</li>
<li>第三个选项卡用于设置初始化命令。</li>
<li>第四个选项卡用于定义封装模 块的类型、描述和帮助文本。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830173934.png" alt=""></p>
<p>第二个选项卡由3部分组成：左侧为控件工具箱（Controls），中间 区域显示对话框中的控件，右侧区域用于显示和修改控件的属性。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830174050.png" alt=""></p>
<p>下面以y=kx+b子系统为例，说明子系统参数设置对话框的设置方法。 在第二个选项卡的左侧控件工具箱中，连续2次单击Edit按钮，为子系统的2个变量准备输入位置。在中间区域分别输入该控件的提示信息和控件名，最后单击OK按钮确认设置。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830175026.png" alt="">子系统参数设置对话框设置完成后，双击子系统图标将出现其参数对话 框。例如，双击仿真模型中的y=kx+b子系统图标，则弹出如图所示的参 数对话框，允许用户输入参数k和b的值。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830175020.png" alt=""></p>
<p>受控制信号控制的子系统称为条件执行子系统。在条件执行子系统 中，输出信号取决于输入信号和控制信号。</p>
<p>条件执行子系统：</p>
<ul>
<li>使能子系统</li>
<li>触发子系统</li>
<li>使能加触发子系统</li>
</ul>
<h3 id="子系统的条件执行"><a class="header-anchor" href="#子系统的条件执行">¶</a>子系统的条件执行</h3>
<h4 id="使能子系统"><a class="header-anchor" href="#使能子系统">¶</a>使能子系统</h4>
<p>使能子系统表示控制信号由负变正时子系统开始执行，直到控制信号 再次变为负时结束。控制信号可以是标量也可以是向量。如果控制信 号是标量，则当标量的值大于0时子系统开始执行。如果控制信号是 向量，则向量中任何一个元素大于0，子系统将执行。</p>
<p>使能子系统外观上有一个“使能”控制信号输入端口。“使能”是指当 且仅当“使能”输入信号为正时，该模块才接收输入端的信号。可直接 选择使能子系统模块来建立使能子系统，双击使能子系统模块，打开其 内部结构窗口。</p>
<p>也可以展开已有子系统，添加端口与子系统（Ports &amp; Subsystems）模块库中的使能（Enable）模块，将该子系统转换为使能子系统。</p>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830175739.png" alt=""></p>
          </div>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830175733.png" alt=""></p>
          </div>
<p>ex:利用使能子系统构成一个正弦半波整流器。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830175723.png" alt=""></p>
<p>新建一个仿真模型，将正弦波（Sine Wave）、使能子系统（Enabled Subsystem）和示波器（Scope）三个模块拖至新打开的模型编辑窗口，连接各 模块、设置参数并存盘，创建一个使能子系统。其中使能信号端接正弦模块。 在示波器窗口设置输入端口数（Number of input ports）为2，并设置输出布 局（Layout）。</p>
<p>在模型编辑窗口单击工具栏的Run命令按钮，就可看到半波整流波形和正弦波形。这里正弦信号当控制信号，当控制信号为负值时子系统停止执行， 输出是零。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830180219.png" alt=""></p>
<h4 id="触发子系统"><a class="header-anchor" href="#触发子系统">¶</a>触发子系统</h4>
<p>触发子系统是指当触发事件发生时开始执行子系统。</p>
<p>与使能子系统相类似，触发子系统的建立可直接选择Triggered Subsystem模块，或者展开已有子系统，添加Ports &amp; Subsystems模块 库中的Trigger模块，将该子系统转换为触发子系统。</p>
<ul>
<li>rising（上跳沿触发）：控制信号从负值或0上升到正值时子系统开始执行。</li>
<li>falling（下跳沿触发）：控制信号从正值或0下降到负值时子系统开始执行。</li>
<li>either（上跳沿或下跳沿触发）：当控制信号满足上跳沿或下跳沿触发条 件时，子系统开始执行。</li>
<li>function-call（函数调用触发）：这种触发方式必须与S函数配合使用。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830180208.png" alt=""></p>
<p>ex:利用触发子系统将一锯齿波转换成方波。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830182316.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830182330.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830182401.png" alt=""></p>
<div class='tip error'><p>error:没出现，方波太长<p></div>
<h4 id="使能加触发子系统"><a class="header-anchor" href="#使能加触发子系统">¶</a>使能加触发子系统</h4>
<p>所谓使能加触发子系统就是当使能控制信号和触发控制信号共 同作用时执行子系统。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830183411.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830183441.png" alt=""></p>
<h2 id="S函数的设计与应用"><a class="header-anchor" href="#S函数的设计与应用">¶</a>S函数的设计与应用</h2>
<ul>
<li>什么叫S函数</li>
<li>用M文件编写S函数的方法</li>
<li>在仿真模型中使用S函数的方法</li>
</ul>
<h3 id="什么叫S函数"><a class="header-anchor" href="#什么叫S函数">¶</a>什么叫S函数</h3>
<ul>
<li>S函数是系统函数(System Function)的简称,是指采用一种程序设 计语言描述的一个功能模块。</li>
<li>用户可以采用MATLAB语言，也可以采用C、C++或FORTRAN等语言来编写S函数。</li>
<li>S函数有自己特定的语法构成规则,可以用来描述并实现连续系统、 离散系统以及复合系统。</li>
<li>S函数能够接收来自Simulink求解算法的相关信息,并对求解算法发出的命令做出适当的响应,这种交互作用类似于Simulink系统模块与求解算法的相互作用。</li>
</ul>
<h3 id="用MATLAB语言编写S函数"><a class="header-anchor" href="#用MATLAB语言编写S函数">¶</a>用MATLAB语言编写S函数</h3>
<p>在MATLAB命令行窗口输入命令，打开模板文件。</p>
<p><font color='purple'>&gt;&gt; edit sfuntmpl.m</font></p>
<p>模板文件sfuntmpl.m包括：</p>
<ul>
<li>1个主函数</li>
<li>6个子函数</li>
</ul>
<h4 id="主函数"><a class="header-anchor" href="#主函数">¶</a>主函数</h4>
<p>主函数的引导语句为：</p>
<p><font color='purple'>function [sys,x0,str,ts]=fname(t,x,u,flag)</font></p>
<ul>
<li>fname是S函数的函数名。</li>
<li>输入形参t、x、u、flag分别为仿真时间、状态向量、输入向量 和子函数调用标志。</li>
<li>输出形参sys代表一种返回参数；x0是初始状态值；对于M文件S 函数，str将被置成一个空阵；ts是一个两列矩阵。</li>
</ul>
<h4 id="子函数"><a class="header-anchor" href="#子函数">¶</a>子函数</h4>
<p>S函数共有6个子函数， 这些子函数的前辍为mdl，由flag的值来控 制在仿真的各阶段调用S函数的哪一个子函数。</p>
<ul>
<li><font color='purple'>flag取0：</font>调用初始化子函数mdlInitializeSizes。</li>
<li><font color='purple'>flag取1：</font>调用子函数mdlDerivatives实现连续状态的更新。</li>
<li><font color='purple'>flag取2：</font>调用子函数mdlUpdate实现离散状态的更新。</li>
<li><font color='purple'>flag取3：</font>调用输出子函数mdlOutputs。</li>
</ul>
<h3 id="S函数的应用"><a class="header-anchor" href="#S函数的应用">¶</a>S函数的应用</h3>
<p>采用S函数实现y=kx+b。</p>
<h4 id="定义S函数"><a class="header-anchor" href="#定义S函数">¶</a>定义S函数</h4>
<p>①主函数</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[sys,x0,str,ts]</span>=<span class="title">timekb</span><span class="params">(t,x,u,flag,k,b)</span></span></span><br><span class="line"><span class="keyword">switch</span> flag</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span></span><br><span class="line">[sys,x0,str,ts]=mdlInitializeSizes; <span class="comment">%初始化</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span></span><br><span class="line">sys=mdlOutputs(t,x,u,k,b); <span class="comment">%计算输出量</span></span><br><span class="line"><span class="keyword">case</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>&#125;</span><br><span class="line">sys=[];</span><br><span class="line"><span class="keyword">otherwise</span> <span class="comment">%出错处理</span></span><br><span class="line">error(num2str(flag))</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>②初始化子函数</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[sys,x0,str,ts]</span>=<span class="title">mdlInitializeSizes</span><span class="params">()</span></span></span><br><span class="line">sizes=simsizes;</span><br><span class="line">sizes.NumContStates=<span class="number">0</span>; <span class="comment">%无连续状态</span></span><br><span class="line">sizes.NumDiscStates=<span class="number">0</span>; <span class="comment">%无离散状态</span></span><br><span class="line">sizes.NumOutputs=<span class="number">1</span>; <span class="comment">%有一个输出量</span></span><br><span class="line">sizes.NumInputs=<span class="number">1</span>; <span class="comment">%有一个输入信号</span></span><br><span class="line">sizes.DirFeedthrough=<span class="number">1</span>; <span class="comment">%输出量中含有输入量</span></span><br><span class="line">sizes.NumSampleTimes=<span class="number">1</span>; <span class="comment">%单个采样周期</span></span><br><span class="line">sys=simsizes(sizes);</span><br><span class="line"><span class="comment">%给其他返回参数赋值</span></span><br><span class="line">x0=[]; <span class="comment">%设置初始状态为零状态</span></span><br><span class="line">str=[]; <span class="comment">%将str变量设置为空字符串</span></span><br><span class="line">ts=[<span class="number">-1</span>,<span class="number">0</span>]; <span class="comment">%假定继承输入信号的采样周期</span></span><br></pre></td></tr></table></figure>
<p>③输出子函数</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sys</span>=<span class="title">mdlOutputs</span><span class="params">(t,x,u,k,b)</span></span></span><br><span class="line">sys=k*u+b;</span><br></pre></td></tr></table></figure>
<h4 id="在Simulink模型中使用S函数"><a class="header-anchor" href="#在Simulink模型中使用S函数">¶</a>在Simulink模型中使用S函数</h4>
<p>新建一个模型，向模型编辑窗口中添加S函数模块、Sine Wave模 块和Scope模块。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830184543.png" alt=""></p>
<p>在模型编辑窗口中双击S函数模块，打开其参数对话框，填入S函数名 timesn，填入外部参数k和b。如果有多个外部参数，参数之间用逗号分隔。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185558.png" alt=""></p>
<p>在模型编辑窗口选中S函数模块，选择Diagram→Mask→Create Mask命令， 打开封装编辑器，选择Parameters &amp; Dialog选项卡，在左侧控件工具箱 中单击Edit工具，往中间的Dialog box区域的控件列表中添加编辑框控 件#1，选中该控件后，在右侧的Property editor中，在Name栏填入k， Prompt栏填入“放大倍数”，再设置参数b，设置完成后单击OK按钮。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185551.png" alt=""></p>
<p>S函数模块被封装后，双击它，则得到模块参数对话框。当输入k的值为 3，b的值为2时，得到的仿真结果。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185545.png" alt=""></p>
<p>第一根曲线是经过S函数变化后的曲线2+3sinx，第二根曲线是sinx。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185539.png" alt=""></p>
<ul>
<li>利用S函数可以创建用户自己的Simulink模块，从而使得 Simulink可以应用于更复杂系统的建模与仿真。</li>
<li>Simulink提供了现成的S函数模板文件，用户可以通过直 接修改模板文件来编写S函数。</li>
</ul>
<h2 id="Simulink仿真应用举例"><a class="header-anchor" href="#Simulink仿真应用举例">¶</a>Simulink仿真应用举例</h2>
<ul>
<li>蹦极跳系统的Simulink仿真模型</li>
<li>蹦极跳系统的安全性</li>
</ul>
<h3 id="蹦极跳（Bungee-Jumping）系统的建模与仿真"><a class="header-anchor" href="#蹦极跳（Bungee-Jumping）系统的建模与仿真">¶</a>蹦极跳（Bungee Jumping）系统的建模与仿真</h3>
<p>采用Simulink对蹦极跳系统进行仿真研究。要求如下：</p>
<ul>
<li>建立蹦极跳系统的Simulink仿真模型。</li>
<li>分析蹦极跳系统的安全性，包括：
<ul>
<li>当弹力绳弹性系数一定时，求蹦极者的安全体重。</li>
<li>当蹦极者体重一定时，求弹力绳的最小弹性系数。</li>
</ul>
</li>
</ul>
<h4 id="系统分析"><a class="header-anchor" href="#系统分析">¶</a>系统分析</h4>
<p>蹦极者从跳台自由下落，跳台距水面的高度为h，弹力绳的长 度为s。蹦极者受到的力包括自身的重力、弹力绳的张力和空 气的阻力。设k为弹力绳的弹性系数，同时我们定义人站在跳 台时弹力绳的下端为坐标原点O，y为蹦极者相对于坐标原点的 距离，b(y)表示弹力绳的张力，其数学表达式为：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185532.png" alt=""></p>
<p>又设m为蹦极者的质量，g为重力加速度，a1与a2为空气阻力系 数，则系统方程可表示为这样的方程：</p>
<p><code>mg+b(y)-a1y'-a2y'|y'|=my''</code></p>
<blockquote>
<p>其中第3项和第4项表示空气的阻力。方程的初始条件为 y(0)=-s, y’(0)=0，也就是初始速度为0。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185458.png" alt=""></p>
<h4 id="仿真模型"><a class="header-anchor" href="#仿真模型">¶</a>仿真模型</h4>
<p>启动Simulink，打开模型编辑窗口。因为该微分方程包含的导数最高为2 阶，所以在仿真模型中需要两个积分器，可以从Simulink的连续系统模 块库中，将积分模块添加到模型编辑窗口并实现连接，y的二阶导数经过 积分环节后得到y的一阶导数，y的一阶导数经过积分环节后得到y。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830185755.png" alt=""></p>
<p>空气阻力有两项，都与y的一阶导数，即速度有关。使用数学运算模块库（Math Operations）中的增益模块表示空气阻力比例系数，使用用户自定义函数模块库 （User-defined Functions）中函数（Fcn）模块表示空气阻力中的非线性部分， 同时将增益模块和函数模块翻转180度，并确定它们的参数。另外添加数学运算模 块库（Math Operations）中的加法模块，并设置好参数。还有个增益模块，其输 出是y的二阶导数。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830190906.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830191552.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830191533.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830191527.png" alt=""></p>
<p>再回到蹦极跳系统，进行弹力绳张力的模块连接。用Switch模块来实现弹 力绳的张力，同时需要增益模块和常数模块，设置好参数并进行模块连接后得到此时的仿真模型。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830192535.png" alt=""></p>
<p>最后添加重力模块和输出模块。添加信号源模块中的常数模块，表示蹦极者的重力， 添加输出模块库中的示波器模块，用于输出蹦极者弹出的距离，同时还输出蹦极者与 水面的距离，即坐标原点距水面的距离，也就是h-s，再减去蹦极者弹起的距离y，如 果该值小于零，即表示人将在蹦极过程中接触水面，这是不安全的。添加常数模块、 加法模块和示波器模块，设置模块参数并进行连接，这样系统仿真模型就建好了。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830214110.png" alt=""></p>
<h4 id="仿真结果及分析"><a class="header-anchor" href="#仿真结果及分析">¶</a>仿真结果及分析</h4>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; m=<span class="number">75</span>;</span><br><span class="line">&gt;&gt; g=<span class="number">9.8</span>;</span><br><span class="line">&gt;&gt; k=<span class="number">20</span>;</span><br><span class="line">&gt;&gt; a1=<span class="number">1</span>;</span><br><span class="line">&gt;&gt; a2=<span class="number">1</span>;</span><br><span class="line">&gt;&gt; h=<span class="number">100</span>;</span><br><span class="line">&gt;&gt; s=<span class="number">40</span>;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830214103.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830214055.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830213906.png" alt=""></p>
<div class="note info flat"><p>注意设置步长为100，从Configuration Parameters修改默认步长！！！</p>
</div>
<p>&gt;&gt; m=65;</p>
<p>现在将蹦极者的体重改为65kg， 其他参数不变，查看此时的曲 线，人距离水面的距离大于0， 系统是安全的，因此在系统其 他参数确定之后，对蹦极者的 体重是有要求的。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830214037.png" alt=""></p>
<h3 id="蹦极跳系统的安全性"><a class="header-anchor" href="#蹦极跳系统的安全性">¶</a>蹦极跳系统的安全性</h3>
<h4 id="求最大安全体重"><a class="header-anchor" href="#求最大安全体重">¶</a>求最大安全体重</h4>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> m=<span class="number">100</span>:<span class="number">-0.5</span>:<span class="number">20</span></span><br><span class="line">    [t,x,y_w]=sim(<span class="string">&#x27;bengji&#x27;</span>,<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">min</span>(y_w)&gt;<span class="number">1.5</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;最大安全体重是&#x27;</span>,num2str(m)])</span><br><span class="line">dis=<span class="built_in">min</span>(y_w);</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;最小的安全距离是&#x27;</span>,num2str(dis)])</span><br><span class="line"><span class="built_in">plot</span>(t,y_w)</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<div class="note info flat"><p>注意simulink仿真要保存为bengji的名称，与上述代码中保持一致。否则会报错！！</p>
</div>
<p>程序运行后，得到结果如下：</p>
<p><font color='purple'>最大安全体重是67.5</font><br>
<font color='purple'>最小的安全距离是1.6803</font></p>
<p>弹力绳的弹性系数是20时，安全体重是67.5kg，安全距离是1.68m。 人到水面距离的变化曲线如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830215544.png" alt=""></p>
<h4 id="求最小弹性系数"><a class="header-anchor" href="#求最小弹性系数">¶</a>求最小弹性系数</h4>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">m=<span class="number">65</span>;</span><br><span class="line"><span class="keyword">for</span> k=<span class="number">10</span>:<span class="number">0.1</span>:<span class="number">50</span></span><br><span class="line">    [t,x,y_w]=sim(<span class="string">&#x27;bengji&#x27;</span>,<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">min</span>(y_w)&gt;<span class="number">1.5</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;最小弹性系数k是&#x27;</span>,num2str(k)])</span><br><span class="line">dis=<span class="built_in">min</span>(y_w);</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;最小的安全距离是&#x27;</span>,num2str(dis)])</span><br><span class="line"><span class="built_in">plot</span>(t,y_w)</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p>程序运行后，得到结果如下：</p>
<p><font color='purple'>最小弹性系数k是18.9</font><br>
<font color='purple'>最小的安全距离是1.5521</font></p>
<p>最小安全弹性常数是18.9，蹦极者与地面之间的最小距离是1.55m， 最小安全弹性常数下系统的仿真结果如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830220148.png" alt=""></p>
<h1>外部程序接口</h1>
<h2 id="在Excel中使用MATLAB"><a class="header-anchor" href="#在Excel中使用MATLAB">¶</a>在Excel中使用MATLAB</h2>
<ul>
<li>Spreadsheet Link程序</li>
<li>将Excel表格中的数据导出到MATLAB工作空间中</li>
<li>从MATLAB工作空间导入数据到Excel表格中</li>
<li>在Excel中调用MATLAB函数进行运算</li>
</ul>
<h3 id="Spreadsheet-Link程序"><a class="header-anchor" href="#Spreadsheet-Link程序">¶</a>Spreadsheet Link程序</h3>
<p>Spreadsheet Link程序是MATLAB提供的Excel与MATLAB的接口 ，通过 Spreadsheet Link，可以在Excel工作区和MATLAB工作区之间进行数据交换 ，也可以在Excel中调用MATLAB的函数。</p>
<h4 id="安装"><a class="header-anchor" href="#安装">¶</a>安装</h4>
<p>Spreadsheet Link的安装是在MATLAB安装过程中，随其他组件一起安装的。安装完成后，还需要在Excel中进行一些设置后才能使用。</p>
<h4 id="设置"><a class="header-anchor" href="#设置">¶</a>设置</h4>
<p>①选 Excel “文件”菜单的 “选项” 菜单项，打开“Excel选项”对话框。 在“Excel选项”对话框中，选左边栏的 “加载项”， 然后单击右边面板下部的 “转到”按钮，弹出 “加载宏”对话框 。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830231405.png" alt=""></p>
<p>②在“加载宏”对话框中，单击“浏览” 按钮，打开文件“浏览”对话框。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830231513.png" alt=""></p>
<p>③在文件“浏览”对话框，选MATLAB的安装文件夹的子文件夹 toolbox\exlink。在文件夹exlink中选excllink.xlam文件，单击“确 定”按钮返回。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830231824.png" alt=""></p>
<p>“加载宏”对话框的“可用加载宏”列表中多了一个 “Spreadsheet Link 3.2.5 for use with MATLAB and Excel”选项。选中该项，返回Excel窗口。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830231814.png" alt=""></p>
<h4 id="MATLAB命令组"><a class="header-anchor" href="#MATLAB命令组">¶</a>MATLAB命令组</h4>
<p>加载Spreadsheet Link 后，在Excel窗口“开始”选项卡中多了一个 MATLAB命令组。命令组中包含的一组命令项，分别用于实现启动MATLAB、 导入和导出数据、调用MATLAB函数等。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830232100.png" alt="image-20200830232059357"></p>
<h3 id="将Excel表格中的数据导出到MATLAB工作空间"><a class="header-anchor" href="#将Excel表格中的数据导出到MATLAB工作空间">¶</a>将Excel表格中的数据导出到MATLAB工作空间</h3>
<p>ex:文件“测试数据.xlsx”存储某门店销售数据，将其中的A~E列的数 据导出MATLAB工作区，存入变量sale。</p>
<h4 id="操作步骤"><a class="header-anchor" href="#操作步骤">¶</a>操作步骤</h4>
<p>① 在Excel中选中5列，单击 “开始” 选项卡工具栏“MATLAB”按钮，从下 拉列表中选“Send data to MATLAB” 命令。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830233206.png" alt=""></p>
<p>② 在弹出的对话框中填入变量名sale， 单击“确定”按钮完成导出操作。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234046.png" alt=""></p>
<p>因为选中的各列数据类型不同，所以sale 为cell数组。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234041.png" alt=""></p>
<h3 id="从MATLAB工作空间导入数据到Excel表格中"><a class="header-anchor" href="#从MATLAB工作空间导入数据到Excel表格中">¶</a>从MATLAB工作空间导入数据到Excel表格中</h3>
<p>在Excel表单选中要导入数据的起始单元格，单击 “MATLAB”按钮，从下拉列表 中选“Get data from MATLAB” 命令，在 弹出的对话框中输入MATLAB变量名，单击“ 确定”按钮完成导入操作。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234035.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234023.png" alt=""></p>
<h3 id="在Excel中调用MATLAB函数进行运算"><a class="header-anchor" href="#在Excel中调用MATLAB函数进行运算">¶</a>在Excel中调用MATLAB函数进行运算</h3>
<p>ex:调用MATLAB的magic函数在Excel中生成6阶魔方矩阵。</p>
<h4 id="选择函数"><a class="header-anchor" href="#选择函数">¶</a>选择函数</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234229.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234434.png" alt=""></p>
<h4 id="设置参数"><a class="header-anchor" href="#设置参数">¶</a>设置参数</h4>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831000123.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200830234657.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831000116.png" alt=""></p>
<h2 id="MATLAB文件操作"><a class="header-anchor" href="#MATLAB文件操作">¶</a>MATLAB文件操作</h2>
<ul>
<li>文件打开与关闭</li>
<li>文本文件的读写</li>
<li>二进制文件的读写</li>
<li>数据文件定位</li>
</ul>
<h3 id="文件打开与关闭"><a class="header-anchor" href="#文件打开与关闭">¶</a>文件打开与关闭</h3>
<h4 id="fopen函数"><a class="header-anchor" href="#fopen函数">¶</a>fopen函数</h4>
<p>用于打开文件，其调用格式为：</p>
<p>fid=fopen(filename,permission)</p>
<blockquote>
<p>其中，fid为文件识别号，打开文件成功时，fid返回一整数，用来标识该文 件；打开文件不成功时，fid值为-1。filename为待操作的文件名， permission为对文件的允许使用方式。</p>
</blockquote>
<p>文件的使用方式：</p>
<ul>
<li>‘r’： 以读方式打开一个文件。</li>
<li>‘w’：以写方式打开一个文件。</li>
<li>‘a’：在该文件尾添加数据。</li>
<li>‘r+’：以读和写方式打开一个文件。</li>
</ul>
<h4 id="fclose函数"><a class="header-anchor" href="#fclose函数">¶</a>fclose函数</h4>
<p>用于关闭已打开的文件，其调用格式为：</p>
<p>status=fclose(fid)</p>
<blockquote>
<p>fid是要关闭文件的标识号。如果fid为all，则关闭所有已打开的文 件，但标准文件除外，即屏幕、键盘。返回0表示关闭成功，返回-1 则表示关闭不成功。</p>
</blockquote>
<h3 id="文本文件的读写"><a class="header-anchor" href="#文本文件的读写">¶</a>文本文件的读写</h3>
<h4 id="fscanf函数和fprintf函数"><a class="header-anchor" href="#fscanf函数和fprintf函数">¶</a>fscanf函数和fprintf函数</h4>
<p>fscanf函数用于读取文本文件的内容，fprintf函数用于将数据写入文本文件中。调用格式为：</p>
<p>[A,count]=fscanf(fid,fmt,size)</p>
<p>count=fprintf(fid,fmt,A)</p>
<blockquote>
<p>其中，A用于存放读写的数据，count返回成功读写的数据元素个数； 参数fid为文件标识号，fmt用以控制读取的数据格式，size用于指定A的大小。</p>
</blockquote>
<ul>
<li>
<p>fmt由%加上格式符组成，常见的数值格式控制符如下：</p>
<ul>
<li>‘%d’ ：整数。</li>
<li>‘%f’：小数形式的实数。</li>
<li>‘%e’：科学计数法形式的实数。</li>
<li>‘%c’：字符。</li>
<li>‘%s’ ：字符串。<br>
在%之后还可以加上数据宽度。</li>
</ul>
</li>
<li>
<p>size可取值：</p>
<ul>
<li>n：指定读取n个数据。</li>
<li>Inf：指定读取文件中的所有数据。</li>
<li>[m,n]：指定读取m×n个数据，数据按列顺序存放到矩阵A。</li>
</ul>
</li>
</ul>
<p>ex:文件“观测记录.txt”的内容如图 所示，读取文件前10行的数据。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831000103.png" alt=""></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">fid=fopen(<span class="string">&#x27;观测记录.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">title=fscanf(fid,<span class="string">&#x27;%s&#x27;</span>,<span class="number">6</span>);</span><br><span class="line">qxsj=[];</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">10</span></span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">1</span>&#125;=fscanf(fid,<span class="string">&#x27;%s&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">2</span>&#125;=fscanf(fid,<span class="string">&#x27;%s&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">3</span>&#125;=fscanf(fid,<span class="string">&#x27;%f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">4</span>&#125;=fscanf(fid,<span class="string">&#x27;%f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">5</span>&#125;=fscanf(fid,<span class="string">&#x27;%f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"> qxsj&#123;<span class="built_in">i</span>,<span class="number">6</span>&#125;=fscanf(fid,<span class="string">&#x27;%s&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">fclose(fid);</span><br></pre></td></tr></table></figure>
<h3 id="二进制文件的读写"><a class="header-anchor" href="#二进制文件的读写">¶</a>二进制文件的读写</h3>
<h4 id="fread函数和fwrite函数"><a class="header-anchor" href="#fread函数和fwrite函数">¶</a>fread函数和fwrite函数</h4>
<p>fread函数用于读取二进制文件，fwrite 函数将数据写入文件。这是函数的调用格式。</p>
<p>[A,count]=fread(fid,size,precision,skip)</p>
<p>count=fwrite(fid,A,precision)</p>
<blockquote>
<p>其中，A用于存放读写的数据，count返回读写成功的数据个数。fid为 文件识别号，precision指定读写数据的类型，size用于指定A的大小， skip指定按比例周期性地跳过一些数据。</p>
</blockquote>
<p>ex:计算y=(e^x)*sinx，其中x∈[0,2π ]。将x、y写入二进制文件“模拟数据.dat”。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">fid=fopen(<span class="string">&#x27;模拟数据.dat&#x27;</span>,<span class="string">&#x27;w&#x27;</span>);</span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">y=<span class="built_in">exp</span>(x).*<span class="built_in">sin</span>(x);</span><br><span class="line">count=fwrite(fid, [x; y], <span class="string">&#x27;double&#x27;</span>);</span><br><span class="line">fclose(fid);</span><br></pre></td></tr></table></figure>
<h3 id="数据文件定位"><a class="header-anchor" href="#数据文件定位">¶</a>数据文件定位</h3>
<h4 id="fseek函数"><a class="header-anchor" href="#fseek函数">¶</a>fseek函数</h4>
<p>该函数用于改变文件位置指针的位置，其调用格式为：</p>
<p>fseek(fid, offset, origin)</p>
<blockquote>
<p>其中参数fid为文件识别号，offset表示位置指针相对移动的字节数；origin 表示位置指针移动的参照位置。</p>
</blockquote>
<ul>
<li>origin的可取值：
<ul>
<li>'cof '或0表示文件指针的当前位置</li>
<li>'bof '或-1表示文件的开始位置</li>
<li>'eof’或1表示文件的结束位置。</li>
</ul>
</li>
</ul>
<p>例如：fseek(fid,0,-1) 、fseek(fid,-5,‘eof’)</p>
<h4 id="ftell函数"><a class="header-anchor" href="#ftell函数">¶</a>ftell函数</h4>
<p>用于查询文件指针的当前位置，其调用格式为：</p>
<p>position=ftell(fid)</p>
<blockquote>
<p>返回值为从文件头到指针当前位置的字节数。若返回值为-1，表 示获取文件当前位置失败。</p>
</blockquote>
<h4 id="feof函数"><a class="header-anchor" href="#feof函数">¶</a>feof函数</h4>
<p>用于判断当前的文件位置指针是否到达文件尾部：</p>
<p>status=feof(fid)</p>
<blockquote>
<p>当到达文件结束位置时，返回值为1，否则为0。</p>
</blockquote>
<p>ex:读取上例生成的文件中的后40组数据，并绘制图形</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">fid=fopen(<span class="string">&#x27;模拟数据.dat&#x27;</span>,<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">status=fseek(fid, <span class="number">-40</span>*<span class="number">2</span>*<span class="number">8</span>, <span class="string">&#x27;eof&#x27;</span>);</span><br><span class="line">x=[]; y=[];</span><br><span class="line"><span class="keyword">while</span> ~feof(fid)</span><br><span class="line"> x=[x; fread(fid,<span class="number">1</span>,<span class="string">&#x27;double&#x27;</span>)];</span><br><span class="line"> y=[y; fread(fid,<span class="number">1</span>,<span class="string">&#x27;double&#x27;</span>)];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">fclose(fid);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831000754.png" alt=""></p>
<h2 id="在其他语言程序中读写MATLAB的数据文件"><a class="header-anchor" href="#在其他语言程序中读写MATLAB的数据文件">¶</a>在其他语言程序中读写MATLAB的数据文件</h2>
<ul>
<li>MAT文件的概念</li>
<li>C++程序中MAT文件的基本操作</li>
<li>mxArray对象</li>
<li>生成应用程序并运行</li>
</ul>
<h3 id="MAT文件的概念"><a class="header-anchor" href="#MAT文件的概念">¶</a>MAT文件的概念</h3>
<p>MAT文件是MATLAB存储数据的标准格式。MAT文件中不仅保存变量的值，而且保存变量的名称和类型等。</p>
<ul>
<li>
<p>在MATLAB中操作MAT文件：</p>
<ul>
<li>save命令：将工作区的数据保存为MAT文件。</li>
<li>load命令：读取MAT文件中的数据并加载到工作区。</li>
</ul>
</li>
<li>
<p>操作MAT文件的API函数封装于两个标准库文件中：</p>
<ul>
<li>libmat.lib：包含对MAT文件的操作函数。</li>
<li>libmx.lib：包含对MAT文件中mxArray矩阵的操作函数。</li>
</ul>
</li>
</ul>
<h3 id="C-程序中MAT文件的基本操作"><a class="header-anchor" href="#C-程序中MAT文件的基本操作">¶</a>C++程序中MAT文件的基本操作</h3>
<p>在C++程序中，通过指向MAT文件的指针对文件进行操作，因此，首先需要申明一个文件指针。</p>
<ul>
<li>定义指向MAT文件的指针</li>
</ul>
<p>MATFile *mfp;</p>
<blockquote>
<p>其中， MATFile指定指针类型，mfp为指针变量。</p>
</blockquote>
<ul>
<li>打开与关闭MAT文件</li>
</ul>
<p>mfp=matOpen(filename,mode)</p>
<p>matClose(mfp)</p>
<blockquote>
<p>其中，mfp为MATFile类型的指针，filename为待操作的文件名，mode 为对文件的使用方式。 如果文件打开成功，则返回文件句柄，否则返回NULL。</p>
</blockquote>
<ul>
<li>
<p>MAT文件的访问方式：</p>
<ul>
<li>‘r’：只读模式。</li>
<li>‘w’：只写模式。</li>
<li>’ u ’ ：更新模式。</li>
</ul>
</li>
<li>
<p>读写MAT文件</p>
</li>
</ul>
<p>matPutVariable(mfp,name,mp)</p>
<p>matGetVariable(mfp,name)</p>
<blockquote>
<p>其中，mfp是已经定义的MAT文件指针，name是指定存储数据的变量名，mp 是指向MATLAB工作区mxArray类型变量的指针。</p>
</blockquote>
<p>写文件，如果文件中存在与name同名的变量，那么将覆盖原来的值；如果 不存在同名的变量，则在文件末尾添加该变量。函数执行成功，返回0，否 则返回一个非零值。</p>
<h3 id="mxArray对象"><a class="header-anchor" href="#mxArray对象">¶</a>mxArray对象</h3>
<p>MATLAB和其他应用软件或程序交换数据使用<strong>mxArray</strong>对象。</p>
<p>操作mxArray对象要用到<strong>mx函数</strong>，mx函数有四类：</p>
<h4 id="建立和清除mxArray变量的函数"><a class="header-anchor" href="#建立和清除mxArray变量的函数">¶</a>建立和清除mxArray变量的函数</h4>
<ul>
<li>mxArray *mxCreateDoubleScalar(double value)</li>
</ul>
<p>用于创建一个数值标量， 并用参数value初始化该变量。</p>
<ul>
<li>mxArray *mxCreateDoubleMatrix(mwSize m, mwSize n, mxComplexity CFlag);</li>
</ul>
<p>用于创建存储数值数据的mxArray矩阵。</p>
<blockquote>
<p>其中，m、n指定mxArray矩阵的大小， CFlag 指定成员值是否为复数，当CFlag为mxREAL 时，成员值是实数。</p>
</blockquote>
<ul>
<li>mxArray *mxCreateString(const char *str);</li>
</ul>
<p>用于创建存储字符串的mxArray变量，并用str指向的字符串初始化该变量。</p>
<ul>
<li>void mxDestroyArray(mxArray *pm);</li>
</ul>
<p>用于清除pm 所指向的mxArray变量。</p>
<h4 id="验证数据类型的函数"><a class="header-anchor" href="#验证数据类型的函数">¶</a>验证数据类型的函数</h4>
<p>bool mxIsDouble(const mxArray *pm);</p>
<p>bool mxIsNumeric(const mxArray *pm);</p>
<blockquote>
<p>其中，pm是指向mxArray变量的指针。</p>
</blockquote>
<h4 id="读写数据的函数"><a class="header-anchor" href="#读写数据的函数">¶</a>读写数据的函数</h4>
<p>size_t mxGetM(const mxArray *pm);</p>
<p>void mxSetM(mxArray *pm, mwSize m);</p>
<p>double *mxGetPr(const mxArray *pm);</p>
<p>void mxSetPr(mxArray *pm, double *pr);</p>
<blockquote>
<p>其中，pm是指向mxArray变量的指针。mxGetM函数获取mxArray变量大小， mxGetPr函数获取mxArray变量地址。</p>
</blockquote>
<h4 id="转换类型的函数"><a class="header-anchor" href="#转换类型的函数">¶</a>转换类型的函数</h4>
<p>char *mxArrayToString(const mxArray *pm);</p>
<p>将mxArray变量内容转换为字符串。其中， pm是指向mxArray变量的指针。</p>
<p>ex:编写C++程序，创建一个MAT文件mattest.mat ，并写入三种类 型的数据。</p>
<ul>
<li>导入MAT命名空间</li>
</ul>
<p>#include “mat.h”</p>
<ul>
<li>定义MAT文件指针和指向mxArray类型数据的指针</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">MATFile *mat;</span><br><span class="line">mxArray *pa1, *pa2, *pa3;</span><br><span class="line"><span class="comment">//定义要写入的数据</span></span><br><span class="line"><span class="keyword">double</span> data[<span class="number">9</span>] = &#123;<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.4</span>, <span class="number">5.5</span>, <span class="number">6.6</span>, <span class="number">7.7</span>, <span class="number">8.8</span>, <span class="number">9.9</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *file = <span class="string">&quot;mattest.mat&quot;</span>; <span class="comment">//定义要操作的文件</span></span><br><span class="line"><span class="keyword">int</span> status; <span class="comment">//定义存储函数返回值的变量</span></span><br></pre></td></tr></table></figure>
<ul>
<li>打开MAT文件</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;生成文件 : &quot;</span> &lt;&lt; file &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">pmat = matOpen(file, <span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (pmat == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不能创建文件 : &quot;</span> &lt;&lt; file &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;(请确认是否有权限访问指定文件夹?)\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建MATLAB变量</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">pa1 = mxCreateDoubleScalar(<span class="number">1.234</span>);</span><br><span class="line"><span class="keyword">if</span> (pa1 == NULL) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;不能创建变量。\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br><span class="line">pa2 = mxCreateDoubleMatrix(<span class="number">3</span>, <span class="number">3</span>, mxREAL);</span><br><span class="line"><span class="keyword">if</span> (pa2 == NULL) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;不能创建矩阵。\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br><span class="line">memcpy((void *)(mxGetPr(pa2)), (void *)data, sizeof(data));</span><br><span class="line">pa3 = mxCreateString(<span class="string">&quot;MAT文件示例&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (pa3 == NULL) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;不能创建字符串。\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>将MATLAB变量写入文件</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">status = matPutVariable(pmat, <span class="string">&quot;LocalDouble&quot;</span>, pa1);</span><br><span class="line"><span class="keyword">if</span> (status != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;写入局部变量时发生错误。\n &quot;</span> ;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br><span class="line">status = matPutVariableAsGlobal(pmat, <span class="string">&quot;GlobalDouble&quot;</span>, pa2);</span><br><span class="line"><span class="keyword">if</span> (status != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;写入全局变量时发生错误。\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br><span class="line">status = matPutVariable(pmat, <span class="string">&quot;LocalString&quot;</span>, pa3);</span><br><span class="line"><span class="keyword">if</span> (status != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;: 写入String类型数据时发生错误。\n &quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>); &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>释放内存空间</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">mxDestroyArray(pa1);</span><br><span class="line">mxDestroyArray(pa2);</span><br><span class="line">mxDestroyArray(pa3);</span><br><span class="line"><span class="keyword">if</span> (matClose(pmat) != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;关闭文件时发生错误 &quot;</span> &lt;&lt; file &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;文件创建成功！\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<h3 id="生成应用程序并运行"><a class="header-anchor" href="#生成应用程序并运行">¶</a>生成应用程序并运行</h3>
<ul>
<li>生成应用程序
<ul>
<li>利用Microsoft Visual Studio 集成环境</li>
<li>利用MATLAB编译器</li>
</ul>
</li>
</ul>
<p>&gt;&gt; mex -v -client engine MatFile.cpp</p>
<p>编译成功，生成文件MatFile.exe。</p>
<ul>
<li>运行应用程序</li>
</ul>
<p>运行文件MatFile.cpp，将建立一个MAT文件mattest.mat。</p>
<ul>
<li>加载文件mattest.mat</li>
</ul>
<p>&gt;&gt; load(‘mattest.mat’)</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831003236.png" alt=""></p>
<h2 id="在MATLAB中调用其他语言编写的程序"><a class="header-anchor" href="#在MATLAB中调用其他语言编写的程序">¶</a>在MATLAB中调用其他语言编写的程序</h2>
<ul>
<li>MEX库函数</li>
<li>MEX文件源程序的构成</li>
<li>MEX文件的编译</li>
</ul>
<p>MEX是MATLAB Executable的缩写，是MATLAB提供的调用其它语言编写的子程序的接口。</p>
<p>用其他语言编写的MEX程序经过编译，生成MEX文件，可以作为MATLAB的扩展函数。</p>
<h3 id="MEX库函数"><a class="header-anchor" href="#MEX库函数">¶</a>MEX库函数</h3>
<p>用于MEX程序与MATLAB环境交换数据和从MATLAB工作空间获取相应信息。常用MEX库函数：</p>
<p>mexCallMATLAB：用于调用MATLAB函数。</p>
<p>mexErrMsgTxt：输出从MATLAB工作空间获取运行过程错误信息。</p>
<p>mexEvalString：用于在MATLAB环境中执行表达式。</p>
<p>mexGetVariable：用于MEX文件从MATLAB工作区获取指定变量。</p>
<p>mexPutVariable：用于MEX文件向MATLAB工作区输出指定变量。</p>
<h3 id="MEX文件源程序的构成"><a class="header-anchor" href="#MEX文件源程序的构成">¶</a>MEX文件源程序的构成</h3>
<h4 id="入口子程序"><a class="header-anchor" href="#入口子程序">¶</a>入口子程序</h4>
<p>定义被MATLAB调用的外部子程序的入口地址、MATLAB系统和计算子程序传递的参数等 。入口子程序的定义格式如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">void mexFunction(int nlhs,mxArray <span class="emphasis">*plhs[],int nrhs,const mxArray *</span>prhs[])</span><br><span class="line">&#123;</span><br><span class="line"> …</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<blockquote>
<p>其中，nlhs定义输出结果的个数，plhs指向用于返回输出结果的对象，nrhs定义输入 参数的个数，prhs指向存储输入参数的对象。</p>
</blockquote>
<h4 id="计算子程序"><a class="header-anchor" href="#计算子程序">¶</a>计算子程序</h4>
<p>包含所有完成计算功能的程序代码，由入口子程序调用。计算子程序的定 义格式如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">返回值类型 子程序名(输入形参表)</span><br><span class="line">&#123;</span><br><span class="line"> …</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>ex:用C++编写判断两个数是否互质的MEX文件源程序，并编译生成 MEX文件。调用该MEX文件，若两个数互质，则输出1，否则输出0。</p>
<ul>
<li>新建源程序MEXDemo.cpp</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;mex.h&quot;</span> </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isCoprime</span><span class="params">(<span class="keyword">double</span> *inx,<span class="keyword">double</span> *outy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">int</span> x=*inx, y=*outy, tmp;</span><br><span class="line"> <span class="keyword">if</span>(x&lt;y)</span><br><span class="line"> &#123; tmp=x; x=y; y=tmp;&#125;</span><br><span class="line"> tmp=x%y;</span><br><span class="line"> <span class="keyword">while</span>(tmp)</span><br><span class="line"> &#123;</span><br><span class="line"> x=y; y=tmp; tmp=x%y;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">if</span>(y==<span class="number">1</span>)</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mexFunction</span><span class="params">( <span class="keyword">int</span> nlhs, mxArray *plhs[], <span class="keyword">int</span> nrhs, <span class="keyword">const</span> mxArray *prhs[] )</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">double</span> *result;</span><br><span class="line"> <span class="keyword">int</span> m,n,i;</span><br><span class="line"><span class="comment">//检查调用时输入、输出是否符合要求</span></span><br><span class="line"> <span class="keyword">if</span>(nrhs!=<span class="number">2</span>) &#123;</span><br><span class="line"> mexErrMsgTxt(<span class="string">&quot;输入参数应有两个！&quot;</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line"> <span class="keyword">if</span>(nlhs!=<span class="number">1</span>) &#123;</span><br><span class="line"> mexErrMsgTxt(<span class="string">&quot;输出参数应只有1个！&quot;</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line"> <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)&#123;</span><br><span class="line"> m = <span class="keyword">int</span>(mxGetM(prhs[i]));</span><br><span class="line"> n = <span class="keyword">int</span>(mxGetN(prhs[i]));</span><br><span class="line"> <span class="keyword">if</span>( !mxIsDouble(prhs[i]) || m!=<span class="number">1</span> || n!=<span class="number">1</span>) &#123;</span><br><span class="line"> mexErrMsgTxt(<span class="string">&quot;输入参数必须是单个的数！&quot;</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line"> &#125;</span><br><span class="line">z= MEXdemo(x, y)</span><br><span class="line"><span class="comment">//在MATLAB工作区建立一个矩阵，用于存放计算结果，</span></span><br><span class="line"><span class="comment">//矩阵的大小与输入实参的大小相同。</span></span><br><span class="line">plhs[<span class="number">0</span>] = mxCreateDoubleMatrix(m,n, mxREAL);</span><br><span class="line"> result = mxGetPr(plhs[<span class="number">0</span>]); <span class="comment">//获取MEX文件输出实参的地址</span></span><br><span class="line"> <span class="keyword">if</span> (isCoprime(mxGetPr(prhs[<span class="number">0</span>]), mxGetPr(prhs[<span class="number">1</span>])))</span><br><span class="line"> *result=<span class="number">1</span>;</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line"> *result=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MEX文件的编译"><a class="header-anchor" href="#MEX文件的编译">¶</a>MEX文件的编译</h3>
<ul>
<li>编译MEX程序</li>
</ul>
<p>&gt;&gt; mex MEXDemo.cpp</p>
<p>编译成功，将生成一个mex文件：MEXDemo.mexw64</p>
<blockquote>
<p>mexw64表示生成的是一个可以在64位Windows系统下运行的mex文件。</p>
</blockquote>
<ul>
<li>调用MEX文件</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; rt = MEXDemo(<span class="number">11</span>,<span class="number">13</span>)</span><br><span class="line">rt =</span><br><span class="line"> <span class="number">1</span></span><br><span class="line">&gt;&gt; rt = MEXDemo(<span class="number">15</span>,<span class="number">33</span>)</span><br><span class="line">rt =</span><br><span class="line"> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="在其他语言程序中调用MATLAB函数"><a class="header-anchor" href="#在其他语言程序中调用MATLAB函数">¶</a>在其他语言程序中调用MATLAB函数</h2>
<ul>
<li>MATLAB引擎的概念</li>
<li>MATLAB引擎的使用</li>
<li>MATLAB引擎程序的编译与运行</li>
</ul>
<h3 id="MATLAB引擎的概念"><a class="header-anchor" href="#MATLAB引擎的概念">¶</a>MATLAB引擎的概念</h3>
<p>MATLAB引擎（engine）是用于和外部程序结合使用的一组函数和程序 库，在其他语言程序中利用MATLAB引擎来调用MATLAB中的函数。</p>
<ul>
<li>定义指向MATLAB引擎对象的指针</li>
</ul>
<p>Engine *mep</p>
<blockquote>
<p>其中， Engine指定指针类型，mep为指针变量。</p>
</blockquote>
<ul>
<li>
<p>C++常用引擎函数包括：</p>
<ul>
<li>Engine *engOpen(const char *startcmd);</li>
</ul>
<p>用于启动MATLAB计算引擎，打开一个MATLAB工作区，参数startcmd指定启动 Matlab引擎的方式。</p>
<ul>
<li>int engClose(Engine *ep);</li>
</ul>
<p>用于关闭计算引擎所打开的MATLAB工作区。</p>
<ul>
<li>mxArray *engGetVariable(Engine *ep, const char *name);</li>
</ul>
<p>用于从MATLAB引擎工作区读取数据 • int engPutVariable(Engine *ep, const char *name, const mxArray *pm); 用于向MATLAB引擎工作区输出数据。</p>
<ul>
<li>int engEvalString(Engine *ep, const char *string);</li>
</ul>
<p>用于执行MATLAB命令。</p>
</li>
</ul>
<h3 id="MATLAB引擎的使用"><a class="header-anchor" href="#MATLAB引擎的使用">¶</a>MATLAB引擎的使用</h3>
<p>使用MATLAB的计算引擎，需要使用mxArray变量，用来在MATLAB的工作空间和其他应用程序交换数据。</p>
<ul>
<li>创建mxArray变量。</li>
</ul>
<p>mxArray *mxCreateDoubleMatrix(mwSize m, mwSize n, mxComplexity CFlag);</p>
<ul>
<li>给mxArray类型的变量赋值。</li>
</ul>
<p>void * memcpy ( void * destinationPtr, const void * sourcePtr, size_t num );</p>
<blockquote>
<p>其中， destinationPtr、 sourcePtr分别为指向目标矩阵、源矩阵的指针， num指定 复制的数据个数（size_t是engine.h中定义的unsigned int或unsigned long的类型名 ）。</p>
</blockquote>
<ul>
<li>将变量放入MATLAB引擎所启动的工作区中</li>
</ul>
<p>用C++编写一个程序，该程序按极坐标方程ρ =a+bθ 计算数据点坐标，然后调 用MATLAB的绘图函数绘制出曲线。</p>
<ul>
<li>新建C++源程序文件Mengine.h 头文件engine.h</li>
</ul>
<p>包含了计算引擎库函数的定义，头文件iostream .h包含了输 入输出流操作方法的定义。因此在文件首加入两个宏命令和using语句。</p>
<p>程序如下：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;engine.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="comment">//定义一个engine类型的指针ep，用于操作引擎对象。</span></span><br><span class="line"> Engine *ep;</span><br><span class="line"> <span class="comment">//定义mxArray 类型的指针，用于指向所调用MATLAB函数的输入对象。</span></span><br><span class="line"> mxArray *T = <span class="literal">NULL</span>, *R = <span class="literal">NULL</span>;</span><br><span class="line"> <span class="comment">//定义存储数据的变量，并按给定表达式生成数据。</span></span><br><span class="line"> <span class="keyword">double</span> t[<span class="number">180</span>],r[<span class="number">180</span>];</span><br><span class="line"> <span class="keyword">double</span> a,b;</span><br><span class="line"> a=<span class="number">2</span>;b=<span class="number">3</span>;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">180</span>;i++) &#123;</span><br><span class="line"> t[i]=i*<span class="number">0.1</span>;</span><br><span class="line"> r[i]=a+b*t[i]; &#125;</span><br><span class="line"><span class="comment">//启动MATLAB计算引擎</span></span><br><span class="line"><span class="comment">//Windows系统中，engOpen函数的参数为空字符串，指定在本机启动计算引擎。</span></span><br><span class="line"><span class="keyword">if</span> (!(ep = engOpen(<span class="string">&quot;&quot;</span>))) &#123;</span><br><span class="line"> <span class="built_in">cout</span>&lt;&lt; <span class="string">&quot;\n不能启动MATLAB引擎\n&quot;</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//建立MATLAB变量，调用MATLAB函数</span></span><br><span class="line"> T = mxCreateDoubleMatrix(<span class="number">1</span>, <span class="number">180</span>, mxREAL);</span><br><span class="line"> <span class="built_in">memcpy</span>((<span class="keyword">void</span> *)mxGetPr(T), (<span class="keyword">void</span> *)t, <span class="keyword">sizeof</span>(t));</span><br><span class="line"> engPutVariable(ep, <span class="string">&quot;T&quot;</span>, T);</span><br><span class="line"> R = mxCreateDoubleMatrix(<span class="number">1</span>, <span class="number">180</span>, mxREAL);</span><br><span class="line"> <span class="built_in">memcpy</span>((<span class="keyword">void</span> *)mxGetPr(R), (<span class="keyword">void</span> *)r, <span class="keyword">sizeof</span>(r));</span><br><span class="line"> engPutVariable(ep, <span class="string">&quot;R&quot;</span>, R);</span><br><span class="line"> engEvalString(ep, <span class="string">&quot;polar(T,R);&quot;</span>);</span><br><span class="line"> engEvalString(ep, <span class="string">&quot;title(&#x27;阿基米德螺线&#x27;);&quot;</span>); </span><br><span class="line"><span class="comment">//释放内存空间，关闭计算引擎</span></span><br><span class="line"> system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"> mxDestroyArray(T);</span><br><span class="line"> mxDestroyArray(R);</span><br><span class="line"> engClose(ep);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MATLAB引擎程序的编译与运行"><a class="header-anchor" href="#MATLAB引擎程序的编译与运行">¶</a>MATLAB引擎程序的编译与运行</h3>
<p>使用mex命令对源程序文件进行编译。</p>
<p>&gt;&gt; mex -client engine Mengine.cpp</p>
<p>编译选项-client指定生成客户端程序， 选项engine指定连接时加入MATLAB计算引擎库。</p>
<p>启动MATLAB引擎后，应用程序会打开一个新的MATLAB进程，通过调用引擎函数可以控制这个进程完成计算和绘图操作。</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831004147.png" alt=""></p>
<h1>思维导图</h1>
<div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163118.jpg" alt="专题1知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163149.jpg" alt="专题2知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163213.jpg" alt="专题3知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163232.jpg" alt="专题4知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163248.jpg" alt="专题5知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163309.jpg" alt="专题6知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163329.jpg" alt="专题7知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163345.jpg" alt="专题8知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163359.jpg" alt="专题9知识点总结_1_1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200831163037.jpg" alt="专题10知识点总结_1_1"></p>
          </div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:邮箱">stardust</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://stardust14.com/2020/08/13/MATLAB%E8%AF%AD%E8%A8%80/">http://stardust14.com/2020/08/13/MATLAB%E8%AF%AD%E8%A8%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://stardust14.com" target="_blank">STAR</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/matlab/">matlab</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/stardust14/picture/img/test09.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/"/></a><div class="post-qr-code-desc"></div></li><li class="reward-item"><a href="/" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/"/></a><div class="post-qr-code-desc"></div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/09/08/C%E8%AF%AD%E8%A8%80/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/wallpaper210308.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C语言基础</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/10/hexo%E5%8D%9A%E5%AE%A2/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/test01.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo一些配置（不定期更新）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/09/22/MATLAB例题/" title="MATLAB例题"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/test07.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-22</div><div class="title">MATLAB例题</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">MATLAB基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">数值类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B"><span class="toc-number">2.1.1.</span> <span class="toc-text">整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-number">2.1.2.</span> <span class="toc-text">浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%9E%8B"><span class="toc-number">2.1.3.</span> <span class="toc-text">复型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.4.</span> <span class="toc-text">数值数据的输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.5.</span> <span class="toc-text">常用数学函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E6%A0%BC%E5%BC%8F%E4%B8%BA"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">函数的调用格式为:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">常用函数的应用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">变量及其操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%B8%8E%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.2.1.</span> <span class="toc-text">变量与赋值语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">2.2.3.</span> <span class="toc-text">变量的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">内存变量的删除与修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">内存变量文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">2.3.</span> <span class="toc-text">矩阵的表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">2.3.1.</span> <span class="toc-text">矩阵的建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">冒号表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E7%9F%A9%E9%98%B5%E5%92%8C%E5%8D%95%E5%85%83%E7%9F%A9%E9%98%B5"><span class="toc-number">2.3.3.</span> <span class="toc-text">结构矩阵和单元矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E7%9F%A9%E9%98%B5"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">结构矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E7%9F%A9%E9%98%B5"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">单元矩阵</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E5%85%83%E7%B4%A0%E7%9A%84%E5%BC%95%E7%94%A8"><span class="toc-number">2.4.</span> <span class="toc-text">矩阵元素的引用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E5%85%83%E7%B4%A0%E7%9A%84%E5%BC%95%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">2.4.1.</span> <span class="toc-text">矩阵元素的引用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E4%B8%8B%E6%A0%87%E6%9D%A5%E5%BC%93-%E7%94%A8%E7%9F%A9%E9%98%B5%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">通过下标来弓|用矩阵的元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%BA%8F%E5%8F%B7%E6%9D%A5%E5%BC%95%E7%94%A8"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">通过序号来引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%86%92%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%8E%B7%E5%BE%97%E5%AD%90%E7%9F%A9%E9%98%B5"><span class="toc-number">2.4.2.</span> <span class="toc-text">利用冒号表达式获得子矩阵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%A9%BA%E7%9F%A9%E9%98%B5%E5%88%A0%E9%99%A4%E7%9F%A9%E9%98%B5%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.4.3.</span> <span class="toc-text">利用空矩阵删除矩阵的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E7%9F%A9%E9%98%B5%E7%9A%84%E5%BD%A2%E7%8A%B6"><span class="toc-number">2.4.4.</span> <span class="toc-text">改变矩阵的形状</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.</span> <span class="toc-text">基本运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.1.</span> <span class="toc-text">算术运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.1.1.</span> <span class="toc-text">基本算术运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.1.2.</span> <span class="toc-text">点运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.1.3.</span> <span class="toc-text">关系运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">2.5.1.4.</span> <span class="toc-text">逻辑运算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">2.6.</span> <span class="toc-text">字符串的处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">2.6.1.</span> <span class="toc-text">字符串的表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.6.2.</span> <span class="toc-text">字符串的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A7%E8%A1%8C"><span class="toc-number">2.6.2.1.</span> <span class="toc-text">字符串的执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E6%95%B0%E5%80%BC%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.6.2.2.</span> <span class="toc-text">字符串与数值之间的转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.6.2.3.</span> <span class="toc-text">字符串的比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.6.2.4.</span> <span class="toc-text">字符串的查找与替换</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">MATLAB矩阵处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.</span> <span class="toc-text">特殊矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E6%80%A7%E7%9A%84%E7%89%B9%E6%AE%8A%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.1.</span> <span class="toc-text">通用性的特殊矩阵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E4%B8%93%E9%97%A8%E5%AD%A6%E7%A7%91%E7%9A%84%E7%89%B9%E6%AE%8A%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.2.</span> <span class="toc-text">用于专门学科的特殊矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AD%94%E6%96%B9%E7%9F%A9%E9%98%B5-Magic-Square"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">魔方矩阵- -Magic Square</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%BE%B7%E8%92%99%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">范德蒙矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E4%BC%AF%E7%89%B9%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">希尔伯特矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%B4%E9%9A%8F%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.2.4.</span> <span class="toc-text">伴随矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%95%E6%96%AF%E5%8D%A1%E7%9F%A9%E9%98%B5"><span class="toc-number">3.1.2.5.</span> <span class="toc-text">帕斯卡矩阵</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2"><span class="toc-number">3.2.</span> <span class="toc-text">矩阵变换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%A7%92%E9%98%B5"><span class="toc-number">3.2.1.</span> <span class="toc-text">对角阵</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AF%B9%E8%A7%92%E7%BA%BF%E5%85%83%E7%B4%A0"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">提取矩阵的对角线元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%AF%B9%E8%A7%92%E7%9F%A9%E9%98%B5"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">构造对角矩阵</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E8%A7%92%E9%98%B5"><span class="toc-number">3.2.2.</span> <span class="toc-text">三角阵</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%B8%89%E8%A7%92%E7%9F%A9%E9%98%B5"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">上三角矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E4%B8%89%E8%A7%92%E7%9F%A9%E9%98%B5"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">下三角矩阵</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BD%AC%E7%BD%AE"><span class="toc-number">3.2.3.</span> <span class="toc-text">矩阵的转置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E6%97%8B%E8%BD%AC"><span class="toc-number">3.2.4.</span> <span class="toc-text">矩阵的旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E7%BF%BB%E8%BD%AC"><span class="toc-number">3.2.5.</span> <span class="toc-text">矩阵的翻转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E6%B1%82%E9%80%86"><span class="toc-number">3.2.6.</span> <span class="toc-text">矩阵的求逆</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E6%B1%82%E5%80%BC"><span class="toc-number">3.3.</span> <span class="toc-text">矩阵求值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E9%98%B5%E7%9A%84%E8%A1%8C%E5%88%97%E5%BC%8F"><span class="toc-number">3.3.1.</span> <span class="toc-text">方阵的行列式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E7%A7%A9"><span class="toc-number">3.3.2.</span> <span class="toc-text">矩阵的秩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BF%B9"><span class="toc-number">3.3.3.</span> <span class="toc-text">矩阵的迹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5%E7%9A%84%E8%8C%83%E6%95%B0"><span class="toc-number">3.3.4.</span> <span class="toc-text">向量和矩阵的范数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E7%9A%843%E7%A7%8D%E5%B8%B8%E7%94%A8%E8%8C%83%E6%95%B0"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">向量的3种常用范数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%8C%83%E6%95%B0"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">矩阵的范数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%95%B0"><span class="toc-number">3.3.5.</span> <span class="toc-text">矩阵的条件数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E7%89%B9%E5%BE%81%E5%80%BC%E4%B8%8E%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">矩阵的特征值与特征向量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%89%B9%E5%BE%81%E5%80%BC%E7%9A%84%E6%95%B0%E5%AD%A6%E5%AE%9A%E4%B9%89"><span class="toc-number">3.4.1.</span> <span class="toc-text">矩阵特征值的数学定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E7%9F%A9%E9%98%B5%E7%9A%84%E7%89%B9%E5%BE%81%E5%80%BC%E4%B8%8E%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">求矩阵的特征值与特征向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%BE%81%E5%80%BC%E7%9A%84%E5%87%A0%E4%BD%95%E6%84%8F%E4%B9%89"><span class="toc-number">3.4.3.</span> <span class="toc-text">特征值的几何意义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5"><span class="toc-number">3.5.</span> <span class="toc-text">稀疏矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">3.5.1.</span> <span class="toc-text">矩阵的存储方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%80%E7%96%8F%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%E7%9A%84%E4%BA%A7%E7%94%9F"><span class="toc-number">3.5.2.</span> <span class="toc-text">稀疏存储方式的产生</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%E4%B8%8E%E7%A8%80%E7%96%8F%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E5%8C%96"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">完全存储方式与稀疏存储方式之间的转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%BB%BA%E7%AB%8B%E7%A8%80%E7%96%8F%E5%AD%98%E5%82%A8%E7%9F%A9%E9%98%B5"><span class="toc-number">3.5.2.2.</span> <span class="toc-text">直接建立稀疏存储矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E7%8A%B6%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5%E7%9A%84%E7%A8%80%E7%96%8F%E5%AD%98%E5%82%A8"><span class="toc-number">3.5.2.3.</span> <span class="toc-text">带状稀疏矩阵的稀疏存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D%E7%9F%A9%E9%98%B5%E7%9A%84%E7%A8%80%E7%96%8F%E5%AD%98%E5%82%A8"><span class="toc-number">3.5.2.4.</span> <span class="toc-text">单位矩阵的稀疏存储</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">3.5.3.</span> <span class="toc-text">稀疏矩阵应用举例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">MATLAB程序流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.1.</span> <span class="toc-text">顺序结构程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.1.1.</span> <span class="toc-text">程序和程序设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.2.</span> <span class="toc-text">程序的三种基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E5%92%8C%E5%87%BD%E6%95%B0%E6%96%87%E4%BB%B6"><span class="toc-number">4.1.3.</span> <span class="toc-text">脚本文件和函数文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">4.1.4.</span> <span class="toc-text">文件的建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.5.</span> <span class="toc-text">顺序结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-number">4.1.5.1.</span> <span class="toc-text">数据的输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%87%BA"><span class="toc-number">4.1.5.2.</span> <span class="toc-text">数据的输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9A%82%E5%81%9C"><span class="toc-number">4.1.5.3.</span> <span class="toc-text">程序的暂停</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.2.</span> <span class="toc-text">选择结构程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8if%E8%AF%AD%E5%8F%A5%E5%AE%9E%E7%8E%B0%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-number">4.2.1.</span> <span class="toc-text">用if语句实现选择结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">什么是选择结构?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%88%86%E6%94%AFif%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">单分支if语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%88%86%E6%94%AFif%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">双分支if语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%88%86%E6%94%AFif%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.2.1.4.</span> <span class="toc-text">多分支if语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8switch%E8%AF%AD%E5%8F%A5%E5%AE%9E%E7%8E%B0%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-number">4.2.2.</span> <span class="toc-text">用switch语句实现选择结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#switch%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">switch语句的格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.3.</span> <span class="toc-text">循环结构程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.1.</span> <span class="toc-text">什么是循环结构?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8for%E8%AF%AD%E5%8F%A5%E5%AE%9E%E7%8E%B0%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.2.</span> <span class="toc-text">用for语句实现循环结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#for%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">for语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8while%E8%AF%AD%E5%8F%A5%E5%AE%9E%E7%8E%B0%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.3.</span> <span class="toc-text">用while语句实现循环结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#break%E8%AF%AD%E5%8F%A5%E5%92%8Ccontinue%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">break语句和continue语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%B5%8C%E5%A5%97"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">循环的嵌套</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E8%B0%83%E7%94%A8"><span class="toc-number">4.4.</span> <span class="toc-text">函数文件的定义与调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">4.4.1.</span> <span class="toc-text">函数文件的基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-number">4.4.2.</span> <span class="toc-text">函数调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">4.4.3.</span> <span class="toc-text">匿名函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-number">4.5.</span> <span class="toc-text">函数的递归调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%B5%8C%E5%A5%97%E8%B0%83%E7%94%A8"><span class="toc-number">4.5.1.</span> <span class="toc-text">函数的嵌套调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8-v2"><span class="toc-number">4.5.2.</span> <span class="toc-text">函数的递归调用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-number">4.5.2.1.</span> <span class="toc-text">直接递归调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B4%E6%8E%A5%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8"><span class="toc-number">4.5.2.2.</span> <span class="toc-text">间接递归调用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%B8%8E%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.6.</span> <span class="toc-text">函数参数与变量的作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%AF%E8%B0%83%E6%80%A7"><span class="toc-number">4.6.1.</span> <span class="toc-text">函数参数的可调性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">4.6.2.</span> <span class="toc-text">全局变量与局部变量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">MATLAB绘图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%9B%B2%E7%BA%BF"><span class="toc-number">5.1.</span> <span class="toc-text">二维曲线</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#plot%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.1.</span> <span class="toc-text">plot函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fplot%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.2.</span> <span class="toc-text">fplot函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%E7%9A%84%E8%BE%85%E5%8A%A9%E6%93%8D%E4%BD%9C"><span class="toc-number">5.2.</span> <span class="toc-text">绘制图形的辅助操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E6%A0%87%E6%B3%A8"><span class="toc-number">5.2.1.</span> <span class="toc-text">图形标注</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#title%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">title函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xlabel%E5%87%BD%E6%95%B0%E5%92%8Cylabel%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">xlabel函数和ylabel函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#text%E5%87%BD%E6%95%B0%E5%92%8Cgtext%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.1.3.</span> <span class="toc-text">text函数和gtext函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#legend%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.1.4.</span> <span class="toc-text">legend函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E6%8E%A7%E5%88%B6"><span class="toc-number">5.2.2.</span> <span class="toc-text">坐标控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#axis%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">axis函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99%E5%9D%90%E6%A0%87%E7%B3%BB%E5%8A%A0%E7%BD%91%E6%A0%BC%E5%92%8C%E8%BE%B9%E6%A1%86"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">给坐标系加网格和边框</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E4%BF%9D%E6%8C%81"><span class="toc-number">5.2.3.</span> <span class="toc-text">图形保持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E7%9A%84%E5%88%86%E5%89%B2"><span class="toc-number">5.2.4.</span> <span class="toc-text">图形窗口的分割</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%BD%A2%E5%BC%8F%E7%9A%84%E4%BA%8C%E7%BB%B4%E5%9B%BE%E5%BD%A2"><span class="toc-number">5.3.</span> <span class="toc-text">其他形式的二维图形</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E6%95%B0%E5%9D%90%E6%A0%87%E5%9B%BE"><span class="toc-number">5.3.1.</span> <span class="toc-text">对数坐标图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%81%E5%9D%90%E6%A0%87%E5%9B%BE"><span class="toc-number">5.3.2.</span> <span class="toc-text">极坐标图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%9B%BE"><span class="toc-number">5.3.3.</span> <span class="toc-text">统计图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E5%BD%A2%E7%B1%BB%E5%9B%BE%E5%BD%A2"><span class="toc-number">5.3.3.1.</span> <span class="toc-text">条形类图形</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E7%A7%AF%E7%B1%BB%E5%9B%BE%E5%BD%A2"><span class="toc-number">5.3.3.2.</span> <span class="toc-text">面积类图形</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%A3%E7%82%B9%E7%B1%BB%E5%9B%BE%E5%BD%A2"><span class="toc-number">5.3.3.3.</span> <span class="toc-text">散点类图形</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A2%E9%87%8F%E7%B1%BB%E5%9B%BE%E5%BD%A2"><span class="toc-number">5.3.4.</span> <span class="toc-text">矢量类图形</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E6%9B%B2%E7%BA%BF"><span class="toc-number">5.4.</span> <span class="toc-text">三维曲线</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#plot3%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.1.</span> <span class="toc-text">plot3函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#plot3%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">5.4.1.1.</span> <span class="toc-text">plot3函数的基本用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#plot3-x-y-z-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96%E5%BD%A2%E5%BC%8F"><span class="toc-number">5.4.1.2.</span> <span class="toc-text">plot3(x, y, z)函数参数的变化形式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E5%A4%9A%E7%BB%84%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0%E7%9A%84plot3%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.1.3.</span> <span class="toc-text">含多组输入参数的plot3函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E9%80%89%E9%A1%B9%E7%9A%84plot3%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.1.4.</span> <span class="toc-text">含选项的plot3函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fplot3%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.2.</span> <span class="toc-text">fplot3函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E6%9B%B2%E9%9D%A2"><span class="toc-number">5.5.</span> <span class="toc-text">三维曲面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E9%9D%A2%E7%BD%91%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%9A%84%E7%94%9F%E6%88%90"><span class="toc-number">5.5.1.</span> <span class="toc-text">平面网格数据的生成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E4%B8%89%E7%BB%B4%E6%9B%B2%E9%9D%A2%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.2.</span> <span class="toc-text">绘制三维曲面的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E4%B8%89%E7%BB%B4%E6%9B%B2%E9%9D%A2"><span class="toc-number">5.5.3.</span> <span class="toc-text">标准三维曲面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sphere%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.3.1.</span> <span class="toc-text">sphere函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cylinder%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.3.2.</span> <span class="toc-text">cylinder函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#peaks-%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.3.3.</span> <span class="toc-text">peaks 函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fmesh%E5%87%BD%E6%95%B0%E5%92%8Cfsurf%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.4.</span> <span class="toc-text">fmesh函数和fsurf函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E4%BF%AE%E9%A5%B0%E5%A4%84%E7%90%86"><span class="toc-number">5.6.</span> <span class="toc-text">图形修饰处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E7%82%B9%E5%A4%84%E7%90%86"><span class="toc-number">5.6.1.</span> <span class="toc-text">视点处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#view%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">5.6.1.1.</span> <span class="toc-text">view函数的基本用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#view%E5%87%BD%E6%95%B0%E7%9A%84%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95"><span class="toc-number">5.6.1.2.</span> <span class="toc-text">view函数的其他用法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%89%B2%E5%BD%A9%E5%A4%84%E7%90%86"><span class="toc-number">5.6.2.</span> <span class="toc-text">色彩处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%9C%E8%89%B2%E7%9A%84%E5%90%91%E9%87%8F%E8%A1%A8%E7%A4%BA"><span class="toc-number">5.6.2.1.</span> <span class="toc-text">颜色的向量表示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%89%B2%E5%9B%BE%EF%BC%88Colormap%EF%BC%89"><span class="toc-number">5.6.2.2.</span> <span class="toc-text">色图（Colormap）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E5%9B%BE%E5%BD%A2%E8%A1%A8%E9%9D%A2%E7%9A%84%E7%9D%80%E8%89%B2"><span class="toc-number">5.6.2.3.</span> <span class="toc-text">三维图形表面的着色</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%9A%84%E8%A3%81%E5%89%AA%E5%A4%84%E7%90%86"><span class="toc-number">5.6.3.</span> <span class="toc-text">图形的裁剪处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7"><span class="toc-number">5.7.</span> <span class="toc-text">交互式绘图工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C%E7%BB%98%E5%9B%BE%E2%80%9D%E9%80%89%E9%A1%B9%E5%8D%A1"><span class="toc-number">5.7.1.</span> <span class="toc-text">“绘图”选项卡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7"><span class="toc-number">5.7.2.</span> <span class="toc-text">绘图工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7"><span class="toc-number">5.7.2.1.</span> <span class="toc-text">显示绘图工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">5.7.2.2.</span> <span class="toc-text">绘图工具的组成</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E8%8F%9C%E5%8D%95%E5%92%8C%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-number">5.7.3.</span> <span class="toc-text">图形窗口菜单和工具栏</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">数据分析与多项式计算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="toc-number">6.1.</span> <span class="toc-text">数据统计分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E7%9F%A9%E9%98%B5%E7%9A%84%E6%9C%80%E5%A4%A7%E5%85%83%E7%B4%A0%E5%92%8C%E6%9C%80%E5%B0%8F%E5%85%83%E7%B4%A0"><span class="toc-number">6.1.1.</span> <span class="toc-text">求矩阵的最大元素和最小元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E7%9F%A9%E9%98%B5%E7%9A%84%E5%B9%B3%E5%9D%87%E5%80%BC%E5%92%8C%E4%B8%AD%E5%80%BC"><span class="toc-number">6.1.2.</span> <span class="toc-text">求矩阵的平均值和中值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E4%B8%8E%E6%B1%82%E7%A7%AF"><span class="toc-number">6.1.3.</span> <span class="toc-text">求和与求积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%AF%E5%8A%A0%E5%92%8C%E4%B8%8E%E7%B4%AF%E4%B9%98%E7%A7%AF"><span class="toc-number">6.1.4.</span> <span class="toc-text">累加和与累乘积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0"><span class="toc-number">6.1.5.</span> <span class="toc-text">标准差与相关系数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-number">6.1.6.</span> <span class="toc-text">排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%AE%A1%E7%AE%97"><span class="toc-number">6.2.</span> <span class="toc-text">多项式计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">6.2.1.</span> <span class="toc-text">多项式的表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E7%9A%84%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97"><span class="toc-number">6.2.2.</span> <span class="toc-text">多项式的四则运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E7%9A%84%E6%B1%82%E5%AF%BC"><span class="toc-number">6.2.3.</span> <span class="toc-text">多项式的求导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E7%9A%84%E6%B1%82%E5%80%BC"><span class="toc-number">6.2.4.</span> <span class="toc-text">多项式的求值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%A1%B9%E5%BC%8F%E7%9A%84%E6%B1%82%E6%A0%B9"><span class="toc-number">6.2.5.</span> <span class="toc-text">多项式的求根</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%80%BC"><span class="toc-number">6.3.</span> <span class="toc-text">数据插值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E4%BE%8B-%E9%9B%B6%E4%BB%B6%E5%8A%A0%E5%B7%A5%E9%97%AE%E9%A2%98"><span class="toc-number">6.3.1.</span> <span class="toc-text">引例-零件加工问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%88%B6"><span class="toc-number">6.3.2.</span> <span class="toc-text">数据插值的计算机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%80%BC%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.3.</span> <span class="toc-text">数据插值的实现方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">6.3.4.</span> <span class="toc-text">四种方法的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%AE%E5%82%A8%E4%BB%93%E7%9A%84%E9%80%9A%E9%A3%8E%E6%8E%A7%E5%88%B6%E9%97%AE%E9%A2%98"><span class="toc-number">6.3.5.</span> <span class="toc-text">粮储仓的通风控制问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%80%BC%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">6.4.</span> <span class="toc-text">数据插值应用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%BA%E5%8A%A8%E8%BD%A6%E5%88%B9%E8%BD%A6%E8%B7%9D%E7%A6%BB%E9%97%AE%E9%A2%98"><span class="toc-number">6.4.1.</span> <span class="toc-text">机动车刹车距离问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%99%E7%9B%98%E5%88%B6%E4%BD%9C%E9%97%AE%E9%A2%98"><span class="toc-number">6.4.2.</span> <span class="toc-text">沙盘制作问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E6%8B%9F%E5%90%88"><span class="toc-number">6.5.</span> <span class="toc-text">曲线拟合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E4%BE%8B-%E4%BA%BA%E5%8F%A3%E9%A2%84%E6%B5%8B%E9%97%AE%E9%A2%98"><span class="toc-number">6.5.1.</span> <span class="toc-text">引例-人口预测问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E6%8B%9F%E5%90%88%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">6.5.2.</span> <span class="toc-text">曲线拟合的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E6%8B%9F%E5%90%88%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">6.5.3.</span> <span class="toc-text">曲线拟合的实现方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B6%E5%BA%AD%E5%82%A8%E8%93%84%E8%A7%84%E5%BE%8B%E9%97%AE%E9%A2%98"><span class="toc-number">6.5.4.</span> <span class="toc-text">家庭储蓄规律问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E6%8B%9F%E5%90%88%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">6.6.</span> <span class="toc-text">曲线拟合应用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%82%A1%E7%A5%A8%E9%A2%84%E6%B5%8B%E9%97%AE%E9%A2%98"><span class="toc-number">6.6.1.</span> <span class="toc-text">股票预测问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98"><span class="toc-number">6.6.2.</span> <span class="toc-text">算法的参数优化问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%80%BC%E4%B8%8E%E6%9B%B2%E7%BA%BF%E6%8B%9F%E5%90%88%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">6.6.3.</span> <span class="toc-text">数据插值与曲线拟合的比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">数值微积分与方程求解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%BE%AE%E5%88%86%E4%B8%8E%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%E6%95%B0%E5%80%BC%E5%BE%AE%E5%88%86"><span class="toc-number">7.1.</span> <span class="toc-text">数值微分与数值积分数值微分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%BE%AE%E5%88%86"><span class="toc-number">7.1.1.</span> <span class="toc-text">数值微分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%B7%AE%E5%88%86%E4%B8%8E%E5%B7%AE%E5%95%86"><span class="toc-number">7.1.1.1.</span> <span class="toc-text">数值差分与差商</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%BE%AE%E5%88%86%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.1.1.2.</span> <span class="toc-text">数值微分的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86"><span class="toc-number">7.1.2.</span> <span class="toc-text">数值积分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">7.1.2.1.</span> <span class="toc-text">数值积分基本原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.1.2.2.</span> <span class="toc-text">数值积分的实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E5%AE%9A%E7%A7%AF%E5%88%86%E7%9A%84%E6%95%B0%E5%80%BC%E6%B1%82%E8%A7%A3"><span class="toc-number">7.1.2.3.</span> <span class="toc-text">多重定积分的数值求解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E6%B1%82%E8%A7%A3"><span class="toc-number">7.2.</span> <span class="toc-text">线性方程组求解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E7%9A%84%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%B3%95"><span class="toc-number">7.2.1.</span> <span class="toc-text">线性方程组的直接解法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%B7%A6%E9%99%A4%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%B3%95"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">利用左除运算符的直接解法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3%E6%B1%82%E8%A7%A3%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84"><span class="toc-number">7.2.1.2.</span> <span class="toc-text">利用矩阵分解求解线性方程组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E7%9A%84%E8%BF%AD%E4%BB%A3%E8%A7%A3%E6%B3%95"><span class="toc-number">7.2.2.</span> <span class="toc-text">线性方程组的迭代解法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%85%E5%8F%AF%E6%AF%94%EF%BC%88Jacobi%EF%BC%89%E8%BF%AD%E4%BB%A3%E6%B3%95"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">雅可比（Jacobi）迭代法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E6%96%AF-%E8%B5%9B%E5%BE%B7%E5%B0%94%EF%BC%88Gauss-Serdel%EF%BC%89%E8%BF%AD%E4%BB%A3%E6%B3%95"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">高斯-赛德尔（Gauss-Serdel）迭代法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">7.3.</span> <span class="toc-text">线性方程组应用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E9%9D%A2%E6%A1%81%E6%9E%B6%E7%BB%93%E6%9E%84%E5%8F%97%E5%8A%9B%E5%88%86%E6%9E%90%E9%97%AE%E9%A2%98"><span class="toc-number">7.3.1.</span> <span class="toc-text">平面桁架结构受力分析问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E8%A1%8C%E6%98%9F%E8%BF%90%E8%A1%8C%E8%BD%A8%E9%81%93%E8%AE%A1%E7%AE%97%E9%97%AE%E9%A2%98"><span class="toc-number">7.3.2.</span> <span class="toc-text">小行星运行轨道计算问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%88%86%E6%9E%90"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">模型分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E6%B1%82%E8%A7%A3"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">模型求解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3%E4%B8%8E%E5%87%BD%E6%95%B0%E6%9E%81%E5%80%BC%E8%AE%A1%E7%AE%97"><span class="toc-number">7.4.</span> <span class="toc-text">非线性方程求解与函数极值计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E6%95%B0%E5%80%BC%E6%B1%82%E8%A7%A3"><span class="toc-number">7.4.1.</span> <span class="toc-text">非线性方程数值求解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%8F%98%E9%87%8F%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3"><span class="toc-number">7.4.1.1.</span> <span class="toc-text">单变量非线性方程求解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84%E7%9A%84%E6%B1%82%E8%A7%A3"><span class="toc-number">7.4.1.2.</span> <span class="toc-text">非线性方程组的求解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%9E%81%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">7.4.2.</span> <span class="toc-text">函数极值的计算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E7%BA%A6%E6%9D%9F%E6%9C%80%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98"><span class="toc-number">7.4.2.1.</span> <span class="toc-text">无约束最优化问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E7%BA%A6%E6%9D%9F%E6%9C%80%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98"><span class="toc-number">7.4.2.2.</span> <span class="toc-text">有约束最优化问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E5%80%BC%E9%97%AE%E9%A2%98%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-number">7.4.2.3.</span> <span class="toc-text">最小值问题应用实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%95%B0%E5%80%BC%E6%B1%82%E8%A7%A3"><span class="toc-number">7.5.</span> <span class="toc-text">常微分方程数值求解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%95%B0%E5%80%BC%E6%B1%82%E8%A7%A3%E7%9A%84%E4%B8%80%E8%88%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">7.5.1.</span> <span class="toc-text">常微分方程数值求解的一般概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%95%B0%E5%80%BC%E6%B1%82%E8%A7%A3%E5%87%BD%E6%95%B0"><span class="toc-number">7.5.2.</span> <span class="toc-text">常微分方程数值求解函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9A%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-number">7.5.3.</span> <span class="toc-text">刚性问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">7.6.</span> <span class="toc-text">常微分方程应用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lotka-Volterra%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.6.1.</span> <span class="toc-text">Lotka-Volterra模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%88%86%E6%9E%90-v2"><span class="toc-number">7.6.1.1.</span> <span class="toc-text">模型分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lotka-Volterra%E6%94%B9%E8%BF%9B%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.6.2.</span> <span class="toc-text">Lotka-Volterra改进模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">MATLAB符号计算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.1.</span> <span class="toc-text">符号对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">8.1.1.</span> <span class="toc-text">符号对象的建立</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sym%E5%87%BD%E6%95%B0"><span class="toc-number">8.1.1.1.</span> <span class="toc-text">sym函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#syms%E5%91%BD%E4%BB%A4"><span class="toc-number">8.1.1.2.</span> <span class="toc-text">syms命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">8.1.2.</span> <span class="toc-text">符号对象的运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97"><span class="toc-number">8.1.2.1.</span> <span class="toc-text">四则运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97-v2"><span class="toc-number">8.1.2.2.</span> <span class="toc-text">关系运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97-v2"><span class="toc-number">8.1.2.3.</span> <span class="toc-text">逻辑运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%A0%E5%BC%8F%E5%88%86%E8%A7%A3%E4%B8%8E%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97"><span class="toc-number">8.1.2.4.</span> <span class="toc-text">因式分解与展开运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97"><span class="toc-number">8.1.2.5.</span> <span class="toc-text">其他运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%BF%90%E7%AE%97%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E7%A1%AE%E5%AE%9A"><span class="toc-number">8.1.2.6.</span> <span class="toc-text">符号运算中变量的确定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E7%9F%A9%E9%98%B5"><span class="toc-number">8.1.3.</span> <span class="toc-text">符号矩阵</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%BE%AE%E7%A7%AF%E5%88%86"><span class="toc-number">8.2.</span> <span class="toc-text">符号微积分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%87%BD%E6%95%B0%E7%9A%84%E6%9E%81%E9%99%90"><span class="toc-number">8.2.1.</span> <span class="toc-text">符号函数的极限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%BC%E6%95%B0"><span class="toc-number">8.2.2.</span> <span class="toc-text">符号函数的导数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E5%87%BD%E6%95%B0%E7%9A%84%E7%A7%AF%E5%88%86"><span class="toc-number">8.2.3.</span> <span class="toc-text">符号函数的积分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%AE%9A%E7%A7%AF%E5%88%86"><span class="toc-number">8.2.3.1.</span> <span class="toc-text">不定积分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E7%A7%AF%E5%88%86"><span class="toc-number">8.2.3.2.</span> <span class="toc-text">定积分</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A7%E6%95%B0"><span class="toc-number">8.3.</span> <span class="toc-text">级数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A7%E6%95%B0%E6%B1%82%E5%92%8C"><span class="toc-number">8.3.1.</span> <span class="toc-text">级数求和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%B0%E5%8B%92%E7%BA%A7%E6%95%B0"><span class="toc-number">8.3.2.</span> <span class="toc-text">泰勒级数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3"><span class="toc-number">8.4.</span> <span class="toc-text">符号方程求解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E6%95%B0%E6%96%B9%E7%A8%8B%E7%AC%A6%E5%8F%B7%E6%B1%82%E8%A7%A3"><span class="toc-number">8.4.1.</span> <span class="toc-text">代数方程符号求解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%AC%A6%E5%8F%B7%E6%B1%82%E8%A7%A3"><span class="toc-number">8.4.2.</span> <span class="toc-text">常微分方程符号求解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">MATLAB图形用户界面设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E4%B8%8E%E5%9D%90%E6%A0%87%E8%BD%B4"><span class="toc-number">9.1.</span> <span class="toc-text">图形窗口与坐标轴</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E5%8F%A5%E6%9F%84"><span class="toc-number">9.1.1.</span> <span class="toc-text">图形对象句柄</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A5%E6%9F%84%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">9.1.1.1.</span> <span class="toc-text">句柄的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.1.1.2.</span> <span class="toc-text">访问图形对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E5%8F%A5%E6%9F%84%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">9.1.1.3.</span> <span class="toc-text">获取特定图形对象句柄的函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">9.1.2.</span> <span class="toc-text">图形对象属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E5%85%AC%E5%85%B1%E5%B1%9E%E6%80%A7"><span class="toc-number">9.1.2.1.</span> <span class="toc-text">图形对象的常用公共属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8A%A8%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-number">9.1.2.2.</span> <span class="toc-text">图形对象的常用动态属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">9.1.3.</span> <span class="toc-text">图形窗口的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.1.3.1.</span> <span class="toc-text">建立图形窗口对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%AA%97%E5%8F%A3%E5%B1%9E%E6%80%A7"><span class="toc-number">9.1.3.2.</span> <span class="toc-text">图形窗口属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%B4%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">9.1.4.</span> <span class="toc-text">坐标轴对象的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%9D%90%E6%A0%87%E8%BD%B4%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.1.4.1.</span> <span class="toc-text">建立坐标轴对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%B4%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">9.1.4.2.</span> <span class="toc-text">坐标轴对象的属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E4%B8%8E%E6%9B%B2%E9%9D%A2%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.</span> <span class="toc-text">曲线与曲面对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.1.</span> <span class="toc-text">曲线对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9B%B2%E7%BA%BF%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.1.1.</span> <span class="toc-text">建立曲线对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B2%E7%BA%BF%E5%AF%B9%E8%B1%A1%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7"><span class="toc-number">9.2.1.2.</span> <span class="toc-text">曲线对象常用属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B2%E9%9D%A2%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.2.</span> <span class="toc-text">曲面对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9B%B2%E9%9D%A2%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.2.1.</span> <span class="toc-text">建立曲面对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E6%9B%B2%E9%9D%A2%E5%BD%A2%E6%80%81%E6%9C%89%E5%85%B3%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="toc-number">9.2.2.2.</span> <span class="toc-text">与曲面形态有关的属性：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E7%85%A7%E5%A4%84%E7%90%86"><span class="toc-number">9.2.3.</span> <span class="toc-text">光照处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%85%89%E6%BA%90%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.2.3.1.</span> <span class="toc-text">创建光源对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%89%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">9.2.3.2.</span> <span class="toc-text">光源对象的属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8F%8D%E5%B0%84%E7%89%B9%E6%80%A7"><span class="toc-number">9.2.4.</span> <span class="toc-text">图形对象的反射特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95"><span class="toc-number">9.3.</span> <span class="toc-text">图形用户界面设计方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">9.3.1.</span> <span class="toc-text">图形用户界面的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%8F%8A%E5%85%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">9.3.2.</span> <span class="toc-text">控件对象及其操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6"><span class="toc-number">9.3.2.1.</span> <span class="toc-text">常用控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%8E%A7%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.3.2.2.</span> <span class="toc-text">建立控件对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">9.3.2.3.</span> <span class="toc-text">控件对象的基本控制属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.3.3.</span> <span class="toc-text">菜单对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E8%8F%9C%E5%8D%95%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.3.3.1.</span> <span class="toc-text">建立菜单对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E5%B1%9E%E6%80%A7"><span class="toc-number">9.3.3.2.</span> <span class="toc-text">菜单属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7"><span class="toc-number">9.4.</span> <span class="toc-text">用户界面设计工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E7%AA%97%E5%8F%A3"><span class="toc-number">9.4.1.</span> <span class="toc-text">图形用户界面设计窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%BC%80GUIDE"><span class="toc-number">9.4.1.1.</span> <span class="toc-text">打开GUIDE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E6%A8%A1%E6%9D%BF"><span class="toc-number">9.4.1.2.</span> <span class="toc-text">图形用户界面设计模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E7%AA%97%E5%8F%A3-v2"><span class="toc-number">9.4.1.3.</span> <span class="toc-text">图形用户界面设计窗口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1%E5%B7%A5%E5%85%B7"><span class="toc-number">9.4.2.</span> <span class="toc-text">图形用户界面设计工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%A3%80%E6%9F%A5%E5%99%A8"><span class="toc-number">9.4.2.1.</span> <span class="toc-text">对象属性检查器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">9.4.2.2.</span> <span class="toc-text">菜单编辑器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">9.4.2.3.</span> <span class="toc-text">对象浏览器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%B1%9E%E6%80%A7%E4%B8%8E%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">9.4.3.</span> <span class="toc-text">回调属性与回调函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%B1%9E%E6%80%A7"><span class="toc-number">9.4.3.1.</span> <span class="toc-text">回调属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E6%A1%86%E6%9E%B6"><span class="toc-number">9.4.3.2.</span> <span class="toc-text">回调函数框架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%B8%BE%E4%BE%8B"><span class="toc-number">9.4.3.3.</span> <span class="toc-text">回调函数举例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.3.4.</span> <span class="toc-text">运行图形用户界面的方法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">10.</span> <span class="toc-text">Simulink系统仿真</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Simulink%E4%BB%BF%E7%9C%9F%E5%9F%BA%E7%A1%80"><span class="toc-number">10.1.</span> <span class="toc-text">Simulink仿真基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Simulink%E7%9A%84%E5%90%AF%E5%8A%A8"><span class="toc-number">10.1.1.</span> <span class="toc-text">Simulink的启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">10.1.2.</span> <span class="toc-text">系统仿真模型的创建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Simulink-Library-Browser%E7%AA%97%E5%8F%A3"><span class="toc-number">10.1.2.1.</span> <span class="toc-text">Simulink Library Browser窗口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Simulink%E6%A8%A1%E5%9D%97%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">10.1.2.2.</span> <span class="toc-text">Simulink模块的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%AD%98%E7%9B%98"><span class="toc-number">10.1.2.3.</span> <span class="toc-text">模型存盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8F%82%E6%95%B0%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.1.2.4.</span> <span class="toc-text">模块参数的设置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BF%E7%9C%9F%E5%8F%82%E6%95%B0%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.1.3.</span> <span class="toc-text">仿真参数的设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%B0%81%E8%A3%85"><span class="toc-number">10.2.</span> <span class="toc-text">子系统的创建与封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">10.2.1.</span> <span class="toc-text">子系统的创建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Subsystem%E6%A8%A1%E5%9D%97%E5%BB%BA%E7%AB%8B%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.2.1.1.</span> <span class="toc-text">通过Subsystem模块建立子系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%B7%B2%E6%9C%89%E7%9A%84%E6%A8%A1%E5%9D%97%E5%BB%BA%E7%AB%8B%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.2.1.2.</span> <span class="toc-text">通过已有的模块建立子系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B0%81%E8%A3%85"><span class="toc-number">10.2.2.</span> <span class="toc-text">子系统的封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%89%A7%E8%A1%8C"><span class="toc-number">10.2.3.</span> <span class="toc-text">子系统的条件执行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E8%83%BD%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.2.3.1.</span> <span class="toc-text">使能子系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.2.3.2.</span> <span class="toc-text">触发子系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E8%83%BD%E5%8A%A0%E8%A7%A6%E5%8F%91%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.2.3.3.</span> <span class="toc-text">使能加触发子系统</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#S%E5%87%BD%E6%95%B0%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BA%94%E7%94%A8"><span class="toc-number">10.3.</span> <span class="toc-text">S函数的设计与应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E5%8F%ABS%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.1.</span> <span class="toc-text">什么叫S函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8MATLAB%E8%AF%AD%E8%A8%80%E7%BC%96%E5%86%99S%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.2.</span> <span class="toc-text">用MATLAB语言编写S函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.2.1.</span> <span class="toc-text">主函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.2.2.</span> <span class="toc-text">子函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#S%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">10.3.3.</span> <span class="toc-text">S函数的应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89S%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.3.1.</span> <span class="toc-text">定义S函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Simulink%E6%A8%A1%E5%9E%8B%E4%B8%AD%E4%BD%BF%E7%94%A8S%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.3.2.</span> <span class="toc-text">在Simulink模型中使用S函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Simulink%E4%BB%BF%E7%9C%9F%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">10.4.</span> <span class="toc-text">Simulink仿真应用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B9%A6%E6%9E%81%E8%B7%B3%EF%BC%88Bungee-Jumping%EF%BC%89%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BB%BA%E6%A8%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F"><span class="toc-number">10.4.1.</span> <span class="toc-text">蹦极跳（Bungee Jumping）系统的建模与仿真</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90"><span class="toc-number">10.4.1.1.</span> <span class="toc-text">系统分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9E%8B"><span class="toc-number">10.4.1.2.</span> <span class="toc-text">仿真模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BF%E7%9C%9F%E7%BB%93%E6%9E%9C%E5%8F%8A%E5%88%86%E6%9E%90"><span class="toc-number">10.4.1.3.</span> <span class="toc-text">仿真结果及分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B9%A6%E6%9E%81%E8%B7%B3%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">10.4.2.</span> <span class="toc-text">蹦极跳系统的安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%82%E6%9C%80%E5%A4%A7%E5%AE%89%E5%85%A8%E4%BD%93%E9%87%8D"><span class="toc-number">10.4.2.1.</span> <span class="toc-text">求最大安全体重</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%82%E6%9C%80%E5%B0%8F%E5%BC%B9%E6%80%A7%E7%B3%BB%E6%95%B0"><span class="toc-number">10.4.2.2.</span> <span class="toc-text">求最小弹性系数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">外部程序接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Excel%E4%B8%AD%E4%BD%BF%E7%94%A8MATLAB"><span class="toc-number">11.1.</span> <span class="toc-text">在Excel中使用MATLAB</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spreadsheet-Link%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.1.1.</span> <span class="toc-text">Spreadsheet Link程序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">11.1.1.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE"><span class="toc-number">11.1.1.2.</span> <span class="toc-text">设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MATLAB%E5%91%BD%E4%BB%A4%E7%BB%84"><span class="toc-number">11.1.1.3.</span> <span class="toc-text">MATLAB命令组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86Excel%E8%A1%A8%E6%A0%BC%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E5%88%B0MATLAB%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-number">11.1.2.</span> <span class="toc-text">将Excel表格中的数据导出到MATLAB工作空间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-number">11.1.2.1.</span> <span class="toc-text">操作步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8EMATLAB%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E5%88%B0Excel%E8%A1%A8%E6%A0%BC%E4%B8%AD"><span class="toc-number">11.1.3.</span> <span class="toc-text">从MATLAB工作空间导入数据到Excel表格中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8Excel%E4%B8%AD%E8%B0%83%E7%94%A8MATLAB%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E8%BF%90%E7%AE%97"><span class="toc-number">11.1.4.</span> <span class="toc-text">在Excel中调用MATLAB函数进行运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%87%BD%E6%95%B0"><span class="toc-number">11.1.4.1.</span> <span class="toc-text">选择函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">11.1.4.2.</span> <span class="toc-text">设置参数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MATLAB%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">11.2.</span> <span class="toc-text">MATLAB文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%89%93%E5%BC%80%E4%B8%8E%E5%85%B3%E9%97%AD"><span class="toc-number">11.2.1.</span> <span class="toc-text">文件打开与关闭</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fopen%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.1.1.</span> <span class="toc-text">fopen函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fclose%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.1.2.</span> <span class="toc-text">fclose函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%86%99"><span class="toc-number">11.2.2.</span> <span class="toc-text">文本文件的读写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fscanf%E5%87%BD%E6%95%B0%E5%92%8Cfprintf%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.2.1.</span> <span class="toc-text">fscanf函数和fprintf函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%86%99"><span class="toc-number">11.2.3.</span> <span class="toc-text">二进制文件的读写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fread%E5%87%BD%E6%95%B0%E5%92%8Cfwrite%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.3.1.</span> <span class="toc-text">fread函数和fwrite函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%AE%9A%E4%BD%8D"><span class="toc-number">11.2.4.</span> <span class="toc-text">数据文件定位</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fseek%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.4.1.</span> <span class="toc-text">fseek函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ftell%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.4.2.</span> <span class="toc-text">ftell函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#feof%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.4.3.</span> <span class="toc-text">feof函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%AF%BB%E5%86%99MATLAB%E7%9A%84%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number">11.3.</span> <span class="toc-text">在其他语言程序中读写MATLAB的数据文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MAT%E6%96%87%E4%BB%B6%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">11.3.1.</span> <span class="toc-text">MAT文件的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E7%A8%8B%E5%BA%8F%E4%B8%ADMAT%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">11.3.2.</span> <span class="toc-text">C++程序中MAT文件的基本操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mxArray%E5%AF%B9%E8%B1%A1"><span class="toc-number">11.3.3.</span> <span class="toc-text">mxArray对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%92%8C%E6%B8%85%E9%99%A4mxArray%E5%8F%98%E9%87%8F%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">11.3.3.1.</span> <span class="toc-text">建立和清除mxArray变量的函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">11.3.3.2.</span> <span class="toc-text">验证数据类型的函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">11.3.3.3.</span> <span class="toc-text">读写数据的函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">11.3.3.4.</span> <span class="toc-text">转换类型的函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%B9%B6%E8%BF%90%E8%A1%8C"><span class="toc-number">11.3.4.</span> <span class="toc-text">生成应用程序并运行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8MATLAB%E4%B8%AD%E8%B0%83%E7%94%A8%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%BC%96%E5%86%99%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.4.</span> <span class="toc-text">在MATLAB中调用其他语言编写的程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MEX%E5%BA%93%E5%87%BD%E6%95%B0"><span class="toc-number">11.4.1.</span> <span class="toc-text">MEX库函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MEX%E6%96%87%E4%BB%B6%E6%BA%90%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">11.4.2.</span> <span class="toc-text">MEX文件源程序的构成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E5%AD%90%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.4.2.1.</span> <span class="toc-text">入口子程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%AD%90%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.4.2.2.</span> <span class="toc-text">计算子程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MEX%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%96%E8%AF%91"><span class="toc-number">11.4.3.</span> <span class="toc-text">MEX文件的编译</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%B0%83%E7%94%A8MATLAB%E5%87%BD%E6%95%B0"><span class="toc-number">11.5.</span> <span class="toc-text">在其他语言程序中调用MATLAB函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MATLAB%E5%BC%95%E6%93%8E%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">11.5.1.</span> <span class="toc-text">MATLAB引擎的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MATLAB%E5%BC%95%E6%93%8E%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">11.5.2.</span> <span class="toc-text">MATLAB引擎的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MATLAB%E5%BC%95%E6%93%8E%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C"><span class="toc-number">11.5.3.</span> <span class="toc-text">MATLAB引擎程序的编译与运行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">12.</span> <span class="toc-text">思维导图</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/stardust14/picture/img/test09.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By stardust</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'HTNDsPzD87VFJzxigXr0LgQT-gzGzoHsz',
      appKey: 'rujMRAYTJMNb3muoM0nm6YCs',
      placeholder: '请留下你来过的痕迹吧~',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '//i0.hdslb.com/bfs/emote/',
      emojiMaps: {"[tv_白眼]":"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png","[tv_doge]":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","[tv_坏笑]":"1f0b87f731a671079842116e0991c91c2c88645a.png","[tv_难过]":"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png","[tv_生气]":"26702dcafdab5e8225b43ffd23c94ac1ff932654.png","[tv_委屈]":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","[tv_斜眼笑]":"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png","[tv_呆]":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","[tv_发怒]":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","[tv_惊吓]":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png","[tv_呕吐]":"9f996894a39e282ccf5e66856af49483f81870f3.png","[tv_思考]":"90cf159733e558137ed20aa04d09964436f618a1.png","[tv_微笑]":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","[tv_疑问]":"0793d949b18d7be716078349c202c15ff166f314.png","[tv_大哭]":"23269aeb35f99daee28dda129676f6e9ea87934f.png","[tv_鼓掌]":"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png","[tv_抠鼻]":"c666f55e88d471e51bbd9fab9bb308110824a6eb.png","[tv_亲亲]":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","[tv_调皮]":"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png","[tv_笑哭]":"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png","[tv_晕]":"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png","[tv_点赞]":"f85c354995bd99e28fc76c869bfe42ba6438eff4.png","[tv_害羞]":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","[tv_睡着]":"8b196675b53af58264f383c50ad0945048290b33.png","[tv_色]":"61822c7e9aae5da76475e7892534545336b23a6f.png","[tv_吐血]":"09dd16a7aa59b77baa1155d47484409624470c77.png","[tv_无奈]":"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png","[tv_再见]":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","[tv_流汗]":"cead1c351ab8d79e9f369605beb90148db0fbed3.png","[tv_偷笑]":"bb690d4107620f1c15cff29509db529a73aee261.png","[tv_抓狂]":"fe31c08edad661d63762b04e17b8d5ae3c71a757.png","[tv_黑人问号]":"45821a01f51bc867da9edbaa2e070410819a95b2.png","[tv_困]":"241ee304e44c0af029adceb294399391e4737ef2.png","[tv_打脸]":"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png","[tv_闭嘴]":"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png","[tv_鄙视]":"6e72339f346a692a495b123174b49e4e8e781303.png","[tv_腼腆]":"89712c0d4af73e67f89e35cbc518420380a7f6f4.png","[tv_馋]":"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png","[tv_可爱]":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","[tv_发财]":"34db290afd2963723c6eb3c4560667db7253a21a.png","[tv_生病]":"8b0ec90e6b86771092a498c54f09fc94621c1900.png","[tv_流鼻血]":"c32d39db2737f89b904ca32700d140a9241b0767.png","[tv_尴尬]":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","[tv_大佬]":"093c1e2c490161aca397afc45573c877cdead616.png","[tv_流泪]":"7e71cde7858f0cd50d74b0264aa26db612a8a167.png","[tv_冷漠]":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","[tv_皱眉]":"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png","[tv_鬼脸]":"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png","[tv_调侃]":"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png","[tv_目瞪口呆]":"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png","[2233娘_大笑]":"16b8794be990cefa6caeba4d901b934a227ee3b8.png","[2233娘_疑问]":"0b41f509351958dbb63d472fec0132d1bd03bd14.png","[2233娘_吃惊]":"d1628c43d35b1530c0504a643ff80b6189fa0a43.png","[2233娘_汗]":"247cd9df8cdf84b18368c21e3b2dd374e84c0927.png","[2233娘_大哭]":"476a2a60f6e337b8c0697a592e0aa82781f6b33b.png","[2233娘_困惑]":"714eeb4eae0d0933b4ff08b7df788b1982f6b940.png","[2233娘_耶]":"d7178e258a0efc969b65ccc2b1322fb235f5dff4.png","[2233娘_怒]":"f31953119c51b9748016440ac0b632f779929b37.png","[2233娘_卖萌]":"ea893aa25355de95ab4f03c2dad3f0c58d0c159e.png","[2233娘_委屈]":"d9d0bf9d358af8d5761093ec66d4e3f60d963a63.png","[2233娘_郁闷]":"485203fe7100f2c8fc40b2800a18fe20b35f2f1a.png","[2233娘_第一]":"3754ee6e5985bd0bd7dfb668981f2a8733398ebd.png","[2233娘_喝水]":"695bf5429472049b52c1e0de586f8a2511195a23.png","[2233娘_吐魂]":"e999af499edf38a91ca68b1a9d2f97042c1d6734.png","[2233娘_无言]":"fdb5870f32cfaf7949e0f88a13f6feba4a48b719.png","[加油武汉]":"eb966aaa5b690d3f9308a9f936f5b5a72a7f956b.png","[口罩]":"3ad2f66b151496d2a5fb0a8ea75f32265d778dd3.png","[鸡腿]":"c7860392815d345fa69c4f00ef18d67dccfbd574.png","[微笑]":"685612eadc33f6bc233776c6241813385844f182.png","[笑]":"81edf17314cea3b48674312b4364df44d5c01f17.png","[呲牙]":"b5a5898491944a4268360f2e7a84623149672eb6.png","[OK]":"4683fd9ffc925fa6423110979d7dcac5eda297f4.png","[星星眼]":"63c9d1a31c0da745b61cdb35e0ecb28635675db2.png","[哦呼]":"362bded07ea5434886271d23fa25f5d85d8af06c.png","[嫌弃]":"de4c0783aaa60ec03de0a2b90858927bfad7154b.png","[喜欢]":"8a10a4d73a89f665feff3d46ca56e83dc68f9eb8.png","[酸了]":"92b1c8cbceea3ae0e8e32253ea414783e8ba7806.png","[大哭]":"2caafee2e5db4db72104650d87810cc2c123fc86.png","[害羞]":"9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda.png","[无语]":"44667b7d9349957e903b1b62cb91fb9b13720f04.png","[疑惑]":"b7840db4b1f9f4726b7cb23c0972720c1698d661.png","[调皮]":"8290b7308325e3179d2154327c85640af1528617.png","[喜极而泣]":"485a7e0c01c2d70707daae53bee4a9e2e31ef1ed.png","[奸笑]":"bb84906573472f0a84cebad1e9000eb6164a6f5a.png","[偷笑]":"6c49d226e76c42cd8002abc47b3112bc5a92f66a.png","[大笑]":"ca94ad1c7e6dac895eb5b33b7836b634c614d1c0.png","[阴险]":"ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c.png","[捂脸]":"6921bb43f0c634870b92f4a8ad41dada94a5296d.png","[囧]":"12e41d357a9807cc80ef1e1ed258127fcc791424.png","[呆]":"33ad6000d9f9f168a0976bc60937786f239e5d8c.png","[抠鼻]":"cb89184c97e3f6d50acfd7961c313ce50360d70f.png","[惊喜]":"0afecaf3a3499479af946f29749e1a6c285b6f65.png","[惊讶]":"f8e9a59cad52ae1a19622805696a35f0a0d853f3.png","[笑哭]":"c3043ba94babf824dea03ce500d0e73763bf4f40.png","[妙啊]":"b4cb77159d58614a9b787b91b1cd22a81f383535.png","[doge]":"bba7c12aa51fed0199c241465560dfc2714c593e.png","[滑稽]":"d15121545a99ac46774f1f4465b895fe2d1411c3.png","[吃瓜]":"4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84.png ","[打call]":"431432c43da3ee5aab5b0e4f8931953e649e9975.png","[点赞]":"1a67265993913f4c35d15a6028a30724e83e7d35.png","[鼓掌]":"895d1fc616b4b6c830cf96012880818c0e1de00d.png  ","[尴尬]":"cb321684ed5ce6eacdc2699092ab8fe7679e4fda.png","[冷]":"cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed.png","[灵魂出窍]":"43d3db7d97343c01b47e22cfabeca84b4251f35a.png","[委屈]":"d2f26cbdd6c96960320af03f5514c5b524990840.png","[傲娇]":"010540d0f61220a0db4922e4a679a1d8eca94f4e.png","[疼]":"905fd9a99ec316e353b9bd4ecd49a5f0a301eabf.png","[吓]":"9c10c5ebc7bef27ec641b8a1877674e0c65fea5d.png","[生病]":"0f25ce04ae1d7baf98650986454c634f6612cb76.png","[吐]":"06946bfe71ac48a6078a0b662181bb5cad09decc.png","[嘘声]":"e64af664d20716e090f10411496998095f62f844.png","[捂眼]":"c5c6d6982e1e53e478daae554b239f2b227b172b.png","[思考]":"cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c.png","[再见]":"fc510306bae26c9aec7e287cdf201ded27b065b9.png","[翻白眼]":"eba54707c7168925b18f6f8b1f48d532fe08c2b1.png","[哈欠]":"888d877729cbec444ddbd1cf4c9af155a7a06086.png","[奋斗]":"bb2060c15dba7d3fd731c35079d1617f1afe3376.png","[墨镜]":"3a03aebfc06339d86a68c2d893303b46f4b85771.png","[撇嘴]":"531863568e5668c5ac181d395508a0eeb1f0cda4.png","[难过]":"a651db36701610aa70a781fa98c07c9789b11543.png","[抓狂]":"4c87afff88c22439c45b79e9d2035d21d5622eba.png","[生气]":"3195714219c4b582a4fb02033dd1519913d0246d.png","[干杯]":"8da12d5f55a2c7e9778dcc05b40571979fe208e6.png","[爱心]":"ed04066ea7124106d17ffcaf75600700e5442f5c.png","[锦鲤]":"643d6c19c8164ffd89e3e9cdf093cf5d773d979c.png","[胜利]":"b49fa9f4b1e7c3477918153b82c60b114d87347c.png","[加油]":"c7aaeacb21e107292d3bb053e5abde4a4459ed30.png","[保佑]":"fafe8d3de0dc139ebe995491d2dac458a865fb30.png","[抱拳]":"89516218158dbea18ab78e8873060bf95d33bbbe.png","[响指]":"1b5c53cf14336903e1d2ae3527ca380a1256a077.png","[支持]":"3c210366a5585706c09d4c686a9d942b39feeb50.png","[拥抱]":"41780a4254750cdaaccb20735730a36044e98ef3.png","[怪我咯]":"07cc6077f7f7d75b8d2c722dd9d9828a9fb9e46d.png","[跪了]":"f2b3aee7e521de7799d4e3aa379b01be032698ac.png","[黑洞]":"e90ec4c799010f25391179118ccd9f66b3b279ba.png","[老鼠]":"8e6fb491eb1bb0d5862e7ec8ccf9a3da12b6c155.png","[2020]":"dc709fac0d361370bcf0d36d32adb97df7c95824.png","[福到了]":"5de5373d354c373cf1617b6b836f3a8d53c5a655.png"},
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="//lib.baomitu.com/jquery/3.5.1/jquery.min.js"></script><script src="https://myhkw.cn/api/player/159721473362" id="myhk" key="159721473362" m="1"></script><script src="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/js/Foster.js"></script><script src="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/js/hideCategory.min.js"></script><script src="https://cdn.jsdelivr.net/gh/stardust14/CDN/HexoStatic/js/title.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>