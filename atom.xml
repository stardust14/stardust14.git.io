<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>STAR</title>
  <icon>https://www.gravatar.com/avatar/3bc5e602b2d4c7fffe79258e2ac6952e</icon>
  <subtitle>blog</subtitle>
  <link href="http://stardust14.com/atom.xml" rel="self"/>
  
  <link href="http://stardust14.com/"/>
  <updated>2021-08-19T02:14:40.166Z</updated>
  <id>http://stardust14.com/</id>
  
  <author>
    <name>stardust</name>
    <email>邮箱</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Android</title>
    <link href="http://stardust14.com/2021/08/13/Android/"/>
    <id>http://stardust14.com/2021/08/13/Android/</id>
    <published>2021-08-13T07:31:55.000Z</published>
    <updated>2021-08-19T02:14:40.166Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="b4a3099c169b4d4a67bef17e979759410ebe1a7a51efb3754f187d2331866e7f">a8ca320e4f83a6279a070900fee4a45df917f8a1def1482325c55ec8b82d274492c608e2563b53b73809fc1e19f9c11d11ddd7d652251c520bfd9e74a3f32e20a4ea1a2036039724ae706f031e4a4b5a0e170dc22381d1f2bfb7b5a36553280619a52221f2b07e45435b320088314bdebb0eb13fdef9cc97529b2a108dcf7c9d0a3d336f5e6c8458a2b197cb59ce82a5b3282230a73884f55392e7026bbff0dad77217cce68a7da22ec6d673d575f637cab621bb1446bcdf9015bcacae82aab37d545a8204ef0d48de1826cf85bc354ff233bccff6e2b8c50bd58ecf01b55beb3b9e276a78f1d2857a8eba2c28e3d5cb44072bff4a9b8846b9cb73254e6d167980f3fa5b8e8cde853477318b2ddd7efc53fe8a22fe6b57533bbfc3d476e394c8221570f59edd127fa19b82375002ca472ce85ede72f7bcc4025ee241029266add2f2c51c28b8ee810124a51399322bcb57d8c0657cce2d7143861fa2c858229bbf3ecb5ebcdf631d9f4b1411652b4799404eece98adab6cad0fd815c92a5541b266d5e2529e978a88ee73d749a30bbd63b98ee6879acb07655239674e68e72a244af8d84eb81646641d3a115d04d8833e4ff21d875fe4cfbab6749035c460fcf97852b855b3aa93b77ae9ecfdd86df24484f25c760c77d039882ec97302364cff17d1faea0c3d30421ef5b953915986b6d398dc09a9d64aa1facd6187956e28f4f63c47f9bf2e224d292b48c5da7e3a3ee34f81e140e5dd04a2a9a9f209b9944c6d2a0876e1e8fd49513dc4e5a333d1b037f184c0f508191585dee99e2777072d442bd392d8ee474103b83f8653fd09609c7d64b8190d11fe11aed11eaa3d42196c992eebb565811ceb1f243795468b2338b32eddada464da645b75053626f403f9fac6fd91c83492548c85b5d9e47f7e8f6697bb04e0c474c2c726abc1889e5000639f8cd673c7a8542f1fc68c0b58de663e82d88e6cce4ea6e73bae2ecfdd46b4d8e5812bf366872a658514fe27ea8e3b591332bb9fcf51edaf360c7d336b5bcac277e2d5fceb763b13d66ba93e02530a6f2250849f0a3cc571638a335394874be1bde13dcd484c2759c512177623f10eac4b1a5c9db386c49a6c8275911a29a6e73805e70109e6d738e1ba5b0c33d63dc778cbbb22889d575be7d09e4fad5ab254882eb8297243f7c071d053016929d8d173f9eb3dac4b5946196d1ab0895ccd9ba5338117744068b5286391d3ebf177b94726b6338a677be0ab717cba6bc1fadfa185dbb359eab89d34027f174097ee720a010f57532a9fb29b95ec69798a65ae33a0a4f55484fd0c8e579291393c86665be4627a464e12b209f9f5f7c4025c9e7d0998f917f97aa829650c81688dd22f810d5cb9ddcdad648560de8d7037177af8a4e2607de14fbfc6d5673fe41f8e6f865bbd7fac8ea5dfb73ed3f9a78303b281275a15bfb45d6fed9124d83e63dd167858843b114d81a1d68005f9c8260e4fa407ac312598618e9ae4ef10c220b69467ee4dee04325a588355e0cbe9ace6ec4baeaab02c25ceff14b07ed771589b2e492d14c6587015804725250a263ac2f7b27352a0db02318edcea4b3273fbf4063412eeb78fbd8175101c4b926aad14f6a56047e0c983bfe8b2f112921f6480a23b97d0dfcbfa5f4ff92905ebb58242e56fe30b86736696d90c482a070596cace96de878bcc5db2f1c9036e8bc332140d1b31eece86e8b7951f9e6985b22029e7fdebb67e87840db711ac20d821c28818029a047d03d777b45499532e6f5ebb255a124f4389de3d81a0abd118e9f8c73d269711ad0e1dddb6b9a71ec6fb693ba1359ada24037021b20482a2bf50de0a94d7c3b4a52ca004ab508ac2f1e1235f388cb8420f816e47389901a5cc80e10e6a7cb49d10191539ceb44fc56dbceaab893d2600b0dbe7558c90edf860199c68e556d9536703ed617818224bf549387a03401f6530bd2ad748c65122a11a29cbf2e416846e999c205e1979d9aa7c3f7a8281a4b77b0ce4534d283efccfc44a2adbc5db4d0c42fdea77520fa3b2204cd3179df0d10a6eec3214322ce38a95e8bba95aee2073e39c6566c6d49f70e7b08349458764e7d94bdf2b6bef36a6ea2d72fe2da8076654ad26e86e9f14ecadcc2d11546d158d344969a1027a2f14b37b01f0e239023a588a0772fb8148ed54d1f7c45fba9bdfb6e27096229679c485911a72ffde1c0c880aaa3611cfb0df63c8725cff371939ae58360bd32ced7b88adaf37d1ef79187ef4239fcf288ad304a5ecd72d2cde07c49c7b840c44b4a61368c2c8e24edbb65e255494ea37babc8ff57ec384b959468a064bdd2c844c0f274d96c79c54d738b2c105c1f23e73ac3324236a10308c6cd69c17d5ca2e0ac388aa6a595fc809a8ba4b2a6f858dd723ecce9f69dda82543b71bfe1476f6c2224c58b1be5153d2d9835c3e84e029c390fe10edb504ea78e4c5c584730edbaf97a311cda655bcd21891498eab27265e9991172df5e8433ac3aabef88561c1e8a3b7cb523561de498bf84c27798e58bfe67ac76c1dffa38dee59d5ba27085b578332f9fc081afa756735c70cec381e966e6746e74379bb6132f53245245ea0bb36a4a35c7ccfce26b93467bf5bde2d14dd58d4d6d77d99038c2c1188d934c2f0751d22f5ba1415e47aa226bc6cd6b47fdc8fe036fb9cbde5ab1d4453e6bbb592dcb16514b318b1a114938aa262521735087f270535d05873ca7f93923321ac194757c5425387b61e93268b22510fb4bf94aa31d9b1ec8c804cba7690fc989ef2cae0fdd3774eed4fda060b8e51a94b919034f076b1d621d06c0611c119ace2ee5f051aabf2f5719400b2d515bb688b1afc45447b2e0ed582b3d23e241bd1cf7a1ad54407e5940b81f24995e514c91f4eba03b705074ada495961d5c0d025f68feb1bc704d1c4c92c02f630e14985bb0f81d18ae8faae7b82e045f3d6b30cead7d19a718f89d72ef4036e54ad2ae96ec19466b51f4e0a72509e0587bfc43ffe546d5622e1f46d4a0b9cb3b7295115a8c920eba39697c1503344450202390121556cc69a8f4640546e3f0efea8024e2a34d3db0ab63cdfcfcf7d60f698ea8043b4cda327ba06e9e40dc559de6a41010cdf07eeb582360219839539726a14df789b5c86f49add937ef526d70d20538bccc70e3bc5a94da5ddb6d1c8e0fc55530195bda2e0346d6fe422c81d42f453a3b8773f2fe506b325c8af0657e42a7798f6adf1791a3b47652f0886c90fb2c728f8cee11db95243234c765bcf467f8d3775aea94145ba3fff6b71c4acb81f61b122a1ed5e7ea528a7771889097d572554fae249324365df32f205cc3442a30339608965b98bd149469b7f82b3a524c8f4b704250411d77e1712adc0901bbad9e869ec9ad054c9bd677e8d047b1b4e623011d8c8adcfdf5f95ed393584867e733bb34f2f1dc08adc91926fbfdc76e3c78a018cdb87270e1dcb6a1955f6e59c5220e1dbeb7a9a623023df7d671b17ded57496d26755028b679e7cc9f196af30646bf14ecfb5fa130ab5ceb35a1d0ed649f8e1a9c65cfbb20e74927724f771ff304377354b255c7a55756b9872fe9dcafd816a47b633b0bceeca28d0695e77df8e179d28c2959d7ae303c77a1800e99451a76c35fdaae62ed067eaca791a917316c4a4a2c5328270499ae07e37003c0587916d7b1a4bc1d93fffab4b6fc3fa2c6bc20424604ee9705b0f99daa4cdee40d430bac6c49daf2031c2b1a7764e82c36fad2fb55f7d1242d86654fe1cafa6169f796024088175d6f87048720805cb9e7a049a047d1d705ad4f281f8f532aefd76344f1acc9c33dba1ca3ed487bded11dc6c38ab0ecaebfb4e036a7bf52d4615a0cff343e6d91d608161b096ad9abd4a5e67e3095b7456a0710bb32562fbf42561aa0f8d7dceac241f39dbcbf3e4c4c61c2ea6cf5535f4795df5882ed629231645cfaa36c675705b6d5eceecf1073929bca26a171f636b390fba15cdd719bcafacc563522d7720ae75daed2ae8daba9b06501ec011307ebcebced7b60d5a2b9563f96ab63a115c74c0d57092ff8a90021129e8656b305fced29f0a4ed4b2b3fb51a74f413121f2c0aeed34aff8b05dc4bad21f51c8e5b5ac245f6033aeaa0efbe8b75e0a30bf7693460a3b78708b359be3ba7e7723da760470d101d138cf913ae009f0d2fc0e03a6a39e70e0cce9bbee262981598a21adb5b34364a3781a623229dd83e10e99aa2995df87a87298c26a3d1259e982e079f50aa4fcedca3794d5a884a63fdbed983d86ca852680daee013a1d6553df381dafc510cd06a10884d7851910a363bd4b0c6968d74c0cd01897af35c45f6cb36a1d97d4accc4d8dfee1d61345010e946a36db8d5e2bfc834e52cbb70735d6ecfb897c31911db34bcdeeb2ad3e4968b5fd91df11b1b21e1ffe01110354890b1d70f6f1a321e51320fcbc5d95db564b8fa1816fe2cfd806afd1099db3d993c7cd986816662d7464f3728feaed2e625977abdb65e0d1423995106627f9a0d307c425d9974e216b6221c8cf337f536943960e324317b68d0f64b960a267a45334116bc345e71e3f54eadf2db03e0538e457930c378e3fc95dbfa74ef57b2713c0738cd7d8c968a298f1a469656e540f8e49406b6de75767705c093813493feba7bbb6f98eab95896b10784e5bd0a2e90107b7005712efc480b41dc800a2d9055cdcca278fbc612205cca2e4b46a168dfde294ccc8b74160069995826012fe51c03cfece82dd5ed26eb3ac04e8d0670b2df0c71ad1d790c5b48ba2059a8d2b1e6cc6c63d28c4d7997272ae56a405e0387797f2eb4abc5fbc0e756066e157f0435d467f07defbf0844f1ec69a7d2b737cbf32237dcabc038f2ec4d9b21d258bcb62ecbb2f1ac75f6a383d1778921b2d3193f67144e208aee200a3a72b3f9047db6a18e931be7d12068936412c3a0bbcbbe9b434cdfa0c9df900dc88f7967ac4e54683724610461fe8821142703f32bb6193c9b4a2f2b6b573d60514131d4a8a77a60afb53c1369d44acaf464322f0ec7fa5f9125b8fffb4ffed5295cf385fd700da8281e02b4946860e089794b1e182c089fe99378209bb466d5c1b4ff265b26818b553847efaafe17dd0d480ede049e64639aec1f53fbea72655df020b1a340c235e197365f69636490971f8152589293aa8e37cfb991cb6557aeea9c8c3150f3db606eb85502b0da25e13ab9e42186f97bc9ccb30285bc341961ea07a3509c7ecd93ba504a315a78facba7953eb7cea127b93746d6258da15e4a17edb94abb225355489c8e98b6a9158f2bee4d885a6637a13dea4821533c6e1267405d989f990e261fbeb0574604fa1ecdf75b4fad1773b1a169b0ad8a999644dd51406017fa6394b468bde04984f110c8cb08aefd70459b43e4a33b6f6f0efc878b10e748e39cb9759cb8cd53190635c7b8c09cb7cf73dc1dc31118381b735387eddfee2e71a6343d6857053404be7204d50e8f2b252c67dc37b17f70be89dce0e622de5b1930b8c37d55c82d6c6afc2e71da88bb7f3584073aa538d45767cacb1fe546012f3e252a41a5b0a0d4d930c73285f0aaff3875e9f2ce6e70608b30fc3ae27bb7e13408c3aa3692c19f1ef6477ac8b57e888fdc48f2c2774ac341e90d588b6a0cd5107eebcf4cc01ebe3c3f8898916aec7b46cc3bd5a063679ce6ab69b0732a659f41db1538cdf1aaabd28ccb15568e2b27336221c60ce0c15a5557b3207a89cbd37cca10c1eceff088b97b86cffc88ef6a359fedde3e613ed3290e03bff9ce13a853b7d9ca87e430b8126305c1aefa5c7d610132a0c4e132338b45519cc9fbbf09b5fd8f5ecff964d145d896882d5654ffc5f3a22317c3b66112607618f5b8d32ec6d9f9c6de73b5563bc333ab7a2c587491c174a2dcefe4031c755aee6a75bdb2aa52c2649adc26eccb98ef20b2af8d11b0bf9537bb0beea0e3e5a7e7484c278bf51bb4b086f896fd785d5059eed2b14def4f3457c202b0c1effb8c75ec070d7161cc39ae4a7716260cbf3039ca88e6dd1df0a30d6cffcc3a932d186ce10a9983f1526c485d4b7ce053fb58d96a0bc4cea2fece1fdbbb9621b4d592f2d1eff1079d7eb3f4f2daab3ac5a4e8bf25852bf40d457afcb4543bfa97356f49abb99e35fac4f49dd4f407a683ed7871b38410681dc128d8d5d8c41bb2df6c2e8d9c225087c24c948ce5b7d58183f279c516c7accaa6682118cce16069677876a8bb98bb2069373f08ee69c659ea9a47f6549dcd221d8d01d54766f9d2a5119b3b5a0ac048ce8f7b0065362bcd61b37834854e97f5b401f6e3445a839eeaa0104cc0a7294665bcc539be95722657e70e76a600af2db8332791817133586cbd50c1a12d04b9d7f2470d684167c22fc0fec677bf647d08a6f04d63c1c3420efe2f10742817c942afb1ee7bf4407d7a22db80e9d3e469091840bed62a9e2499479fa9165e2613e44803e054b39cc5b97ef33d65a3cd5c87ffeae0d769603f11d116f82c1424d4a5909b81eaaa8847d450b24eb5173142a3269097ca79baabe4df8c44ec901f96c7da6272f8877c486c129ee064a5eb8f774c9441a48ed8fcb3c0e5b9825318bafcde3a37672a700c6da5c3feb870d5077c69cf586a116754af839b48a3677d8e76c07acf7c58c88e2906440c221e6bee3d97fbe5bf6d2cafdebaa48b4db9286783106be6f2ea7c1d23535239cb9c742df29bcca752b4622ab4446dd5ea1045c8146f44280814de1e1470d4a9cd2338ac183d7437c5b3acd8a8d284cca3409a48a9f369b72355a155e81d861a08d58dcecf37c73313599b76f304dce7ea5aac15de86e98f33c711afc24e5a9ecd1b93cd24a0045d41a53b6f31313f52c002c27e9b8c70476317f526ec2360857079558d42f05d06967ba1b9d7120ef9c7fb17a096ef1a44db44c919e032d71dedb7cb7696271aa82c22bc53f1f5cae1e114c51f2f31eb41bcc5a3f130e93e263a19a028559ffa9a0f827a66317cacc4a0d468fb493ebc7bf1455ad410e1a3e6e4191110902c72d4b49aa84f66f66627a09d33fede3ec0a1b57e9ba5b5611d43f1e959de419b8a182d166f8fb1d4ad3a312a373a40729d71a9ac5fde720b1cf2bf60b64661e8a07412d5fff71e23acb55e760b90c3ee0744b97e83c8c0b7180db0b270a9003b8627bcc0033c8792aaf3b0e0afb36b6c5ed058d3c31f632c85dc20bb52b5b95f22b67a4c0285e8a19d0cd89357d85bd064f30cf737ad3d9a70a3f9921821376c8bb13071a0e1a9f18802e039117f7b35ac10056db685c83f24ebee4bc2ef0c4eca19fa61e44d56ed6f8845a3af6bbe6f462d722b07d82d997a07ac254fb57cac98da2fd81391727821772de19196b8f5befe71ddb971500651e4c53b20c2c059cd276e03c4c891d9537946bdd2b03e34e607daf6a71dbb46a56f0e32a34bedd36058162f82f8f7d523c552a81bcf74883bbdc7abbbec69c324553414a49ce34ed9b13af6c56ed8ff5de319126f9303a45cfb11fc90f3c3fa619afdf028fa00e2e04e35b66e5cac5a6fd8873fb91ea3da1deb7e0dc90ab32a7f27bbecf21cd49df35f64ebc745671aefc5340a931bbb2fc141f5af4133500df3a58101084a7872d8a51d42bfb671350255200bdc55f9a6cbd6bf66fbe2934773dcb0bd484fa44f03c99f7f788e500aaf1caa41a750ca7600fbb99b35dad98d52b1de2ebcd318c10fb88a013d82134c0ec4bef5633ecb8b96e25dd53b842ba0dce6dddf14c043dc0bf8afb896d0d85b5a176ac9fbb690d1a5a6a66c8dd60fac6ca9e93a474a8b8e744ba96e2c2064b0c11bff60005e306de9ff6db622601c775e07f8823d436398c3af82a0ea5dfb77a6c5609b587aa1ff34686223b3fa1db07a75707e261e51f13abb598cb5ffa118467a6c019a83a250041317beef1b71649a578957b79fc6f91c0c99cc79c4c7c7b643333c133dcbf631c3710655cd2b4e1b48dd05d711d43245af1ddc865018889b89066a746149ffe8a6abba81b8815bdf88f7e7a354b1b888d310ac93cce63c9f956911bfa85e114cd201c1fb42941a7b2347145eb845d8efb18d8c80a5d626544e618fd1f39eff24675790e0e40367e275bec99c9d7aee49f39951b5de7bca103b3da78e45ab3c1f514b6bbbb1433b206d9e8378a295210b69c015628f486d5b31b4c3de9a62e4660387a5008da8bf83b716fbfc7a4f1d6dc1470fba2502b4aca7c77a76ef5b51cc74efc1efcbab7754d59fe7782cfbf93cf7f3341954ad90f97e2ce807fb967f9096a7f631dcec5f050b3c83feea5185b31fcfda166f99300ecb5837ec26ba2a0a5cf2a52d07dabf0f7ab6eb8ffef5dd33e855ab86d2dc03d467d3fe3da00f15c9dd112dfcb82071e7cbf92637a5bf15a56925c2ce0274b1b9a4fb0596934eeb72f740c4480d76e78e715340c4220d3698a383bd9f7178ea35cb58fac0e03c1dfc850d2b90329163d0c238014e1a72486bb62972acf14b328a052b03c45e7974807ab8f61ffe31434d921c1b38ea64de844c43271472847005b7c8aaef7cdf143af174354a0a2002f174442b8ad6bf024e4a5910b2be1293d8826c06a97a410d5ff914a1df389637a128fc83ea1222d157cd1c1cf973bff61d08adacedfb502c92bd44ba144512a9600915f31b9dc46bb73e0f07dfac5126c7326c356611f4d1bf1d2a077736f8b13ee47df343cba9cfb8376c78b80bfa1af4f88867bc320104971c12247cbf26b308f390043a5a607d945b1a45e4977dcf2b4369d224ab22fa0f05e76db43d0528b7f59d4213d8c1f38834cd9af12564f37d1fed3e5571eab7f62ead6253003a4190923228fab19a9d13bba306b813e81c0eba65ca51cba449767a2b09ecc1e8112be7118115dd7a550aa5d05ce9cfb326d11f243b91c1aa52f01dc877b3014ab30037cd372e8ddc6027c6d5170d7ed095f7a916d7e10bb7869939f0d2f67a284d7a49846bc994222c596d6542e13b70737f8672673ed0813addf3181a646c40167c6fb19b95b3cbcb65f87d65f8978a263178c39dee46973b08f2fd373ac9909e611d1489655fe0ccc1f53031a5e285a6eae4282fc32e6888b0f75fb92864f8c1d91c56faecf6cd435c173a14673fd8834a53fed8e2cf9f947a79c315ee98fad4c720309c2ce0f4840205d9e1b7341c70bab11e66f709b93b5c80b5b2bc92a741df9ee188a8818bc058bf68c42518c9c733fa3105b792c71f0149cee0f0bc8e029f00a269c7d961f15d776a6fe83cfc24e25f79151c8c6f5676e5ec25541e0f4ec21364efab2256206dd772356d303a9c2cc6c4c482e02f0c736a5ca6fbcda4084cc66c2c3bcca6b1a0260ce4488be6f68d34dda8a27370240a3a1bf366f23e152ad6a6eaa7ad876d6899f1a810529bbb73cd162a183131bf56ede5e493dc082de385605b732c5619daf8b8cdd4deb920b3b2eb48cd5dd668c51d640857fd8c319d7dc7d6e0790d08dd625dcaf1cc64ed10e31bd696f93a5b84db027d58b563d867ff04026dab4c5df02c0f74a6d4584a4bc89af30fe727867265192803c6fc177b790e73eb6a8809dadc63e646c611666b7931cf7ccb1b345bd5f08f316632bdcd445933cba4c215e14b0dbb83a18ccce597107f8192f27b8d2bdd0199f57a6e880b88ce06550f01dbfe4e2d6a469d0ebadca640f6cc73cdd94aef2ddd17e178c7cb2beeeb3bae53ea0ce6070122cf298bf1ee90b54df88ecb4119eba5e7bedcecc4068117d0a74e8dddb1decb83186a0732d160b178a828b7caef4fabed49bb2f192c353aece3bf8fa6f72cdd164b47efbba73e902b76b29138763f44a855b86ca217f70c0b6d8b6b7b644b533e6b8a6ce8f7da02f60eb30ccfd6e64f53923bc1e973b4348020f9d073c450c7201c9710f90f9796cab370b70a8baa88a54f99ea1ba5936a45734325de07b78ff155eeaa8a01b4d91824b03722e8eb598daa4fc848d76cf0700e21d100d5e221cb7df0b764ae5d2b30e35b97002125f49f59c3039e8241c7da1499bdf263604f66ebca5d185e0c10584b87b51661f338d31631e666a2d817809a76cfd27bc8dab458414efbb7a25e7cc690b49d92074627babbe2651b3997d189db77adc9234e8a31b32b6c47ba5073f069ed11c432fb3509043c4af08eb24bdfb1acbdfa540a464d5615adce34d4d5f0ab9bd110b2d44d2eeb118bed370a7b5db0591106ce405210535b40a73ee4826e30518b495c7b3d6cdbf995c4e910c04af5ffe923dd7dfc7b3979a172f18e078a2bd1d0e9d42d5b5ecb810b883e95094478fe8169be23537a962d6f30f791f7b99331482ea095f7f8d7a7aaec6f25ebbd8be2c1710765fb6904083abe589cf0a3fb889aea03bc97d14c757a8771b9997091b7d4e071852c7fa80aaa5cc65873919de997826236fc4bf876d8c8a872a65c044e468da952503618837017b0440a8b138c8911b4509a13c325bb8b95c9167b559b138b8a65e137a84316ab2440264b22ec267ad611d47e90388bdb8e1faa46b30176e7d505abd5cce6faa643c03c88e58e5ba31ae1dca0d9fd0ba965a4d4e5fa95671530c6191dbe57384940bef94e1d6e68ced31004d7f75600be091060c50b1b0951f14cbeb9e6c267c7792d02289db385b74f1b41ac89da5436177b1fc6b014a0ecc796f8cdfb609c99def023e49203d7773f42f82fe783d2bdefa2b638c32689289f9126502ff57d1318ebf23d2db41aa35da72388c849611ad34676434f01bf92fda9956ffb4d02129c6e22e112d357807419cc1b86cafcb53e545bd60d17f1be4cf451707c486f4cbce3e1f95e083b06f2231fc55d9aaf982702d6b972a4cfe0fc5db0c9bd48f31d23829043013da0c1a11de8583cffe737d123d7d1c2ae7c85a35f084148e383f746e692616a816912e7b6c92e16dcbdb08035af7dad2af1832e5527100c21e385e6cd9205d296718c253309b415adf92337ffd93ca049b4cb88501666bd0539be7b911e09f4e4c9196c87e3d61f3b10fbaac86ac4169c14b0127efc87481fe72404032e99b65d8a2749e96e5e6924ced9d359ab2249cf037b4c1ff2e9a822118815dc8f9918fcf3419ab71a40e0423f50573a8aee2b94f3b5eb62c863c7eee46ba75398d4207a9a8dab9d85e0ececea824e6dbb5a68b9d5acccdf249cd07f3b97a01e09554d2c33e6d8f1a80758b7759f272f483dbb6f203649f64155b0979f814a8c8f7ec38069aec337355c2c86f9c05146ec5828067e3d1f1f2a1ed7352495b2e2d6104749626655bd486bae2b53f69a84af80052825013ef420fcf7f03c6265e0aef4b64fc950bbe33cb30b0c537ffe16e78d06c2119c94b1c32b02c51784a001ad8eee33d4d8de6619ca52315e5ceaea1053f4bab36147ef323902f9a0f2fab7f0d5d2f1e2c173ad8794e98660486cbd8e8f557c7aab070d4cd5a13a8c5c746853e3cef9710db99b372701e5dd365ca620af5d280f39293e3d74fae86eced2561297be2eab201e5dfd5aa5441f71d2bfdf0322849c0c533ba9f85719dca369cdaba9d0d73a86583d71bc1d63b39d26c66257fec0f5a7e241531371e0eddfd6e2ce3f480077d03af25c7fe12a6b4b9f53fc2bc2931ff653265826ab3c9028ea2d008bf94f70911ff77615f16c38a6c860713c97bff6332e8d81491287def1edb7302e70fa33036c8fc2bb49c30d7c6c4928222389a3b5c3365ea7e0266ef6f531a11d379aa10b0ad094488b861d316d1f4f9941cef470e671ec26b56277ccfb14ba2f2cd58decc7da2a10ef04bd324f0c9feae591c61f66a7d7b90eec3956c8ae989609848e851074a3219dde52de1fffa514efaa48689f6523a24ec3d613e177846b70c619ea238022f3bbefd28f04320d12d705005a4d6c09b2e9ed370569d5ba4d6163f240c1cd1e5bfb7803c3dbbcb2c61424264d3989d6140e044a4becb053721c394ecb9ef7eca3b66f0c451d607eb511a0cfa9f56a6d404f1f42a9214aeebabb5161b2b8eda227eb3a7c4505d091d670d5e622a2b411c00f9e467b8705b48a48ab243e3add1fd1167d0623e196020b2c08feec6ad429e12c8744dedf535220906e69cae6ede8f9f33f74df6727b1f08729ff2fd3040341ae3f20ac94d7bc96ffb7811cc49a0e8e471c1dbebde7ebd542dc33b65db0907fa64727bad0ac3119163d4ff95f56a8a5e5598978c27718a27bff83c108fb025df2a36104423a9829c034102a53d0030f1ca8ea3ef931ec49e7a3ff2e023eaf277a22f205298c720dfa0c395e41157cff920bfcd899b5a2cc32b443eab2ac4f947b4df38b6722c9c3db7500b784bd6cd92d926e7f6788cfb626cfbed6b0e97dc2a0dab77650b4de885348b698fcda0b944247d87aac419d2ffeac3f7b47f29117d7b8fea294f8acf49bf9565ddffec31cf7689edf00a99da095f6496aaa2aae40efc72e492e815a626ba629f43f463573c2457e12fb49e5677debf4c12ebcf756b66154fbc74df67d2417fd9a7bad3e203a235ae414e9e4d26e06a4edff4b459852371dd11061e46db28a83ef21e8de352f3753eefc755315d3f65beb746167c7b3f54dd7bcac624bb2610d0750bd7661657a75d6beb69f999b2fa9e654df1a1a58d348c9ffb6c9f6d032918b7d8b81bff0d57881bd837cb91670e36b6bd625b1d5ca6a43517f8b2d7f1b3e55ab22f16ac92419f6bbc89d9eb83d969f94031e1a62efcc15916bf2dbd21e5690a0341e60f7b65eb2fa7238f341b94792581c2a8929d21254095b5e9b9a1c8695d84fa324e2dceaa150a9c262211cecf436ba6b97df834cbc6e4c858106bb5f80273d0ec62057e621fe9a1530bb807eb3cffc945d037ff9b8e9c83c210f414221b53d00ccdb070411e68afa92e799df2b173c1eb9214dbb994b1a51f7306b68de906b44f24bd277e5d1380b30903f4db0a6f138bba23a8a835e3c856d9e13dd5fe04f834c869b21f4c54fee1386a162e3dc944553337a97ae9623171480ce4e365431ee31d2548f9936fa44755a8e230a8221d5af610e09e0fb1447a8d101a37f1c37ff8425131f72d969ad1ba32847e30320b0d436c86f38b11519504ebdf17edf083b1d58188d82026a28ec344fd6e14b59b55f6968de5ed1d53b017354b7c811da627be3bbeaa66528903d55e8cf33f32f114bed403f4b2fb538adb6fcec8a4e9ff3fca1c404ca533ef89d7604600a214f9d69796baa29dee535440ee287410974b5a73912e2d4dcb654d3282cf176ca1a3be43ebec89adf3707a313740cb2081a0802e58118194d7bb3c30b1afc97499a027e77553bcb0e7b012085809dbc38e1d286cb5e0495224943402870c5f65d1783cb8afd79960c6e4fe104de732d114ee1357883e1a7cce53a2581e7ce859a238ef28ec156e4ce7db3f848548b5bd1a88d7d3f23dd8345be4b93a085d2f093d7ff81f63315adaea942fc5c8e76e2a5597d4b5248ebc7f0fcc780304fa7b32d43306cfe311e2ccb25086728eac3ecb21bd757f0c2421261b0928b868e45430fe7e8a62bcaf30684c8aadbbec6d67ce862c6b7fa8ec2228b048fbbd9c2b4b064b7184e8752f5be11b3d4bca4eae171cbc8fa48b047c42ba857be8829f167bacf6d8016528bd1a0ce36c977a5b140c1e2c8874e175b5e6ce454c7336c368946da35df74e5d046fd3bc28791ee93fcf81f7973e67855845e5ddce382deac35623accae334dad1f7cfeac09bed26f6026300909655884cd4dd4caa98482c8b14a74dbd7faf461c5bf5a9f7e7a2f19ba51b4d16f24dd350870f444a4aa2f929de143c11fded137f8cb9b9cf4cd08f36ba6c658620fcef8277903ce7cf0dee45eb35a446aa599a31d7d5036b160b41e07bdfca1a5d1ff6b7aed26bda69121f7ab4755f065353f44c8a2f06dc933725ac53c1b03ca0daddf0d4a8a06bab4f8f3c0c9f68ae421071c2eb1cf69a8ae47242f87444f1300a2f7eb9ae990dc95de01b5aefcba11cce07952065e0938511002e7da6f45468781d9e4a8bd6b659ebc101ee2031887fc82798f92b69a018c0440f161e76d1048b6bdbb513efef952fb0763d77ee477718c596a4c49d33c004ab1de8f9daad9a299c35bc8a7c069b115cb8078c13e34655c511803f9860246f6c58203ff5e5e7b0f83d162428420053cdf2d5d63b69a2356f488cee7bbc2a8846a78e4fde1f54f207ba924c0aa68884b921aa7c230041fe02550e6e2b30207aac7edf9851996bbedd086170d9378883987a046428f017b30e551062926d554f1cf37272e96c7185df67504a092cc33cc2875c14643611a0268c22ac56c849b6128a8c224db20b1e590be0607023f2b4fab1e36e7cec2be65f3b957ff411ed2d37b0fbeb1f1e1079b5946f50cb515cdeb95975a0d147b9a11b94674d310cde08607b4a1200dc8575bb5b986737dabca4beb4ee89ed09db8ecb1aa8f776fb64ebd7687af87c353c1f88c16c0bac4a799109de5323c8c8faa61dabc5fb3ba0dbdbf743c9c0f3005bafc48d3cf2ddda87e29beef9c751c8424def7a90573587f588c98f9036021855450289db5dca3e7dec42b2adfffaf46d6ba0811a0569a70457f123e99871e841966cf60c19789dd3f8416f684663679710500f5c308b676f9522f0ed2f4e98638459adeda092e56f89de4289562d87ea77569de79ae9f58244bf1d1c1a45173428d2c373f3261aeec839f056b9b288c7621fe4c366c7147a46832fc9c11de2a5d855ac0d236886383460b54612c10975d14711d327a3b2753238f7752be1c4184e89dd20bef33b198929d35695d39c642a88ca2c3313caad1c551506d939c03cdf2d80c0aac0e6a5eba633bb7f56fa274523205ff1dfc9b0c0b7e0c17e500e37299f6b09ab567eb04a082f1d9a91839a7786f8dae018dc9947cece02ea946e524f2b4776c0ecff37aa63c52e3551f5c94eb7095211aae25b716b492e020cc727096b2c32dd888e56827075b3441886e73eed6288873fb0e69a655e2827640b217191ee552bec87cc1d814cc52f5034a13b55099e0a0dac7e76f12d96dad80e5128c81737045b8a0bf6055182834ee8f9f3f4c77c879e4be5f04d9422633d18fd4dd44635c0da81f51f0eee481e105ce67ca150ed6336417f1a029c1362623411420f22723094193d61e3f80858ee88ba0c43c733bf067db104707555335aa1e9c00e60d97eba5b711aecb380a020fb389058be35d0780b57998dd8bc50495a5fc7444578c8511f3a3a92c2cb87a4fb4817b2a92b304d52f1f2ceffa763a0b277331f3b94bfb113a3593b142c4f45110681d3f37134f1492c5328da291fce4bf36c8ebbbbc4161fbc6a67db152022183defeffe3c8912effbb88f01238bc27034d91b8a3f8690a26b0e5aea67d55bbb36ed0e8c140170765a377d43d46ed6c6579f44f969288f129785a713171ead179fb9be3aa66dcfc1196db5130d88abb6312aa497fdbf1267f0f0f90d5604b23e64f742ecd9f9bd967d183f2f0e4ed82a1d0a4b5236a37dc35b469ace7f0572b8c0d5267d1ce773d5f6a72ca1abdc3b0dd2c90dada867a877bda0139f5badc3405c43b3b951f29e9b532bcf61c48225d1b024875f47405f16d8d0da638da62b1e0563180f82b7db0774365af64ef3b0e4ac43393969323b2e8dae041388ecb704d8835afd778f24b5bfbeb35dd708254a6985fd449214c4bcecbf77ead002ce0c25736e9332a728121816aebe70550d1c388958ee37f1b279470605f267b404ff812c29e39e1faee4b7363f0ec58e4916010554855b5b6bce02b2640805f7e8910f2eb6271ac0bdd0c01cfdd8cc94182c9cfc3c0db9c4714f4dea35fb14aa23879201239c6e41912eb13365677d136619efaa490378a5333714a046c2c5789b319a3440d1142de462dc8351c4468328369876a3b1229850e9013b87a41c753afa76fe8609850c7c6ea2156bcf405e9989886b020ec463739c403fdcb43972569894b9a3ed85fadb6cfffcb512a3a7b195cdb843b537addd279c81220996747a76923f60d778961a76490ff8384574200089c1c5c454c380fe8ee8232f8a4b8aea56172810d04345fbe83b914e4a898c6df8e14c4807f5c46def0940da8f89a83ee019c809e846d49d8bf3eeadb6bd7029e46d961776d74b24d4be26a6716b0c94f4c0220b506d70ddda92015ab5b0b1587ae6037c627e044cd98cd22dbb441a05be49bea09c93f42c98bef6e8468ec49d4d7d30395cd603ff325bbf11685ffcaa560a79778a54763417f2c8930af414c1288c00de812d7762ef5ce144e55c720f73d3582393524f963a2905217edd464a65031cfc559addf5dc02e51354915fc2523fcd1f95917f200fd258cb5969ea7c31ecc1f088bfb504742cd08aa80906478bd2f139fe6a330c5e35a6c66a939641aee90deee82fad0256858e2c8a91e08fcbf702b910709d3bbfd6269668e9c42b3893442f5863ab7f9a0e0a121ef37f06d8d8845d9ef5135edf67ab836456ab8f118616e870b19235e9070d98eaf91bc2df70e753dc0d144a7e80de99c990178d66dc7cb516cfc8818bb78277fac0778a886df2e837109f2c6284893ef2f3a37d52f99e96d0bcbf91e93b11369d4ad87dff29c7f08b6b63dfcdbce6c01dca54e93d60e45a2b25772629fddb7c598c8e1f820ee387cc2174e5c1760de744731c5843c378e39627b44a1b12a04d24f5a6d347a4d0bc91456fe623c45a1f44de21be590721305670449c7959bd6f96b77a43f78d981a11c6274e687b376331c2628763d5bf6540c41c2b21e613000eda9452885da4a8c1e51f85eb83bb75371d93e19e9494587576398bf65462f32c0c378a0d55d2b9ed427da08ef6d6a03322637e3de78775de8e038f75a6fda7f7d2d73d1c42b2eebc7a91fea14eb96b3ac5c3fc0e4cc419beb11c6af241e322eb32653d81d6335229e99990e248be891839c385b3d3e0c94a158a096537ce7d1fa903e6d2896ae90f39ecbaf10d642c34168571b6d3072a04fe3819cfaefb4e88a9f1da763d028d9818193d5bd46a381d24cac81444cd9511d38491e37ee5693076aba54e6c513c5f370841dadfa2d4e41fd8c6a5f59865af04494090c9d0f9efb38b40f28ae0427613b306d1a3524d4db9d38f64b618adb2cd02fb69028ae8e28251ffa8246f180ca16778e81afc172ceb245b604d74cfd7efc6cd0ceabc8e2e120277bd4a05715f140a20399d6530e58ec49ee5d6d878c153e87fd181acc2fff9b49cec300e38acd0c08d5e61eccd90584962dc7524703ac4d7f10112c0b41758d975a038857650276f97fcc3dba026e590c06d9d745087d3c64b95334e1aea6d5a63f6aa29ee73f26cfa330574b7c849df3be3944affd2cbbd49492591f622130c27a63099828b5781cc90607cbcf1c55156bfa3cc3f476606faab98a4c459440037949e72ad8c52aec9f09a10fc248d992765ca4108654f97a7c6bc248509e5c310708a4254a406b616dad073e349d546592249008807e2004de8dc18c5aa281194b3295154e69d6e00fcbbbb2b36874aec807d9502a72823113237741fe0c8d6d16fa3ef886db761540a69a145b75a2127e8525890eda1f9e23e35b6cf103cb4d138f08a90d24b0c53e54d9d66b88b789b6b0603dc67a1d3cc1c0f572dbd2074c5d3a3346b3528007e435acb18ce2a280667aa7e192eb9fe13a21e0714167f7794c9b07c056ae7a14f8070e13c512f0094dc4e1ac3be5e3d66d4f1fe10d4db5c5804aac9044cb74c215f2d6fb0f2d9a11f31e4706f18ed97bae3c4719bd98a9df83415beac2cfee68e9d65d8b0a70345de85fce0ce827129f5b74d9c57df705e5c9e9cbe3cd4ec27a5687f7f3271a9c8f72cbd70a784cca933742db70ace5c94b579d4dd29ca674396e47292fda7bc7171e653b2a1a6da1bc7ad63e0bc021c1e8da520280cd47631459971717ca4dc55ae4d799203c5ca1cc9ec35161226b5cb01d827e952d58c33a0fa3da8b73294cffc65f091d7e74a4d3f067b65539d7dc220b77d8cc7f674985ad8613100460ded647c57b21879e9e3b417a3ab6a89c1f2c1246dd11e6311c0c0b89b0d2e3d8c2044ed049d2ed973b6101cec0fb72bedae4f817b8f12cac281e046f4b7d5315afe6ae5afb08ed967d8e6d9bc824e73045eaa33e133acc4a75b3af1547cd4eadea3394c0a2013406f2978e4c6ad776b931434689e1a14239b14cb7626e790a05176118880ca98d969516e7cbc50cc11215cbfea658d6f40540d48862dff53461c1e7408be3e6ef433b7c5526d8b35b1a3d6a759f23a0a4b1c607d4c09eb0404d5bd5c56e1f7bd0db627797f266d5eee22436ea5d28c05ae8baf03ba053b13c743008141fc8a32ebbbc7f66930be489ff66fb6fbf580acfff505d90757cf94d98456dca169267c7b3a14d1da094920fedeed7156c574f6f41eeb4e913b352f0277f57146c8cdc06e860acf539bd46135465b210e57b87fc487a7efd6bd0bc9a3c7e246833f01553a81764307343583d6bd6843c341d7d35dc1582b0b5</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">Hey, password is required here.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">&lt;div class=&quot;hbe hbe-container&quot; id=&quot;hexo-blog-encrypt&quot; data-wpm=&quot;Oh, this is an invalid password. Check and try again, please.&quot; data-whm=&quot;OOPS, these decrypted content may changed, but you can still have a look.&quot;&gt;
  &lt;script id=&quot;hbeData&quot; type=&quot;hbeData&quot; data-hmacdigest=&quot;b4a3099c169b4d4a67bef17e979759410ebe1a7a51efb3754f187d2331866e7f&quot;&gt;a8ca320e4f83a6279a070900fee4a45df917f8a1def1482325c55ec8b82d274492c608e2563b53b73809fc1e19f9c11d11ddd7d652251c520bfd9e74a3f32e20a4ea1a2036039724ae706f031e4a4b5a0e170dc22381d1f2bfb7b5a36553280619a52221f2b07e45435b320088314bdebb0eb13fdef9cc97529b2a108dcf7c9d0a3d336f5e6c8458a2b197cb59ce82a5b3282230a73884f55392e7026bbff0dad77217cce68a7da22ec6d673d575f637cab621bb1446bcdf9015bcacae82aab37d545a8204ef0d48de1826cf85bc354ff233bccff6e2b8c50bd58ecf01b55beb3b9e276a78f1d2857a8eba2c28e3d5cb44072bff4a9b8846b9cb73254e6d167980f3fa5b8e8cde853477318b2ddd7efc53fe8a22fe6b57533bbfc3d476e394c8221570f59edd127fa19b82375002ca472ce85ede72f7bcc4025ee241029266add2f2c51c28b8ee810124a51399322bcb57d8c0657cce2d7143861fa2c858229bbf3ecb5ebcdf631d9f4b1411652b4799404eece98adab6cad0fd815c92a5541b266d5e2529e978a88ee73d749a30bbd63b98ee6879acb07655239674e68e72a244af8d84eb81646641d3a115d04d8833e4ff21d875fe4cfbab6749035c460fcf97852b855b3aa93b77ae9ecfdd86df24484f25c760c77d039882ec97302364cff17d1faea0c3d30421ef5b953915986b6d398dc09a9d64aa1facd6187956e28f4f63c47f9bf2e224d292b48c5da7e3a3ee34f81e140e5dd04a2a9a9f209b9944c6d2a0876e1e8fd49513dc4e5a333d1b037f184c0f508191585dee99e2777072d442bd392d8ee474103b83f8653fd09609c7d64b8190d11fe11aed11eaa3d42196c992eebb565811ceb1f243795468b2338b32eddada464da645b75053626f403f9fac6fd91c83492548c85b5d9e47f7e8f6697bb04e0c474c2c726abc1889e5000639f8cd673c7a8542f1fc68c0b58de663e82d88e6cce4ea6e73bae2ecfdd46b4d8e5812bf366872a658514fe27ea8e3b591332bb9fcf51edaf360c7d336b5bcac277e2d5fceb763b13d66ba93e02530a6f2250849f0a3cc571638a335394874be1bde13dcd484c2759c512177623f10eac4b1a5c9db386c49a6c8275911a29a6e73805e70109e6d738e1ba5b0c33d63dc778cbbb22889d575be7d09e4fad5ab254882eb8297243f7c071d053016929d8d173f9eb3dac4b5946196d1ab0895ccd9ba5338117744068b5286391d3ebf177b94726b6338a677be0ab717cba6bc1fadfa185dbb359eab89d34027f174097ee720a010f57532a9fb29b95ec69798a65ae33a0a4f55484fd0c8e579291393c86665be4627a464e12b209f9f5f7c4025c9e7d0998f917f97aa829650c81688dd22f810d5cb9ddcdad648560de8d7037177af8a4e2607de14fbfc6d5673fe41f8e6f865bbd7fac8ea5dfb73ed3f9a78303b281275a15bfb45d6fed9124d83e63dd167858843b114d81a1d68005f9c8260e4fa407ac312598618e9ae4ef10c220b69467ee4dee04325a588355e0cbe9ace6ec4baeaab02c25ceff14b07ed771589b2e492d14c6587015804725250a263ac2f7b27352a0db02318edcea4b3273fbf4063412eeb78fbd8175101c4b926aad14f6a56047e0c983bfe8b2f112921f6480a23b97d0dfcbfa5f4ff92905ebb58242e56fe30b86736696d90c482a070596cace96de878bcc5db2f1c9036e8bc332140d1b31eece86e8b7951f9e6985b22029e7fdebb67e87840db711ac20d821c28818029a047d03d777b45499532e6f5ebb255a124f4389de3d81a0abd118e9f8c73d269711ad0e1dddb6b9a71ec6fb693ba1359ada24037021b20482a2bf50de0a94d7c3b4a52ca004ab508ac2f1e1235f388cb8420f816e47389901a5cc80e10e6a7cb49d10191539ceb44fc56dbceaab893d2600b0dbe7558c90edf860199c68e556d9536703ed617818224bf549387a03401f6530bd2ad748c65122a11a29cbf2e416846e999c205e1979d9aa7c3f7a8281a4b77b0ce4534d283efccfc44a2adbc5db4d0c42fdea77520fa3b2204cd3179df0d10a6eec3214322ce38a95e8bba95aee2073e39c6566c6d49f70e7b08349458764e7d94bdf2b6bef36a6ea2d72fe2da8076654ad26e86e9f14ecadcc2d11546d158d344969a1027a2f14b37b01f0e239023a588a0772fb8148ed54d1f7c45fba9bdfb6e27096229679c485911a72ffde1c0c880aaa3611cfb0df63c8725cff371939ae58360bd32ced7b88adaf37d1ef79187ef4239fcf288ad304a5ecd72d2cde07c49c7b840c44b4a61368c2c8e24edbb65e255494ea37babc8ff57ec384b959468a064bdd2c844c0f274d96c79c54d738b2c105c1f23e73ac3324236a10308c6cd69c17d5ca2e0ac388aa6a595fc809a8ba4b2a6f858dd723ecce9f69dda82543b71bfe1476f6c2224c58b1be5153d2d9835c3e84e029c390fe10edb504ea78e4c5c584730edbaf97a311cda655bcd21891498eab27265e9991172df5e8433ac3aabef88561c1e8a3b7cb523561de498bf84c27798e58bfe67ac76c1dffa38dee59d5ba27085b578332f9fc081afa756735c70cec381e966e6746e74379bb6132f53245245ea0bb36a4a35c7ccfce26b93467bf5bde2d14dd58d4d6d77d99038c2c1188d934c2f0751d22f5ba1415e47aa226bc6cd6b47fdc8fe036fb9cbde5ab1d4453e6bbb592dcb16514b318b1a114938aa262521735087f270535d05873ca7f93923321ac194757c5425387b61e93268b22510fb4bf94aa31d9b1ec8c804cba7690fc989ef2cae0fdd3774eed4fda060b8e51a94b919034f076b1d621d06c0611c119ace2ee5f051aabf2f5719400b2d515bb688b1afc45447b2e0ed582b3d23e241bd1cf7a1ad54407e5940b81f24995e514c91f4eba03b705074ada495961d5c0d025f68feb1bc704d1c4c92c02f630e14985bb0f81d18ae8faae7b82e045f3d6b30cead7d19a718f89d72ef4036e54ad2ae96ec19466b51f4e0a72509e0587bfc43ffe546d5622e1f46d4a0b9cb3b7295115a8c920eba39697c1503344450202390121556cc69a8f4640546e3f0efea8024e2a34d3db0ab63cdfcfcf7d60f698ea8043b4cda327ba06e9e40dc559de6a41010cdf07eeb582360219839539726a14df789b5c86f49add937ef526d70d20538bccc70e3bc5a94da5ddb6d1c8e0fc55530195bda2e0346d6fe422c81d42f453a3b8773f2fe506b325c8af0657e42a7798f6adf1791a3b47652f0886c90fb2c728f8cee11db95243234c765bcf467f8d3775aea94145ba3fff6b71c4acb81f61b122a1ed5e7ea528a7771889097d572554fae249324365df32f205cc3442a30339608965b98bd149469b7f82b3a524c8f4b704250411d77e1712adc0901bbad9e869ec9ad054c9bd677e8d047b1b4e623011d8c8adcfdf5f95ed393584867e733bb34f2f1dc08adc91926fbfdc76e3c78a018cdb87270e1dcb6a1955f6e59c5220e1dbeb7a9a623023df7d671b17ded57496d26755028b679e7cc9f196af30646bf14ecfb5fa130ab5ceb35a1d0ed649f8e1a9c65cfbb20e74927724f771ff304377354b255c7a55756b9872fe9dcafd816a47b633b0bceeca28d0695e77df8e179d28c2959d7ae303c77a1800e99451a76c35fdaae62ed067eaca791a917316c4a4a2c5328270499ae07e37003c0587916d7b1a4bc1d93fffab4b6fc3fa2c6bc20424604ee9705b0f99daa4cdee40d430bac6c49daf2031c2b1a7764e82c36fad2fb55f7d1242d86654fe1cafa6169f796024088175d6f87048720805cb9e7a049a047d1d705ad4f281f8f532aefd76344f1acc9c33dba1ca3ed487bded11dc6c38ab0ecaebfb4e036a7bf52d4615a0cff343e6d91d608161b096ad9abd4a5e67e3095b7456a0710bb32562fbf42561aa0f8d7dceac241f39dbcbf3e4c4c61c2ea6cf5535f4795df5882ed629231645cfaa36c675705b6d5eceecf1073929bca26a171f636b390fba15cdd719bcafacc563522d7720ae75daed2ae8daba9b06501ec011307ebcebced7b60d5a2b9563f96ab63a115c74c0d57092ff8a90021129e8656b305fced29f0a4ed4b2b3fb51a74f413121f2c0aeed34aff8b05dc4bad21f51c8e5b5ac245f6033aeaa0efbe8b75e0a30bf7693460a3b78708b359be3ba7e7723da760470d101d138cf913ae009f0d2fc0e03a6a39e70e0cce9bbee262981598a21adb5b34364a3781a623229dd83e10e99aa2995df87a87298c26a3d1259e982e079f50aa4fcedca3794d5a884a63fdbed983d86ca852680daee013a1d6553df381dafc510cd06a10884d7851910a363bd4b0c6968d74c0cd01897af35c45f6cb36a1d97d4accc4d8dfee1d61345010e946a36db8d5e2bfc834e52cbb70735d6ecfb897c31911db34bcdeeb2ad3e4968b5fd91df11b1b21e1ffe01110354890b1d70f6f1a321e51320fcbc5d95db564b8fa1816fe2cfd806afd1099db3d993c7cd986816662d7464f3728feaed2e625977abdb65e0d1423995106627f9a0d307c425d9974e216b6221c8cf337f536943960e324317b68d0f64b960a267a45334116bc345e71e3f54eadf2db03e0538e457930c378e3fc95dbfa74ef57b2713c0738cd7d8c968a298f1a469656e540f8e49406b6de75767705c093813493feba7bbb6f98eab95896b10784e5bd0a2e90107b7005712efc480b41dc800a2d9055cdcca278fbc612205cca2e4b46a168dfde294ccc8b74160069995826012fe51c03cfece82dd5ed26eb3ac04e8d0670b2df0c71ad1d790c5b48ba2059a8d2b1e6cc6c63d28c4d7997272ae56a405e0387797f2eb4abc5fbc0e756066e157f0435d467f07defbf0844f1ec69a7d2b737cbf32237dcabc038f2ec4d9b21d258bcb62ecbb2f1ac75f6a383d1778921b2d3193f67144e208aee200a3a72b3f9047db6a18e931be7d12068936412c3a0bbcbbe9b434cdfa0c9df900dc88f7967ac4e54683724610461fe8821142703f32bb6193c9b4a2f2b6b573d60514131d4a8a77a60afb53c1369d44acaf464322f0ec7fa5f9125b8fffb4ffed5295cf385fd700da8281e02b4946860e089794b1e182c089fe99378209bb466d5c1b4ff265b26818b553847efaafe17dd0d480ede049e64639aec1f53fbea72655df020b1a340c235e197365f69636490971f8152589293aa8e37cfb991cb6557aeea9c8c3150f3db606eb85502b0da25e13ab9e42186f97bc9ccb30285bc341961ea07a3509c7ecd93ba504a315a78facba7953eb7cea127b93746d6258da15e4a17edb94abb225355489c8e98b6a9158f2bee4d885a6637a13dea4821533c6e1267405d989f990e261fbeb0574604fa1ecdf75b4fad1773b1a169b0ad8a999644dd51406017fa6394b468bde04984f110c8cb08aefd70459b43e4a33b6f6f0efc878b10e748e39cb9759cb8cd53190635c7b8c09cb7cf73dc1dc31118381b735387eddfee2e71a6343d6857053404be7204d50e8f2b252c67dc37b17f70be89dce0e622de5b1930b8c37d55c82d6c6afc2e71da88bb7f3584073aa538d45767cacb1fe546012f3e252a41a5b0a0d4d930c73285f0aaff3875e9f2ce6e70608b30fc3ae27bb7e13408c3aa3692c19f1ef6477ac8b57e888fdc48f2c2774ac341e90d588b6a0cd5107eebcf4cc01ebe3c3f8898916aec7b46cc3bd5a063679ce6ab69b0732a659f41db1538cdf1aaabd28ccb15568e2b27336221c60ce0c15a5557b3207a89cbd37cca10c1eceff088b97b86cffc88ef6a359fedde3e613ed3290e03bff9ce13a853b7d9ca87e430b8126305c1aefa5c7d610132a0c4e132338b45519cc9fbbf09b5fd8f5ecff964d145d896882d5654ffc5f3a22317c3b66112607618f5b8d32ec6d9f9c6de73b5563bc333ab7a2c587491c174a2dcefe4031c755aee6a75bdb2aa52c2649adc26eccb98ef20b2af8d11b0bf9537bb0beea0e3e5a7e7484c278bf51bb4b086f896fd785d5059eed2b14def4f3457c202b0c1effb8c75ec070d7161cc39ae4a7716260cbf3039ca88e6dd1df0a30d6cffcc3a932d186ce10a9983f1526c485d4b7ce053fb58d96a0bc4cea2fece1fdbbb9621b4d592f2d1eff1079d7eb3f4f2daab3ac5a4e8bf25852bf40d457afcb4543bfa97356f49abb99e35fac4f49dd4f407a683ed7871b38410681dc128d8d5d8c41bb2df6c2e8d9c225087c24c948ce5b7d58183f279c516c7accaa6682118cce16069677876a8bb98bb2069373f08ee69c659ea9a47f6549dcd221d8d01d54766f9d2a5119b3b5a0ac048ce8f7b0065362bcd61b37834854e97f5b401f6e3445a839eeaa0104cc0a7294665bcc539be95722657e70e76a600af2db8332791817133586cbd50c1a12d04b9d7f2470d684167c22fc0fec677bf647d08a6f04d63c1c3420efe2f10742817c942afb1ee7bf4407d7a22db80e9d3e469091840bed62a9e2499479fa9165e2613e44803e054b39cc5b97ef33d65a3cd5c87ffeae0d769603f11d116f82c1424d4a5909b81eaaa8847d450b24eb5173142a3269097ca79baabe4df8c44ec901f96c7da6272f8877c486c129ee064a5eb8f774c9441a48ed8fcb3c0e5b9825318bafcde3a37672a700c6da5c3feb870d5077c69cf586a116754af839b48a3677d8e76c07acf7c58c88e2906440c221e6bee3d97fbe5bf6d2cafdebaa48b4db9286783106be6f2ea7c1d23535239cb9c742df29bcca752b4622ab4446dd5ea1045c8146f44280814de1e1470d4a9cd2338ac183d7437c5b3acd8a8d284cca3409a48a9f369b72355a155e81d861a08d58dcecf37c73313599b76f304dce7ea5aac15de86e98f33c711afc24e5a9ecd1b93cd24a0045d41a53b6f31313f52c002c27e9b8c70476317f526ec2360857079558d42f05d06967ba1b9d7120ef9c7fb17a096ef1a44db44c919e032d71dedb7cb7696271aa82c22bc53f1f5cae1e114c51f2f31eb41bcc5a3f130e93e263a19a028559ffa9a0f827a66317cacc4a0d468fb493ebc7bf1455ad410e1a3e6e4191110902c72d4b49aa84f66f66627a09d33fede3ec0a1b57e9ba5b5611d43f1e959de419b8a182d166f8fb1d4ad3a312a373a40729d71a9ac5fde720b1cf2bf60b64661e8a07412d5fff71e23acb55e760b90c3ee0744b97e83c8c0b7180db0b270a9003b8627bcc0033c8792aaf3b0e0afb36b6c5ed058d3c31f632c85dc20bb52b5b95f22b67a4c0285e8a19d0cd89357d85bd064f30cf737ad3d9a70a3f9921821376c8bb13071a0e1a9f18802e039117f7b35ac10056db685c83f24ebee4bc2ef0c4eca19fa61e44d56ed6f8845a3af6bbe6f462d722b07d82d997a07ac254fb57cac98da2fd81391727821772de19196b8f5befe71ddb971500651e4c53b20c2c059cd276e03c4c891d9537946bdd2b03e34e607daf6a71dbb46a56f0e32a34bedd36058162f82f8f7d523c552a81bcf74883bbdc7abbbec69c324553414a49ce34ed9b13af6c56ed8ff5de319126f9303a45cfb11fc90f3c3fa619afdf028fa00e2e04e35b66e5cac5a6fd8873fb91ea3da1deb7e0dc90ab32a7f27bbecf21cd49df35f64ebc745671aefc5340a931bbb2fc141f5af4133500df3a58101084a7872d8a51d42bfb671350255200bdc55f9a6cbd6bf66fbe2934773dcb0bd484fa44f03c99f7f788e500aaf1caa41a750ca7600fbb99b35dad98d52b1de2ebcd318c10fb88a013d82134c0ec4bef5633ecb8b96e25dd53b842ba0dce6dddf14c043dc0bf8afb896d0d85b5a176ac9fbb690d1a5a6a66c8dd60fac6ca9e93a474a8b8e744ba96e2c2064b0c11bff60005e306de9ff6db622601c775e07f8823d436398c3af82a0ea5dfb77a6c5609b587aa1ff34686223b3fa1db07a75707e261e51f13abb598cb5ffa118467a6c019a83a250041317beef1b71649a578957b79fc6f91c0c99cc79c4c7c7b643333c133dcbf631c3710655cd2b4e1b48dd05d711d43245af1ddc865018889b89066a746149ffe8a6abba81b8815bdf88f7e7a354b1b888d310ac93cce63c9f956911bfa85e114cd201c1fb42941a7b2347145eb845d8efb18d8c80a5d626544e618fd1f39eff24675790e0e40367e275bec99c9d7aee49f39951b5de7bca103b3da78e45ab3c1f514b6bbbb1433b206d9e8378a295210b69c015628f486d5b31b4c3de9a62e4660387a5008da8bf83b716fbfc7a4f1d6dc1470fba2502b4aca7c77a76ef5b51cc74efc1efcbab7754d59fe7782cfbf93cf7f3341954ad90f97e2ce807fb967f9096a7f631dcec5f050b3c83feea5185b31fcfda166f99300ecb5837ec26ba2a0a5cf2a52d07dabf0f7ab6eb8ffef5dd33e855ab86d2dc03d467d3fe3da00f15c9dd112dfcb82071e7cbf92637a5bf15a56925c2ce0274b1b9a4fb0596934eeb72f740c4480d76e78e715340c4220d3698a383bd9f7178ea35cb58fac0e03c1dfc850d2b90329163d0c238014e1a72486bb62972acf14b328a052b03c45e7974807ab8f61ffe31434d921c1b38ea64de844c43271472847005b7c8aaef7cdf143af174354a0a2002f174442b8ad6bf024e4a5910b2be1293d8826c06a97a410d5ff914a1df389637a128fc83ea1222d157cd1c1cf973bff61d08adacedfb502c92bd44ba144512a9600915f31b9dc46bb73e0f07dfac5126c7326c356611f4d1bf1d2a077736f8b13ee47df343cba9cfb8376c78b80bfa1af4f88867bc320104971c12247cbf26b308f390043a5a607d945b1a45e4977dcf2b4369d224ab22fa0f05e76db43d0528b7f59d4213d8c1f38834cd9af12564f37d1fed3e5571eab7f62ead6253003a4190923228fab19a9d13bba306b813e81c0eba65ca51cba449767a2b09ecc1e8112be7118115dd7a550aa5d05ce9cfb326d11f243b91c1aa52f01dc877b3014ab30037cd372e8ddc6027c6d5170d7ed095f7a916d7e10bb7869939f0d2f67a284d7a49846bc994222c596d6542e13b70737f8672673ed0813addf3181a646c40167c6fb19b95b3cbcb65f87d65f8978a263178c39dee46973b08f2fd373ac9909e611d1489655fe0ccc1f53031a5e285a6eae4282fc32e6888b0f75fb92864f8c1d91c56faecf6cd435c173a14673fd8834a53fed8e2cf9f947a79c315ee98fad4c720309c2ce0f4840205d9e1b7341c70bab11e66f709b93b5c80b5b2bc92a741df9ee188a8818bc058bf68c42518c9c733fa3105b792c71f0149cee0f0bc8e029f00a269c7d961f15d776a6fe83cfc24e25f79151c8c6f5676e5ec25541e0f4ec21364efab2256206dd772356d303a9c2cc6c4c482e02f0c736a5ca6fbcda4084cc66c2c3bcca6b1a0260ce4488be6f68d34dda8a27370240a3a1bf366f23e152ad6a6eaa7ad876d6899f1a810529bbb73cd162a183131bf56ede5e493dc082de385605b732c5619daf8b8cdd4deb920b3b2eb48cd5dd668c51d640857fd8c319d7dc7d6e0790d08dd625dcaf1cc64ed10e31bd696f93a5b84db027d58b563d867ff04026dab4c5df02c0f74a6d4584a4bc89af30fe727867265192803c6fc177b790e73eb6a8809dadc63e646c611666b7931cf7ccb1b345bd5f08f316632bdcd445933cba4c215e14b0dbb83a18ccce597107f8192f27b8d2bdd0199f57a6e880b88ce06550f01dbfe4e2d6a469d0ebadca640f6cc73cdd94aef2ddd17e178c7cb2beeeb3bae53ea0ce6070122cf298bf1ee90b54df88ecb4119eba5e7bedcecc4068117d0a74e8dddb1decb83186a0732d160b178a828b7caef4fabed49bb2f192c353aece3bf8fa6f72cdd164b47efbba73e902b76b29138763f44a855b86ca217f70c0b6d8b6b7b644b533e6b8a6ce8f7da02f60eb30ccfd6e64f53923bc1e973b4348020f9d073c450c7201c9710f90f9796cab370b70a8baa88a54f99ea1ba5936a45734325de07b78ff155eeaa8a01b4d91824b03722e8eb598daa4fc848d76cf0700e21d100d5e221cb7df0b764ae5d2b30e35b97002125f49f59c3039e8241c7da1499bdf263604f66ebca5d185e0c10584b87b51661f338d31631e666a2d817809a76cfd27bc8dab458414efbb7a25e7cc690b49d92074627babbe2651b3997d189db77adc9234e8a31b32b6c47ba5073f069ed11c432fb3509043c4af08eb24bdfb1acbdfa540a464d5615adce34d4d5f0ab9bd110b2d44d2eeb118bed370a7b5db0591106ce405210535b40a73ee4826e30518b495c7b3d6cdbf995c4e910c04af5ffe923dd7dfc7b3979a172f18e078a2bd1d0e9d42d5b5ecb810b883e95094478fe8169be23537a962d6f30f791f7b99331482ea095f7f8d7a7aaec6f25ebbd8be2c1710765fb6904083abe589cf0a3fb889aea03bc97d14c757a8771b9997091b7d4e071852c7fa80aaa5cc65873919de997826236fc4bf876d8c8a872a65c044e468da952503618837017b0440a8b138c8911b4509a13c325bb8b95c9167b559b138b8a65e137a84316ab2440264b22ec267ad611d47e90388bdb8e1faa46b30176e7d505abd5cce6faa643c03c88e58e5ba31ae1dca0d9fd0ba965a4d4e5fa95671530c6191dbe57384940bef94e1d6e68ced31004d7f75600be091060c50b1b0951f14cbeb9e6c267c7792d02289db385b74f1b41ac89da5436177b1fc6b014a0ecc796f8cdfb609c99def023e49203d7773f42f82fe783d2bdefa2b638c32689289f9126502ff57d1318ebf23d2db41aa35da72388c849611ad34676434f01bf92fda9956ffb4d02129c6e22e112d357807419cc1b86cafcb53e545bd60d17f1be4cf451707c486f4cbce3e1f95e083b06f2231fc55d9aaf982702d6b972a4cfe0fc5db0c9bd48f31d23829043013da0c1a11de8583cffe737d123d7d1c2ae7c85a35f084148e383f746e692616a816912e7b6c92e16dcbdb08035af7dad2af1832e5527100c21e385e6cd9205d296718c253309b415adf92337ffd93ca049b4cb88501666bd0539be7b911e09f4e4c9196c87e3d61f3b10fbaac86ac4169c14b0127efc87481fe72404032e99b65d8a2749e96e5e6924ced9d359ab2249cf037b4c1ff2e9a822118815dc8f9918fcf3419ab71a40e0423f50573a8aee2b94f3b5eb62c863c7eee46ba75398d4207a9a8dab9d85e0ececea824e6dbb5a68b9d5acccdf249cd07f3b97a01e09554d2c33e6d8f1a80758b7759f272f483dbb6f203649f64155b0979f814a8c8f7ec38069aec337355c2c86f9c05146ec5828067e3d1f1f2a1ed7352495b2e2d6104749626655bd486bae2b53f69a84af80052825013ef420fcf7f03c6265e0aef4b64fc950bbe33cb30b0c537ffe16e78d06c2119c94b1c32b02c51784a001ad8eee33d4d8de6619ca52315e5ceaea1053f4bab36147ef323902f9a0f2fab7f0d5d2f1e2c173ad8794e98660486cbd8e8f557c7aab070d4cd5a13a8c5c746853e3cef9710db99b372701e5dd365ca620af5d280f39293e3d74fae86eced2561297be2eab201e5dfd5aa5441f71d2bfdf0322849c0c533ba9f85719dca369cdaba9d0d73a86583d71bc1d63b39d26c66257fec0f5a7e241531371e0eddfd6e2ce3f480077d03af25c7fe12a6b4b9f53fc2bc2931ff653265826ab3c9028ea2d008bf94f70911ff77615f16c38a6c860713c97bff6332e8d81491287def1edb7302e70fa33036c8fc2bb49c30d7c6c4928222389a3b5c3365ea7e0266ef6f531a11d379aa10b0ad094488b861d316d1f4f9941cef470e671ec26b56277ccfb14ba2f2cd58decc7da2a10ef04bd324f0c9feae591c61f66a7d7b90eec3956c8ae989609848e851074a3219dde52de1fffa514efaa48689f6523a24ec3d613e177846b70c619ea238022f3bbefd28f04320d12d705005a4d6c09b2e9ed370569d5ba4d6163f240c1cd1e5bfb7803c3dbbcb2c61424264d3989d6140e044a4becb053721c394ecb9ef7eca3b66f0c451d607eb511a0cfa9f56a6d404f1f42a9214aeebabb5161b2b8eda227eb3a7c4505d091d670d5e622a2b411c00f9e467b8705b48a48ab243e3add1fd1167d0623e196020b2c08feec6ad429e12c8744dedf535220906e69cae6ede8f9f33f74df6727b1f08729ff2fd3040341ae3f20ac94d7bc96ffb7811cc49a0e8e471c1dbebde7ebd542dc33b65db0907fa64727bad0ac3119163d4ff95f56a8a5e5598978c27718a27bff83c108fb025df2a36104423a9829c034102a53d0030f1ca8ea3ef931ec49e7a3ff2e023eaf277a22f205298c720dfa0c395e41157cff920bfcd899b5a2cc32b443eab2ac4f947b4df38b6722c9c3db7500b784bd6cd92d926e7f6788cfb626cfbed6b0e97dc2a0dab77650b4de885348b698fcda0b944247d87aac419d2ffeac3f7b47f29117d7b8fea294f8acf49bf9565ddffec31cf7689edf00a99da095f6496aaa2aae40efc72e492e815a626ba629f43f463573c2457e12fb49e5677debf4c12ebcf756b66154fbc74df67d2417fd9a7bad3e203a235ae414e9e4d26e06a4edff4b459852371dd11061e46db28a83ef21e8de352f3753eefc755315d3f65beb746167c7b3f54dd7bcac624bb2610d0750bd7661657a75d6beb69f999b2fa9e654df1a1a58d348c9ffb6c9f6d032918b7d8b81bff0d57881bd837cb91670e36b6bd625b1d5ca6a43517f8b2d7f1b3e55ab22f16ac92419f6bbc89d9eb83d969f94031e1a62efcc15916bf2dbd21e5690a0341e60f7b65eb2fa7238f341b94792581c2a8929d21254095b5e9b9a1c8695d84fa324e2dceaa150a9c262211cecf436ba6b97df834cbc6e4c858106bb5f80273d0ec62057e621fe9a1530bb807eb3cffc945d037ff9b8e9c83c210f414221b53d00ccdb070411e68afa92e799df2b173c1eb9214dbb994b1a51f7306b68de906b44f24bd277e5d1380b30903f4db0a6f138bba23a8a835e3c856d9e13dd5fe04f834c869b21f4c54fee1386a162e3dc944553337a97ae9623171480ce4e365431ee31d2548f9936fa44755a8e230a8221d5af610e09e0fb1447a8d101a37f1c37ff8425131f72d969ad1ba32847e30320b0d436c86f38b11519504ebdf17edf083b1d58188d82026a28ec344fd6e14b59b55f6968de5ed1d53b017354b7c811da627be3bbeaa66528903d55e8cf33f32f114bed403f4b2fb538adb6fcec8a4e9ff3fca1c404ca533ef89d7604600a214f9d69796baa29dee535440ee287410974b5a73912e2d4dcb654d3282cf176ca1a3be43ebec89adf3707a313740cb2081a0802e58118194d7bb3c30b1afc97499a027e77553bcb0e7b012085809dbc38e1d286cb5e0495224943402870c5f65d1783cb8afd79960c6e4fe104de732d114ee1357883e1a7cce53a2581e7ce859a238ef28ec156e4ce7db3f848548b5bd1a88d7d3f23dd8345be4b93a085d2f093d7ff81f63315adaea942fc5c8e76e2a5597d4b5248ebc7f0fcc780304fa7b32d43306cfe311e2ccb25086728eac3ecb21bd757f0c2421261b0928b868e45430fe7e8a62bcaf30684c8aadbbec6d67ce862c6b7fa8ec2228b048fbbd9c2b4b064b7184e8752f5be11b3d4bca4eae171cbc8fa48b047c42ba857be8829f167bacf6d8016528bd1a0ce36c977a5b140c1e2c8874e175b5e6ce454c7336c368946da35df74e5d046fd3bc28791ee93fcf81f7973e67855845e5ddce382deac35623accae334dad1f7cfeac09bed26f6026300909655884cd4dd4caa98482c8b14a74dbd7faf461c5bf5a9f7e7a2f19ba51b4d16f24dd350870f444a4aa2f929de143c11fded137f8cb9b9cf4cd08f36ba6c658620fcef8277903ce7cf0dee45eb35a446aa599a31d7d5036b160b41e07bdfca1a5d1ff6b7aed26bda69121f7ab4755f065353f44c8a2f06dc933725ac53c1b03ca0daddf0d4a8a06bab4f8f3c0c9f68ae421071c2eb1cf69a8ae47242f87444f1300a2f7eb9ae990dc95de01b5aefcba11cce07952065e0938511002e7da6f45468781d9e4a8bd6b659ebc101ee2031887fc82798f92b69a018c0440f161e76d1048b6bdbb513efef952fb0763d77ee477718c596a4c49d33c004ab1de8f9daad9a299c35bc8a7c069b115cb8078c13e34655c511803f9860246f6c58203ff5e5e7b0f83d162428420053cdf2d5d63b69a2356f488cee7bbc2a8846a78e4fde1f54f207ba924c0aa68884b921aa7c230041fe02550e6e2b30207aac7edf9851996bbedd086170d9378883987a046428f017b30e551062926d554f1cf37272e96c7185df67504a092cc33cc2875c14643611a0268c22ac56c849b6128a8c224db20b1e590be0607023f2b4fab1e36e7cec2be65f3b957ff411ed2d37b0fbeb1f1e1079b5946f50cb515cdeb95975a0d147b9a11b94674d310cde08607b4a1200dc8575bb5b986737dabca4beb4ee89ed09db8ecb1aa8f776fb64ebd7687af87c353c1f88c16c0bac4a799109de5323c8c8faa61dabc5fb3ba0dbdbf743c9c0f3005bafc48d3cf2ddda87e29beef9c751c8424def7a90573587f588c98f9036021855450289db5dca3e7dec42b2adfffaf46d6ba0811a0569a70457f123e99871e841966cf60c19789dd3f8416f684663679710500f5c308b676f9522f0ed2f4e98638459adeda092e56f89de4289562d87ea77569de79ae9f58244bf1d1c1a45173428d2c373f3261aeec839f056b9b288c7621fe4c366c7147a46832fc9c11de2a5d855ac0d236886383460b54612c10975d14711d327a3b2753238f7752be1c4184e89dd20bef33b198929d35695d39c642a88ca2c3313caad1c551506d939c03cdf2d80c0aac0e6a5eba633bb7f56fa274523205ff1dfc9b0c0b7e0c17e500e37299f6b09ab567eb04a082f1d9a91839a7786f8dae018dc9947cece02ea946e524f2b4776c0ecff37aa63c52e3551f5c94eb7095211aae25b716b492e020cc727096b2c32dd888e56827075b3441886e73eed6288873fb0e69a655e2827640b217191ee552bec87cc1d814cc52f5034a13b55099e0a0dac7e76f12d96dad80e5128c81737045b8a0bf6055182834ee8f9f3f4c77c879e4be5f04d9422633d18fd4dd44635c0da81f51f0eee481e105ce67ca150ed6336417f1a029c1362623411420f22723094193d61e3f80858ee88ba0c43c733bf067db104707555335aa1e9c00e60d97eba5b711aecb380a020fb389058be35d0780b57998dd8bc50495a5fc7444578c8511f3a3a92c2cb87a4fb4817b2a92b304d52f1f2ceffa763a0b277331f3b94bfb113a3593b142c4f45110681d3f37134f1492c5328da291fce4bf36c8ebbbbc4161fbc6a67db152022183defeffe3c8912effbb88f01238bc27034d91b8a3f8690a26b0e5aea67d55bbb36ed0e8c140170765a377d43d46ed6c6579f44f969288f129785a713171ead179fb9be3aa66dcfc1196db5130d88abb6312aa497fdbf1267f0f0f90d5604b23e64f742ecd9f9bd967d183f2f0e4ed82a1d0a4b5236a37dc35b469ace7f0572b8c0d5267d1ce773d5f6a72ca1abdc3b0dd2c90dada867a877bda0139f5badc3405c43b3b951f29e9b532bcf61c48225d1b024875f47405f16d8d0da638da62b1e0563180f82b7db0774365af64ef3b0e4ac43393969323b2e8dae041388ecb704d8835afd778f24b5bfbeb35dd708254a6985fd449214c4bcecbf77ead002ce0c25736e9332a728121816aebe70550d1c388958ee37f1b279470605f267b404ff812c29e39e1faee4b7363f0ec58e4916010554855b5b6bce02b2640805f7e8910f2eb6271ac0bdd0c01cfdd8cc94182c9cfc3c0db9c4714f4dea35fb14aa23879201239c6e41912eb13365677d136619efaa490378a5333714a046c2c5789b319a3440d1142de462dc8351c4468328369876a3b1229850e9013b87a41c753afa76fe8609850c7c6ea2156bcf405e9989886b020ec463739c403fdcb43972569894b9a3ed85fadb6cfffcb512a3a7b195cdb843b537addd279c81220996747a76923f60d778961a76490ff8384574200089c1c5c454c380fe8ee8232f8a4b8aea56172810d04345fbe83b914e4a898c6df8e14c4807f5c46def0940da8f89a83ee019c809e846d49d8bf3eeadb6bd7029e46d961776d74b24d4be26a6716b0c94f4c0220b506d70ddda92015ab5b0b1587ae6037c627e044cd98cd22dbb441a05be49bea09c93f42c98bef6e8468ec49d4d7d30395cd603ff325bbf11685ffcaa560a79778a54763417f2c8930af414c1288c00de812d7762ef5ce144e55c720f73d3582393524f963a2905217edd464a65031cfc559addf5dc02e51354915fc2523fcd1f95917f200fd258cb5969ea7c31ecc1f088bfb504742cd08aa80906478bd2f139fe6a330c5e35a6c66a939641aee90deee82fad0256858e2c8a91e08fcbf702b910709d3bbfd6269668e9c42b3893442f5863ab7f9a0e0a121ef37f06d8d8845d9ef5135edf67ab836456ab8f118616e870b19235e9070d98eaf91bc2df70e753dc0d144a7e80de99c990178d66dc7cb516cfc8818bb78277fac0778a886df2e837109f2c6284893ef2f3a37d52f99e96d0bcbf91e93b11369d4ad87dff29c7f08b6b63dfcdbce6c01dca54e93d60e45a2b25772629fddb7c598c8e1f820ee387cc2174e5c1760de744731c5843c378e39627b44a1b12a04d24f5a6d347a4d0bc91456fe623c45a1f44de21be590721305670449c7959bd6f96b77a43f78d981a11c6274e687b376331c2628763d5bf6540c41c2b21e613000eda9452885da4a8c1e51f85eb83bb75371d93e19e9494587576398bf65462f32c0c378a0d55d2b9ed427da08ef6d6a03322637e3de78775de8e038f75a6fda7f7d2d73d1c42b2eebc7a91fea14eb96b3ac5c3fc0e4cc419beb11c6af241e322eb32653d81d6335229e99990e248be891839c385b3d3e0c94a158a096537ce7d1fa903e6d2896ae90f39ecbaf10d642c34168571b6d3072a04fe3819cfaefb4e88a9f1da763d028d9818193d5bd46a381d24cac81444cd9511d38491e37ee5693076aba54e6c513c5f370841dadfa2d4e41fd8c6a5f59865af04494090c9d0f9efb38b40f28ae0427613b306d1a3524d4db9d38f64b618adb2cd02fb69028ae8e28251ffa8246f180ca16778e81afc172ceb245b604d74cfd7efc6cd0ceabc8e2e120277bd4a05715f140a20399d6530e58ec49ee5d6d878c153e87fd181acc2fff9b49cec300e38acd0c08d5e61eccd90584962dc7524703ac4d7f10112c0b41758d975a038857650276f97fcc3dba026e590c06d9d745087d3c64b95334e1aea6d5a63f6aa29ee73f26cfa330574b7c849df3be3944affd2cbbd49492591f622130c27a63099828b5781cc90607cbcf1c55156bfa3cc3f476606faab98a4c459440037949e72ad8c52aec9f09a10fc248d992765ca4108654f97a7c6bc248509e5c310708a4254a406b616dad073e349d546592249008807e2004de8dc18c5aa281194b3295154e69d6e00fcbbbb2b36874aec807d9502a72823113237741fe0c8d6d16fa3ef886db761540a69a145b75a2127e8525890eda1f9e23e35b6cf103cb4d138f08a90d24b0c53e54d9d66b88b789b6b0603dc67a1d3cc1c0f572dbd2074c5d3a3346b3528007e435acb18ce2a280667aa7e192eb9fe13a21e0714167f7794c9b07c056ae7a14f8070e13c512f0094dc4e1ac3be5e3d66d4f1fe10d4db5c5804aac9044cb74c215f2d6fb0f2d9a11f31e4706f18ed97bae3c4719bd98a9df83415beac2cfee68e9d65d8b0a70345de85fce0ce827129f5b74d9c57df705e5c9e9cbe3cd4ec27a5687f7f3271a9c8f72cbd70a784cca933742db70ace5c94b579d4dd29ca674396e47292fda7bc7171e653b2a1a6da1bc7ad63e0bc021c1e8da520280cd47631459971717ca4dc55ae4d799203c5ca1cc9ec35161226b5cb01d827e952d58c33a0fa3da8b73294cffc65f091d7e74a4d3f067b65539d7dc220b77d8cc7f674985ad8613100460ded647c57b21879e9e3b417a3ab6a89c1f2c1246dd11e6311c0c0b89b0d2e3d8c2044ed049d2ed973b6101cec0fb72bedae4f817b8f12cac281e046f4b7d5315afe6ae5afb08ed967d8e6d9bc824e73045eaa33e133acc4a75b3af1547cd4eadea3394c0a2013406f2978e4c6ad776b931434689e1a14239b14cb7626e790a05176118880ca98d969516e7cbc50cc11215cbfea658d6f40540d48862dff53461c1e7408be3e6ef433b7c5526d8b35b1a3d6a759f23a0a4b1c607d4c09eb0404d5bd5c56e1f7bd0db627797f266d5eee22436ea5d28c05ae8baf03ba053b13c743008141fc8a32ebbbc7f66930be489ff66fb6fbf580acfff505d90757cf94d98456dca169267c7b3a14d1da094920fedeed7156c574f6f41eeb4e913b352f0277f57146c8cdc06e860acf539bd46135465b210e57b87fc487a7efd6bd0bc9a3c7e246833f01553a81764307343583d6bd6843c341d7d35dc1582b0b5&lt;/script&gt;
  &lt;div class=&quot;hbe hbe-content&quot;&gt;
    &lt;div class=&quot;hbe hbe-input hbe-input-xray&quot;&gt;
      &lt;input class=&quot;hbe hbe-input-field hbe-input-field-xray&quot; type=&quot;password&quot; id=&quot;hbePass&quot;&gt;
      &lt;label class=&quot;hbe hbe-input-label hbe-input-label-xray&quot; for=&quot;hbePass&quot;&gt;
        &lt;span class=&quot;hbe hbe-input-label-content hbe-input-label-content-xray&quot;&gt;Hey, password is required here.&lt;/span&gt;
      &lt;/label&gt;
      &lt;svg class=&quot;hbe hbe-graphic hbe-graphic-xray&quot; width=&quot;300%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 1200 60&quot; preserveAspectRatio=&quot;none&quot;&gt;
        &lt;path d=&quot;M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
        &lt;path d=&quot;M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;script data-pjax src=&quot;/lib/hbe.js&quot;&gt;&lt;/script&gt;&lt;link href=&quot;/css/hbe.style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="Android" scheme="http://stardust14.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>F4学习记录</title>
    <link href="http://stardust14.com/2021/06/15/F4%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    <id>http://stardust14.com/2021/06/15/F4%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</id>
    <published>2021-06-15T00:59:10.000Z</published>
    <updated>2021-08-31T08:51:14.169Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>阿波罗STM32</h1><h2 id="开发板底板引脚"><a class="header-anchor" href="#开发板底板引脚">¶</a>开发板底板引脚</h2><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210615090214.png" alt=""></p><blockquote><p>JTAG调试，需要占用5个IO端口；SWD则只需要2个IO端口</p><p>KEY_UP 是高电平有效，而 KEY0、KEY1 和 KEY2 是低电平有效</p></blockquote><h2 id="核心板资源图"><a class="header-anchor" href="#核心板资源图">¶</a>核心板资源图</h2><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210615090543.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616094711.png" alt=""></p><h2 id="GPIO口（通用IO口）"><a class="header-anchor" href="#GPIO口（通用IO口）">¶</a>GPIO口（通用IO口）</h2><p>STM32F429芯片有176个引脚，其中140个可以作为GPIO口。</p><p>一共9组IO：PA~PI；其中PA-PH每组16个IO口，PI只有PI0-PI11（12）,一共有140个IO口（16*8+12=140）</p><p>复用可以大大节省IO口的资源。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616102931.png" alt=""></p><p>STM32引脚的功能：查找数据手册</p><p>FT可以容忍5V输入</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616105528.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616105607.png" alt=""></p><h3 id="GPIO口的8种工作模式"><a class="header-anchor" href="#GPIO口的8种工作模式">¶</a>GPIO口的8种工作模式</h3><ul><li>4种输入模式：</li></ul><p>输入浮空</p><p>输入上拉</p><p>输入下拉</p><p>模拟输入</p><ul><li>4种输出模式（带上下拉）：</li></ul><p>开漏输出（带上拉或者下拉）</p><p>开漏复用功能（带上拉或者下拉）</p><p>推挽式输出（带上拉或者下拉）</p><p>推挽式复用功能（带上拉或者下拉 ）</p><ul><li>4种最大输出速度</li></ul><p>-2MHz    低速</p><p>-25MHz  中速</p><p>-50MHz  快速</p><p>-100MHz  高速</p><h3 id="IO口的基本结构"><a class="header-anchor" href="#IO口的基本结构">¶</a>IO口的基本结构</h3><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616112000.png" alt=""></p><p>GPIO口的输入工作模式1——输入浮空模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616113506.png" alt=""></p><blockquote><p>在浮空状态下，上拉下拉没有设置（不起作用），输出驱动器不起作用，模拟通道，复用功能输入也不起作用，直接到输入数据寄存器被CPU读取</p></blockquote><p>GPIO的输入工作方式2——输入上拉模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616113917.png" alt=""></p><blockquote><p>在此模式下，上拉起作用，下拉不起作用，其他和浮空模式一样，被保存在输入数据寄存器</p></blockquote><p>GPIO的输入工作模式3——输入下拉模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616114348.png" alt=""></p><blockquote><p>与上拉模式类似，下拉起作用，上拉不起作用</p></blockquote><p>GPIO的输入工作模式4——模拟模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616114959.png" alt=""></p><blockquote><p>在信号到达TTL施密特触发器之前，会直接到模拟通道（也就是TTL施密特触发器开关是关闭的）；上拉和下拉是不起作用的</p></blockquote><p>GPIO的输出工作模式1——开漏输出模式</p><blockquote><p>输出不了高电平</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616160210.png" alt=""></p><blockquote><p>输入为1时，N-mos处于截至状态，对IO口电平没有影响，若是输出1，则需要接一个上拉电阻与电源相接</p><p>输入为0时，N-mos处于导通状态 ，IO口会是0，输出0，接下拉电阻</p><p>CPU可以通过输入数据寄存器读取到IO口的输出状态（1/0）</p></blockquote><p>GPIO的输出工作模式2——开漏复用输出模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616160716.png" alt=""></p><blockquote><p>此时，工作在复用功能输出</p></blockquote><p>GPIO的输出工作模式3——推挽输出模式</p><blockquote><p>推：灌电流 可以达到25mA（mos管内阻小）</p><p>挽：拉电流</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616161250.png" alt=""></p><blockquote><p>此时，P-mos和N-mos都是工作的</p><p>若输入为1，则P-mos导通，N-mos截至，输出VDD高电平</p><p>若输入为0，则P-mos截至，N-mos导通，输出0低电平</p></blockquote><p>GPIO的输出工作模式4——推挽复用输出模式</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616161504.png" alt=""></p><p>推挽输出：可以输出高低电平，连接数字器件</p><p>开漏输出：只可以输出强低电平，高电平得靠外部电阻拉高。输出端相当于三极管的集电极。要得到高电平状态需要上拉电阻才行，适合于做电流性的驱动，其吸收电流的能力相对强。</p><ul><li>上电复位后IO口的状态</li></ul><p>上电复位后，GPIO默认为输入浮空状态，部分特殊功能引脚为特定状态</p><p>复位后，调试引脚处于复位功能的上拉/下拉状态：</p><p>PA15：JTDI处于上拉状态<br>PA14:JTCK/SWCLK处于下拉状态<br>PA13:JTMS/SWDAT处于下拉状态<br>PB4:NJTRST处于上拉状态<br>PB3:JTDO处于浮空状态</p><h3 id="GPIO寄存器"><a class="header-anchor" href="#GPIO寄存器">¶</a>GPIO寄存器</h3><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616171206.png" alt=""></p><p>1.端口模式寄存器</p><blockquote><p>x=A…K是对应的208个引脚的CPU；对于STM32F429来说，只用到x=A…I</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616172058.png" alt=""></p><blockquote><p>两位控制1个IO端口</p></blockquote><p>2.端口输出类型寄存器(GPIOx_OTYPER)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616172532.png" alt=""></p><blockquote><p>每一位控制一个IO口，只用了低16位，16个IO口。</p></blockquote><p>3.端口输出速度寄存器(GPIOx_OSPEEDR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616173713.png" alt=""></p><blockquote><p>同32位寄存器，每两位控制一个IO口。</p></blockquote><p>4.端口上拉/下拉寄存器(GPIOx_PUPDR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616174212.png" alt=""></p><div class='tip' ><p>至此，通过这4个寄存器的配置就可以达到GPIO的8种工作模式<p></div><p>5.端口输入数据寄存器(GPIOx_IDR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616174807.png" alt=""></p><blockquote><p>低16位有效，输入是低电平还是高电平写入在此寄存器中</p></blockquote><p>6.端口输出数据寄存器(GPIOx_ODR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616175955.png" alt=""></p><blockquote><p>低16位，每一位控制一个输出电平；设置为1则输出高电平，设置为0则输出低电平</p></blockquote><p>7.端口置位/复位寄存器(GPIOx_BSRR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616180029.png" alt=""></p><blockquote><p>控制IO口输出电平状态，低16位是端口置位位，高16位是端口复位位；</p><p>低16位：设置为1则输出高电平，设置为0则不产生影响</p><p>高16位：设置为1则输出低电平，设置为0则不产生影响</p><p>优点：不用读写与ODR相比</p></blockquote><div class='tip warning' ><p>上图中的位设置/清除寄存器就是BSRR；输出数据寄存器就是ODR，这就是两者的关系<p></div><p>8.端口配置锁定寄存器(GPIOx_LCKR)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616180101.png" alt=""></p><blockquote><p>低17位使用</p></blockquote><p>9.复用功能寄存器(GPIOx_AFRL、AFRH)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616180134.png" alt=""></p><blockquote><p>分高位AFRH和低位AFRL，分别控制8个IO口；两个32位寄存器，一共64位；IO口是16个，所以每个IO口需要4位控制</p></blockquote><h2 id="跑马灯"><a class="header-anchor" href="#跑马灯">¶</a>跑马灯</h2><p>led灯的硬件连接</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617165905.png" alt=""></p><blockquote><p>以LED0为例，若输出为0，则有电位差，LED0亮；若输出为1，则DS0右边是3.3V，无电位差，LED0不亮</p><p>从电平方式上看，，总结出输出方式为推挽输出（上拉）</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617193151.png" alt=""></p><blockquote><p>外设使用之前，要使用使能IO口时钟。配置IO口时钟使能寄存器：RCC-&gt;AHB1ENR(外设时钟使能寄存器)</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617193807.png" alt=""></p><p><font color="red">初始化IO口模式。配置四个配置寄存器：GPIOx_MODER(模式)、GPIOx_OTYPER(输出类型)、GPIOx_OSPEEDR(输出速度)、GPIOx_PUPDR(上拉下拉)</font></p><p><font color="red">最后，操作IO口，输出高低电平。配置寄存器GPIOx_ODR或着GPIOx_BSRR。</font></p><div class='tip error'><p>出现了一些错误<p></div><p>1.编写led.h文件时出现</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617162736.png" alt=""></p><p>解决：由于<code>#ifndef__LED_H</code>应该有空格，即<code>ifndef __LED_H</code>；同理<code>#define__LED_H</code>也是要变成<code>#define __LED_H</code></p><p>2.出现宏定义无效的情况</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617163357.png" alt=""></p><p>这是因为led.h出错的结果，把led.h文件改好，就无错了；注意：led.h文件要添加到工程去</p><p>3.编译报错</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210617163717.png" alt=""></p><p>这是由于工程中还有一个main函数的存在，把另一个移除就可以了</p><div class='tip success'><p>成功<p></div><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;sys.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;led.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;delay.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化PB0和PB1为输出口，并使能这两个口的时钟</span></span><br><span class="line"><span class="comment">//LED IO初始化</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LED_Init</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">RCC-&gt;AHB1ENR |=<span class="number">1</span>&lt;&lt;<span class="number">1</span>;<span class="comment">//使能PORTB时钟</span></span><br><span class="line">    <span class="comment">//只用操作位1，其他位不用管</span></span><br><span class="line"><span class="comment">// “|=”是位或  “&lt;&lt;”：右移一位；使位1保持1，开时钟</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//GPIOB是要操作的GPIO组，PIN0和PIN1这两个引脚分别控制LED1和LED0</span></span><br><span class="line"><span class="comment">//GPIO_MODE_OUT在sys.h文件中宏定义为普通输出（也就是GPIO口模式选择输出）</span></span><br><span class="line"><span class="comment">//GPIO_OTYPE_PP在sys.h文件中宏定义为推挽输出</span></span><br><span class="line"><span class="comment">//GPIO_SPEED_100M在syys.h中宏定义为GPIO速度100Mhz</span></span><br><span class="line"><span class="comment">//GPIO_PUPD_PU在sys.h中宏定义为上拉</span></span><br><span class="line">GPIO_Set(GPIOB,PIN0|PIN1,GPIO_MODE_OUT,GPIO_OTYPE_PP,<span class="comment">//GPIO口设置：GPIO_Set函数</span></span><br><span class="line"> GPIO_SPEED_100M,GPIO_PUPD_PU);<span class="comment">//PB0,PB1设置</span></span><br><span class="line"></span><br><span class="line">LED0 = <span class="number">1</span>;<span class="comment">//LED0关闭</span></span><br><span class="line">LED1 = <span class="number">1</span>;<span class="comment">//LED1关闭</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Stm32_Clock_Init(<span class="number">360</span>,<span class="number">25</span>,<span class="number">2</span>,<span class="number">8</span>);<span class="comment">//设置时钟，180Mhz；初始化系统时钟</span></span><br><span class="line">delay_init(<span class="number">180</span>);<span class="comment">//初始化延时函数</span></span><br><span class="line">LED_Init();<span class="comment">//初始化LED时钟</span></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">LED0 = <span class="number">0</span>;<span class="comment">//DS0亮</span></span><br><span class="line">LED1 = <span class="number">1</span>;<span class="comment">//DS1灭</span></span><br><span class="line">delay_ms(<span class="number">500</span>);</span><br><span class="line">LED0 = <span class="number">1</span>;<span class="comment">//DS0灭</span></span><br><span class="line">LED1 = <span class="number">0</span>;<span class="comment">//DS1亮</span></span><br><span class="line">delay_ms(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>keil软件一般在最后打出一行空行。</p></blockquote><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __LED_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __LED_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&quot;sys.h&quot;</span></span></span><br><span class="line"><span class="comment">//LED端口定义</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LED0 PBout(1)<span class="comment">//DS0，PBout输出为1</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LED1 PBout(0)<span class="comment">//DS1，PBout输出为0</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LED_Init</span><span class="params">(<span class="keyword">void</span>)</span></span>;<span class="comment">//初始化</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="按键输入实验"><a class="header-anchor" href="#按键输入实验">¶</a>按键输入实验</h2><p>硬件连接</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618101547.png" alt=""></p><blockquote><p>当KEY0/KEY1/KEY2按下时，检测到低电平；松开检测到高电平</p><p>当KEY_UP按下时，检测到高电平；松开检测到低电平</p><p>通过上图可以看出，KEY0、KEY1、KEY2是低电平有效，KEY_UP是高电平有效；外部都没有上下拉电阻，所以，需要在 STM32F429 内部设置上下拉。</p><p>按键 KEY0 连接在 PH3 上、KEY1 连接在 PH2 上、KEY2 连接在 PC13 上、KEY_UP 连接在 PA0上。</p></blockquote><blockquote><p>KEY0-&gt;PH3  上拉输入<br>KEY1-&gt;PH2  上拉输入<br>KEY2-&gt;PC13  上拉输入<br>WK_UP-&gt;PA0  下拉输入</p></blockquote><p>由于使用了PA组、PC组、PH组三组GPIO口，所以外设时钟也要设置三种。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618103813.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618103801.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618103742.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618104011.png" alt=""></p><blockquote><p>再通过上面的图，设置时钟使能</p></blockquote><div class='tip error'><p>出现错误<p></div><p>多个main函数定义</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210618163923.png" alt=""></p><blockquote><p>这是因为定义了多个main函数，实际上的main函数要定义在USER文件夹下面</p></blockquote><h2 id="复习"><a class="header-anchor" href="#复习">¶</a>复习</h2><ol><li>ifdef条件编译</li></ol><blockquote><p>单片机程序开发过程中，经常会遇到一种情况，当满足某条件时对一组语句进行编译，而当条件不满足时则编译另一组语句。</p></blockquote><p>和C语言（if语句）不同的是，可以定义函数当作成语句块，调用函数</p><p>ifndef条件编译与上一条ifdef语句相反，同样要用#endif结尾</p><ol start="2"><li>typedef类型别名</li></ol><blockquote><p>定义一种类型的别名，而不只是简单的宏替换，可以用作同时声名指针型的多个对象。</p></blockquote><p>相当于简化命名</p><ol start="3"><li>extern变量申明</li></ol><blockquote><p>C语言中的extern可以置于变量或着函数前，以表示变量（全局变量）或者函数的定义在别的文件中，提示编译器遇到此变量和函数是在其他的模块中寻找其定义。也要说明变量的类型</p><p>注意：对于extern申明变量可以多次，但是定义只有一次。</p></blockquote><ol start="4"><li>static静态关键字</li></ol><ul><li>static申明的局部变量，存储在静态存储区。只会被初始化一次，在被调用的话，会跳过。</li><li>在函数调用结束之后，不会被释放，值会一直保留下来</li><li>static申明的局部变量，具有记忆功能</li><li>static申明的函数作用域仅限当前.c文件，其他.c文件无法调用。</li></ul><ol start="5"><li>__weak弱函数</li></ol><p>①weak函数和重写的函数不能放在同一个文件</p><p>②避免重复定义</p><p>③若用户没有重写，那么会执行弱函数，若重写了该函数，则会执行重写的函数</p><ol start="6"><li>结构体：</li></ol><blockquote><p>将不同类型的数据存放在一起，作为一个整体进行处理</p></blockquote><p>可扩展性强</p><ol start="7"><li>位操作</li></ol><p><code>&gt;&gt;</code>右移操作，<code>&lt;&lt;</code>左移操作</p><p>二进制左移运算符。将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）</p><p>二进制右移运算符。将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃</p><h2 id="MDK使用"><a class="header-anchor" href="#MDK使用">¶</a>MDK使用</h2><ol><li>书签</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210707153710.png" alt=""></p><ol start="2"><li>生成hex文件</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210707154235.png" alt=""></p><p>第一个框是生成hex文件</p><p>第二个框是查看函数变量定义的地方</p><ol start="3"><li>文本美化</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210707155018.png" alt=""></p><h2 id="时钟系统"><a class="header-anchor" href="#时钟系统">¶</a>时钟系统</h2><p>时钟系统和下一节的时钟系统初始化都是参考CSDN上一位博主的文章  <a class="btn-beautify button--animated " href="https://blog.csdn.net/qq_36243942/article/details/83655339"   title="跳转链接"><i class="far fa-hand-point-right fa-fw"></i><span>跳转链接</span></a></p><p>STM32有5个时钟源：HSI、HSE、LSI、LSE、PLL</p><p>①、HSI是<font color='red'>高速内部时钟</font>，RC振荡器，频率为16MHz，精度不高。可以直接作为系统时钟或者用作PLL时钟输入。　接的外部晶振</p><p>②、HSE是<font color='red'>高速外部时钟</font>，可接石英/陶瓷谐振器，或者接外部时钟源，频率范围为4MHz~26MHz。</p><p>③、LSI是<font color='red'>低速内部时钟</font>，RC振荡器，频率为32kHz，提供低功耗时钟。主要供独立看门狗和自动唤醒单元使用。</p><p>④、LSE是<font color='red'>低速外部时钟</font>，接频率为32.768kHz的石英晶体。RTC（实时时钟）</p><p>⑤、PLL为<font color='red'>锁相环倍频</font>输出。 来源可以是HSI/2、HSE、HSE/2，倍频范围为 2-16 倍</p><div class="note info flat"><p>任何一个外设在使用之前，必须首先使能其相应的时钟</p></div><blockquote><p>LSE接入外部晶振32.768kHz</p><p>HSE接入外部晶振2-26MHz，可通过分频器，做RTC的一个时钟源；可做系统时钟的一个时钟源；可做PLL锁相环时钟源</p><p>HSI可做系统时钟的一个时钟源；也可做锁相环的输入；也可做MCO1（PA8）信号输出引脚</p><p>PLL可做系统时钟的一个时钟源</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210708165624.png" alt="时钟树-F429"></p><blockquote><p>PLL是一种反馈控制电路。锁相环通常由鉴相器（PD,Phase Detector）、环路滤波器（LF,Loop Filter）和压控振荡器（VCO,Voltage Controlled Oscillator）三部分组成。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210708172720.png" alt="img"></p><p>特点是：通过外部输入的参考信号和控制环路的压控振荡器的输入信号的相位差，来得到它们的电压差，以这个电压作为误差电压来控制振荡器的频率，使压控振荡器频率达到与输入参考信号频率按一定比例输出的频率，因锁相环可以实现输出信号频率对输入信号频率的自动跟踪，所以锁相环通常用于闭环跟踪电路。锁相环在工作过程中，当输出信号的频率成比例地反映输入信号的频率时，输出电压与输入电压保持固定的相位差值，这样输出电压与输入电压的相位就被锁住了。</p></blockquote><blockquote><p><strong>STM32F4 有三个 PLL:</strong></p><p>1） 主 PLL(PLL)由 HSE 或者 HSI 提供时钟信号，并具有两个不同的输出时钟。第一个输出 PLLP 用于生成<strong>高速</strong>的系统时钟（最高 180MHz）第二个输出 PLLQ 为 48M 时钟， 用于 USB OTG FS 时钟，随机数发生器的时钟和SDIO时钟（SD卡）。VCO是压控振荡器。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210709095542.png" alt="img"></p><p>2） 第一个专用 PLL(PLLI2S)用于生成精确时钟， 在 I2S 和 SAI1 上实现高品质音频性能。 其中， N 是用于 PLLI2S vco 的倍频系数，其取值范围是： 192~432； R 是 I2S 时钟的分频系数，其取值范围是： 2~7； Q 是 SAI 时钟分频系数，其取值范围是： 2~15； <font color='red'>P 没用到</font>。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174756.png" alt="img"></p><p>3） 第二个专用 PLL(PLLSAI)同样用于生成精确时钟，用于 SAI1 输入时钟，同时还为 LCD_TFT接口提供精确时钟。 其中， N 是用于 PLLSAI vco 的倍频系数，其取值范围是： 192~432；Q 是 SAI 时钟分频系数，其取值范围是： 2~15； R 是 LTDC 时钟的分频系数，其取值范围是： 2~7；<font color='red'> P 没用到</font>。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174742.png" alt="img"></p></blockquote><ul><li>主PLL时钟计算</li></ul><p>例子：主 PLL 时钟第一个高速时钟输出 PLLP 的计算方法：配置180MHz为例：</p><p>分析：主 PLL 时钟的时钟源要先经过一个分频系数为 M 的分频器，然后经过倍频系数为 N 的倍频器出来之后还需要经过一个分频系数为 P（第一个输出 PLLP）或者 Q（第二个输出 PLLQ）的分频器分频之后，最后才生成最终的主 PLL 时钟。例如我们的外部晶振选择 25MHz。同时我们设置相应的分频器 M=25，倍频器倍频系数 N=360，分频器分频系数 P=2，那么主 PLL 生成的第一个输出高速时钟 PLLP 为：</p><blockquote><p><strong>PLL=25MHz * N/ (M*P)=25MHz* 360 /(25*2) = 180MHz</strong></p></blockquote><p>配置过程如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174559.png" alt=""></p><h2 id="时钟系统初始化"><a class="header-anchor" href="#时钟系统初始化">¶</a>时钟系统初始化</h2><h3 id="库函数版本源码分析"><a class="header-anchor" href="#库函数版本源码分析">¶</a>库函数版本源码分析</h3><p>在系统进入主函数之前，首先会执行SystemInit这个函数对系统进行初始化</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174453.png" alt=""></p><p>程序源码：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SystemInit</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/* FPU 设置------------------------------------------------------------*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> (__FPU_PRESENT == 1) &amp;&amp; (__FPU_USED == 1)</span></span><br><span class="line">SCB-&gt;CPACR |= ((<span class="number">3U</span>L &lt;&lt; <span class="number">10</span>*<span class="number">2</span>)|(<span class="number">3U</span>L &lt;&lt; <span class="number">11</span>*<span class="number">2</span>)); <span class="comment">/* set CP10 and CP11 Full Access */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">/* 复位 RCC 时钟配置为默认配置-----------*/</span></span><br><span class="line">RCC-&gt;CR |= (<span class="keyword">uint32_t</span>)<span class="number">0x00000001</span>;<span class="comment">//打开 HSION 位，默认给的是HSI的时钟</span></span><br><span class="line">RCC-&gt;CFGR = <span class="number">0x00000000</span>;<span class="comment">//复位 CFGR 寄存器</span></span><br><span class="line">RCC-&gt;CR &amp;= (<span class="keyword">uint32_t</span>)<span class="number">0xFEF6FFFF</span>;<span class="comment">//复位 HSEON, CSSON and PLLON 位</span></span><br><span class="line">RCC-&gt;PLLCFGR = <span class="number">0x24003010</span>; <span class="comment">//复位寄存器 PLLCFGR</span></span><br><span class="line">RCC-&gt;CR &amp;= (<span class="keyword">uint32_t</span>)<span class="number">0xFFFBFFFF</span>;<span class="comment">//复位 HSEBYP 位</span></span><br><span class="line">RCC-&gt;CIR = <span class="number">0x00000000</span>;<span class="comment">//关闭所有中断</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined (DATA_IN_ExtSRAM) || defined (DATA_IN_ExtSDRAM)</span></span><br><span class="line">SystemInit_ExtMemCtl();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* DATA_IN_ExtSRAM || DATA_IN_ExtSDRAM */</span></span></span><br><span class="line"><span class="comment">/* 配置中断向量表地址=基地址+偏移地址 ------------------*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> VECT_TAB_SRAM</span></span><br><span class="line">SCB-&gt;VTOR = SRAM_BASE | VECT_TAB_OFFSET;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">SCB-&gt;VTOR = FLASH_BASE | VECT_TAB_OFFSET;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>程序的作用：</p><p>1） FPU 设置<br>2） 复位 RCC 时钟配置为默认复位值（默认开始了 HIS）<br>3） 外部存储器配置<br>4） 中断向量表地址配置</p><blockquote><p>在F4的HAL库汇总SystemInit函数，并没有设置系统的主频和外设时钟的频率，所以所以需要自己去写这个函数。</p></blockquote><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//系统时钟初始化函数</span></span><br><span class="line"><span class="comment">//plln:主PLL倍频系数(PLL倍频),取值范围:64~432.</span></span><br><span class="line"><span class="comment">//pllm:主PLL和音频PLL分频系数(PLL之前的分频),取值范围:2~63.</span></span><br><span class="line"><span class="comment">//pllp:系统时钟的主PLL分频系数(PLL之后的分频),取值范围:2,4,6,8.(仅限这4个值!)</span></span><br><span class="line"><span class="comment">//pllq:USB/SDIO/随机数产生器等的主PLL分频系数(PLL之后的分频),取值范围:2~15.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Stm32_Clock_Init</span><span class="params">(u32 plln,u32 pllm,u32 pllp,u32 pllq)</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">RCC-&gt;CR|=<span class="number">0x00000001</span>;<span class="comment">//设置HISON,开启内部高速RC振荡</span></span><br><span class="line">RCC-&gt;CFGR=<span class="number">0x00000000</span>;<span class="comment">//CFGR清零 </span></span><br><span class="line">RCC-&gt;CR&amp;=<span class="number">0xFEF6FFFF</span>;<span class="comment">//HSEON,CSSON,PLLON清零 </span></span><br><span class="line">RCC-&gt;PLLCFGR=<span class="number">0x24003010</span>;<span class="comment">//PLLCFGR恢复复位值 </span></span><br><span class="line">RCC-&gt;CR&amp;=~(<span class="number">1</span>&lt;&lt;<span class="number">18</span>);<span class="comment">//HSEBYP清零,外部晶振不旁路</span></span><br><span class="line">RCC-&gt;CIR=<span class="number">0x00000000</span>;<span class="comment">//禁止RCC时钟中断 </span></span><br><span class="line">Sys_Clock_Set(plln,pllm,pllp,pllq);<span class="comment">//设置时钟 </span></span><br><span class="line"><span class="comment">//配置向量表  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span>  VECT_TAB_RAM</span></span><br><span class="line">MY_NVIC_SetVectorTable(<span class="number">1</span>&lt;&lt;<span class="number">29</span>,<span class="number">0x0</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span>   </span></span><br><span class="line">MY_NVIC_SetVectorTable(<span class="number">0</span>,<span class="number">0x0</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个函数需要的参数是4个，分别与系统原理图对应的是，如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174358.png" alt=""></p><p>然后，查看时钟控制CR寄存器（控制寄存器）的描述：</p><ol><li>开启HSION，开启内部高速RC震荡</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711164714.png" alt=""></p><ol start="2"><li>时钟配置寄存器CFRG清零</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711165007.png" alt=""></p><ol start="3"><li>配置时钟控制CR寄存器， 使位HSEON,CSSON,PLLON清零（第16、19、24位）</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711165527.png" alt=""></p><ol start="4"><li>RCC PLL 配置寄存器 (RCC_PLLCFGR),恢复默认值：<code>RCC-&gt;PLLCFGR=0x24003010;   //PLLCFGR恢复复位值</code></li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711165728.png" alt=""></p><ol start="5"><li>设置CR寄存器，外部晶振不旁路</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711170055.png" alt=""></p><ol start="6"><li>RCC 时钟中断寄存器 (RCC_CIR)，RCC-&gt;CR=0X00000000; //禁止RCC时钟中断</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711170311.png" alt=""></p><ol start="7"><li>设置时钟，使用函数Sys_Clock_Set(plln,pllm,pllp,pllq);//设置时钟，函数原型如下：</li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">u8 <span class="title">Sys_Clock_Set</span><span class="params">(u32 plln,u32 pllm,u32 pllp,u32 pllq)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">u16 retry=<span class="number">0</span>;</span><br><span class="line">u8 status=<span class="number">0</span>;</span><br><span class="line">RCC-&gt;CR|=<span class="number">1</span>&lt;&lt;<span class="number">16</span>;<span class="comment">//HSE 开启 </span></span><br><span class="line"><span class="keyword">while</span>(((RCC-&gt;CR&amp;(<span class="number">1</span>&lt;&lt;<span class="number">17</span>))==<span class="number">0</span>)&amp;&amp;(retry&lt;<span class="number">0X1FFF</span>))retry++;<span class="comment">//等待HSE RDY</span></span><br><span class="line"><span class="keyword">if</span>(retry==<span class="number">0X1FFF</span>)status=<span class="number">1</span>;<span class="comment">//HSE无法就绪</span></span><br><span class="line"><span class="keyword">else</span>   </span><br><span class="line">&#123;</span><br><span class="line">RCC-&gt;APB1ENR|=<span class="number">1</span>&lt;&lt;<span class="number">28</span>;<span class="comment">//电源接口时钟使能</span></span><br><span class="line">PWR-&gt;CR|=<span class="number">3</span>&lt;&lt;<span class="number">14</span>; <span class="comment">//高性能模式,时钟可到180Mhz</span></span><br><span class="line">RCC-&gt;CFGR|=(<span class="number">0</span>&lt;&lt;<span class="number">4</span>)|(<span class="number">5</span>&lt;&lt;<span class="number">10</span>)|(<span class="number">4</span>&lt;&lt;<span class="number">13</span>);<span class="comment">//HCLK 不分频;APB1 4分频;APB2 2分频. </span></span><br><span class="line">RCC-&gt;CR&amp;=~(<span class="number">1</span>&lt;&lt;<span class="number">24</span>);<span class="comment">//关闭主PLL</span></span><br><span class="line">RCC-&gt;PLLCFGR=pllm|(plln&lt;&lt;<span class="number">6</span>)|(((pllp&gt;&gt;<span class="number">1</span>)<span class="number">-1</span>)&lt;&lt;<span class="number">16</span>)|(pllq&lt;&lt;<span class="number">24</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">22</span>);<span class="comment">//配置主PLL,PLL时钟源来自HSE</span></span><br><span class="line">RCC-&gt;CR|=<span class="number">1</span>&lt;&lt;<span class="number">24</span>;<span class="comment">//打开主PLL</span></span><br><span class="line"><span class="keyword">while</span>((RCC-&gt;CR&amp;(<span class="number">1</span>&lt;&lt;<span class="number">25</span>))==<span class="number">0</span>);<span class="comment">//等待PLL准备好 </span></span><br><span class="line">FLASH-&gt;ACR|=<span class="number">1</span>&lt;&lt;<span class="number">8</span>;<span class="comment">//指令预取使能.</span></span><br><span class="line">FLASH-&gt;ACR|=<span class="number">1</span>&lt;&lt;<span class="number">9</span>;<span class="comment">//指令cache使能.</span></span><br><span class="line">FLASH-&gt;ACR|=<span class="number">1</span>&lt;&lt;<span class="number">10</span>;<span class="comment">//数据cache使能.</span></span><br><span class="line">FLASH-&gt;ACR|=<span class="number">5</span>&lt;&lt;<span class="number">0</span>;<span class="comment">//5个CPU等待周期. </span></span><br><span class="line">RCC-&gt;CFGR&amp;=~(<span class="number">3</span>&lt;&lt;<span class="number">0</span>);<span class="comment">//清零</span></span><br><span class="line">RCC-&gt;CFGR|=<span class="number">2</span>&lt;&lt;<span class="number">0</span>;<span class="comment">//选择主PLL作为系统时钟 </span></span><br><span class="line"><span class="keyword">while</span>((RCC-&gt;CFGR&amp;(<span class="number">3</span>&lt;&lt;<span class="number">2</span>))!=(<span class="number">2</span>&lt;&lt;<span class="number">2</span>));<span class="comment">//等待主PLL作为系统时钟成功. </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">return</span> status;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><ol start="8"><li>RCC-&gt;CR|=1&lt;&lt;16;         //设置CR寄存器的第16位为1，HSE 开启</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711171512.png" alt=""></p><ol start="9"><li>等待HSE时钟就绪，判断CR寄存器的第17位是否为1，返回1准备就绪，如果超时，返回标志位status=1.</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711172053.png" alt=""></p><ol start="10"><li>如果准备就绪，使能电源接口时钟，RCC-&gt;APB1ENR|=1&lt;&lt;28;   //设置APB1ENR寄存器28位为1电源接口时钟使能</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711172112.png" alt=""></p><ol start="11"><li>开始电源的高性能模式，PWR-&gt;CR|=3&lt;&lt;14;      //高性能模式,时钟可到180Mhz</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711172331.png" alt=""></p><ol start="12"><li>配置RCC的CFGR寄存器，//HCLK 不分频;APB1 4分频;APB2 2分频</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711174144.png" alt=""></p><ol start="13"><li><strong>RCC-&gt;CR&amp;=~(1&lt;&lt;24);   //关闭主PLL，配置主PLL的一些参数，配置完再重新打开</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210711175250.png" alt=""></p><ol start="14"><li>//配置主PLL,PLL时钟源来自HSE，<strong>RCC-&gt;PLLCFGR=pllm|(plln&lt;&lt;6)|(((pllp&gt;&gt;1)-1)&lt;&lt;16)|(pllq&lt;&lt;24)|(1&lt;&lt;22);</strong></li></ol><ul><li><strong>pllm,设置PLLM</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712105826.png" alt=""></p><ul><li><strong>(plln&lt;&lt;6)，设置PLLN</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712105909.png" alt=""></p><ul><li><strong>(((pllp&gt;&gt;1)-1)&lt;&lt;16),设置系统时钟的主PLL分频系数(PLL之后的分频),取值范围:2,4,6,8.(仅限这4个值!)</strong></li></ul><blockquote><p>为何是：(((pllp&gt;&gt;1)-1)&lt;&lt;16)呢？如下解释，当我们取值pllp为2时，可以得到(((pllp&gt;&gt;1)-1)&lt;&lt;16)=0</p><p>当pllp取值为4时，(((pllp&gt;&gt;1)-1)&lt;&lt;16)=1，同理，pllp取值为6时，(((pllp&gt;&gt;1)-1)&lt;&lt;16)=3.其实就是在调用函数的时候方便设置。可以看都这个寄存器的位，当第17:16为0时，就是这只pllp为2分频。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712110414.png" alt=""></p><ul><li><strong>(pllq&lt;&lt;24)，pllq:USB/SDIO/随机数产生器等的主PLL分频系数(PLL之后的分频),取值范围:2~15.</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712110458.png" alt=""></p><ul><li><strong>(1&lt;&lt;22)，选择主PLL的时钟源是HSE外部震荡时钟</strong></li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712110533.png" alt=""></p><p>此步骤完成的工作就是如下所示的设置：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712110808.png" alt=""></p><ol start="15"><li>设置完主PLL之后，重新打开主PLL: <strong>RCC-&gt;CR|=1&lt;&lt;24;       //打开主PLL</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712111026.png" alt=""></p><ol start="16"><li>每次打开PLL之前，都要等待就绪：<strong>while((RCC-&gt;CR&amp;(1&lt;&lt;25))==0);//等待PLL准备好</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712111334.png" alt=""></p><ol start="17"><li>设置FLASH寄存器参数：</li></ol><blockquote><p>FLASH-&gt;ACR|=1&lt;&lt;8;     //指令预取使能.<br>FLASH-&gt;ACR|=1&lt;&lt;9;     //指令cache使能.<br>FLASH-&gt;ACR|=1&lt;&lt;10;     //数据cache使能.<br>FLASH-&gt;ACR|=5&lt;&lt;0;     //5个CPU等待周期.</p></blockquote><ol start="18"><li>设置CFRG(RCC时钟配置寄存器)选择PLL作为系统时钟，<strong>RCC-&gt;CFGR&amp;=~(3&lt;&lt;0);    //清零 RCC-&gt;CFGR|=2&lt;&lt;0;</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712111614.png" alt=""></p><ol start="19"><li>等待主PLL设置为系统主时钟成功：<strong>while((RCC-&gt;CFGR&amp;(3&lt;&lt;2))!=(2&lt;&lt;2));</strong></li></ol><p><strong>语句含义：</strong> <strong>当CFGR的3：2位不等于01时就说明主PLL还未就绪，就绪等待。</strong></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712112050.png" alt=""></p><ol start="20"><li><strong>最后一步，配置向量表。</strong></li></ol><p>通过这样的设置系统时钟的整体配置就OK了。</p><p>如果调用函数：**u8 Sys_Clock_Set(u32 plln,u32 pllm,u32 pllp,u32 pllq)，**<strong>产生180Mhz的主频</strong></p><p>**设置参数：**外部晶振为25M的时候:plln=360,pllm=25,pllp=2,pllq=8.</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210712112224.png" alt=""></p><h3 id="HAL库函数版本源码分析"><a class="header-anchor" href="#HAL库函数版本源码分析">¶</a>HAL库函数版本源码分析</h3><p>HAL库主要是把寄存器进行封装，然后把一些参数合并到一个结构体，通过调用结构体的方式对寄存器进行赋值，间接的完成对STM32寄存器的配置。</p><p>主要是下面两个结构体：</p><p>1.RCC_OscInitTypeDef结构体：</p><blockquote><p>从结构体的名称中可以看出，这个结构体主要是选择时钟源，然后是时钟的状态（开启还是关闭）</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210713165115.png" alt=""></p><p>可以看到RCC_OscInitTypeDef 里面还嵌套了一个RCC_PLLInitTypeDef结构体，主要是用于主PLL配置用的。比如设置M分频，vco倍频等。</p><ul><li>RCC_PLLInitTypeDef 结构体如下:</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210713165242.png" alt=""></p><p>所以，第一步是定义一个<font color='red'>RCC_OscInitTypeDef</font>结构体变量，并给这个结构体变量赋值，然后调用，HAL_RCC_OscConfig函数(时钟源配置函数)，把这个结构体变量传进去，使设置生效。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">RCC_OscInitTypeDef RCC_OscInitStructure; </span><br><span class="line">RCC_ClkInitTypeDef RCC_ClkInitStructure;</span><br><span class="line"></span><br><span class="line">__HAL_RCC_PWR_CLK_ENABLE(); <span class="comment">//使能PWR时钟</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//下面这个设置用来设置调压器输出电压级别，以便在器件未以最大频率工作</span></span><br><span class="line"><span class="comment">//时使性能与功耗实现平衡，此功能只有STM32F42xx和STM32F43xx器件有，</span></span><br><span class="line">__HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);<span class="comment">//设置调压器输出电压级别1</span></span><br><span class="line"></span><br><span class="line">RCC_OscInitStructure.OscillatorType=RCC_OSCILLATORTYPE_HSE;    <span class="comment">//时钟源为HSE</span></span><br><span class="line">RCC_OscInitStructure.HSEState=RCC_HSE_ON;                      <span class="comment">//打开HSE</span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLState=RCC_PLL_ON;<span class="comment">//打开PLL</span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLSource=RCC_PLLSOURCE_HSE;<span class="comment">//PLL时钟源选择HSE</span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLM=pllm; <span class="comment">//主PLL和音频PLL分频系数(PLL之前的分频),取值范围:2~63.</span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLN=plln; <span class="comment">//主PLL倍频系数(PLL倍频),取值范围:64~432.  </span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLP=pllp; <span class="comment">//系统时钟的主PLL分频系数(PLL之后的分频),取值范围:2,4,6,8.(仅限这4个值!)</span></span><br><span class="line">RCC_OscInitStructure.PLL.PLLQ=pllq; <span class="comment">//USB/SDIO/随机数产生器等的主PLL分频系数(PLL之后的分频),取值范围:2~15.</span></span><br><span class="line">ret=HAL_RCC_OscConfig(&amp;RCC_OscInitStructure);<span class="comment">//初始化</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210713165858.png" alt=""></p><p>下面看一下<font color='red'>HAL_RCC_OscConfig</font>函数</p><ul><li>OscillatorType 这个成员变量是选择时钟时钟源的，可以看一下他的取值范围：取值范围小于15</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715102618.png" alt=""></p><p>在HAL库有对每一个时钟源进行宏定义的，如下：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715102810.png" alt=""></p><p>在上面的程序中，设置的成员变量的值为：<font color='red'>RCC_OSCILLATORTYPE_HSE </font>,就是值为：0x00000001</p><ul><li>HSEState 是选择时钟的工作方式，此处选择：<em>RCC_HSE_ON</em>,值为：0x01</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715103415.png" alt=""></p><p>在<strong>HAL_RCC_OscConfig</strong>，函数中对HSE的配置如下,贴出一部分代码：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Check the parameters */</span></span><br><span class="line">  assert_param(IS_RCC_OSCILLATORTYPE(RCC_OscInitStruct-&gt;OscillatorType));</span><br><span class="line">  <span class="comment">/*------------------------------- HSE Configuration ------------------------*/</span> </span><br><span class="line">  <span class="keyword">if</span>(((RCC_OscInitStruct-&gt;OscillatorType) &amp; RCC_OSCILLATORTYPE_HSE) == RCC_OSCILLATORTYPE_HSE)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">/* Check the parameters */</span></span><br><span class="line">    assert_param(IS_RCC_HSE(RCC_OscInitStruct-&gt;HSEState));</span><br><span class="line">    <span class="comment">/* When the HSE is used as system clock or clock source for PLL in these cases HSE will not disabled */</span></span><br><span class="line">  <span class="comment">//判断HSE是否作为系统时钟，或者作为PLL时钟的来源</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"> <span class="comment">// RCC_CFGR_SWS_HSE=0x00000004</span></span><br><span class="line"> <span class="comment">//__HAL_RCC_GET_SYSCLK_SOURCE函数，获取CFGR位 3:2 SWS： 系统时钟切换状态 (System clock switch status)</span></span><br><span class="line">  <span class="comment">//判断3:2位是否为01，含义：01： HSE 振荡器用作系统时钟，这两个位为只读</span></span><br><span class="line">  <span class="comment">//也就是判断此时系统时钟或者主PLL时钟是否已经设置为HSE</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//RCC_CFGR_SWS_PLL=0x00000008 ,判断CFGR的第3为是否为1</span></span><br><span class="line">    <span class="keyword">if</span>((__HAL_RCC_GET_SYSCLK_SOURCE() == RCC_CFGR_SWS_HSE)                                                                     ||\</span><br><span class="line">      ((__HAL_RCC_GET_SYSCLK_SOURCE() == RCC_CFGR_SWS_PLL) &amp;&amp; ((RCC-&gt;PLLCFGR &amp; RCC_PLLCFGR_PLLSRC) == RCC_PLLCFGR_PLLSRC_HSE)))</span><br><span class="line">    &#123;   <span class="comment">//PLL作为系统时钟，  RCC_PLLCFGR_PLLSRC=0x00400000，第22位，是否选择：1：选择 HSE 振荡器时钟作为 PLL 和 PLLI2S 时钟输入</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果HSE作为系统时钟来源，或者作为PLL时钟来源的话</span></span><br><span class="line">      <span class="keyword">if</span>((__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) != RESET) &amp;&amp; (RCC_OscInitStruct-&gt;HSEState == RCC_HSE_OFF))</span><br><span class="line">      &#123;</span><br><span class="line">  <span class="comment">//此时HSE已经打开了，或HSE没有使能，这里的任何一种情况都会导致失败</span></span><br><span class="line">        <span class="keyword">return</span> HAL_ERROR;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//否则的话，系统的时钟还没有进行初始化</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">/* Reset HSEON and HSEBYP bits before configuring the HSE --------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//对RCC-&gt;CFGR 寄存器的23:16 清零，也就是复位HSEON(关闭振荡器) 和重置就绪位</span></span><br><span class="line">      __HAL_RCC_HSE_CONFIG(RCC_HSE_OFF);</span><br><span class="line">      </span><br><span class="line"><span class="comment">//获取当前系统时间戳，用于判断关闭HSE是否超时</span></span><br><span class="line">      <span class="comment">/* Get Start Tick*/</span></span><br><span class="line">      tickstart = HAL_GetTick();</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* Wait till HSE is disabled */</span>  </span><br><span class="line">      <span class="keyword">while</span>(__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) != RESET)  <span class="comment">//等待HSE关闭</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span>((HAL_GetTick() - tickstart ) &gt; HSE_TIMEOUT_VALUE)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">return</span> HAL_TIMEOUT;  <span class="comment">//超过最大时间为关闭HSE则，出错</span></span><br><span class="line">        &#125;       </span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* Set the new HSE configuration ---------------------------------------*/</span></span><br><span class="line">  <span class="comment">//重新设置HSE,这个值来自于结构体，我们使用就需要使能，通过设置就可以对RCC-&gt;CFGR 寄存器的23:16，写此值</span></span><br><span class="line">      __HAL_RCC_HSE_CONFIG(RCC_OscInitStruct-&gt;HSEState);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* Check the HSE State */</span></span><br><span class="line">  <span class="comment">//再一次进行确认，我们是否设置了打开HSE</span></span><br><span class="line">      <span class="keyword">if</span>((RCC_OscInitStruct-&gt;HSEState) != RCC_HSE_OFF)</span><br><span class="line">      &#123;</span><br><span class="line">  <span class="comment">//进入说明，我们的确是打开了</span></span><br><span class="line">        <span class="comment">/* Get Start Tick*/</span></span><br><span class="line">  <span class="comment">//获取当前系统时间戳</span></span><br><span class="line">        tickstart = HAL_GetTick();</span><br><span class="line">      </span><br><span class="line">        <span class="comment">/* Wait till HSE is ready */</span> </span><br><span class="line"><span class="comment">//获取HSE就绪标志位，未就绪就等待</span></span><br><span class="line">        <span class="keyword">while</span>(__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) == RESET)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">if</span>((HAL_GetTick() - tickstart ) &gt; HSE_TIMEOUT_VALUE)</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">return</span> HAL_TIMEOUT;</span><br><span class="line">          &#125; </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="comment">//否则没有打开HSE的开关咯</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">/* Get Start Tick*/</span></span><br><span class="line">        tickstart = HAL_GetTick();</span><br><span class="line">         </span><br><span class="line">        <span class="comment">/* Wait till HSE is bypassed or disabled */</span></span><br><span class="line">        <span class="keyword">while</span>(__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) != RESET)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">if</span>((HAL_GetTick() - tickstart ) &gt; HSE_TIMEOUT_VALUE) <span class="comment">//HSE_TIMEOUT_VALUE=5000</span></span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">return</span> HAL_TIMEOUT;</span><br><span class="line">          &#125; </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>在stm32f4xx_hal_rcc.c中239行</p></blockquote><p>分析：</p><p><strong>1.第一句是判断我们选择的时钟来源，此处选择的是RCC_OSCILLATORTYPE_HSE ，所以这个条件成立</strong>：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(((RCC_OscInitStruct-&gt;OscillatorType) &amp; RCC_OSCILLATORTYPE_HSE) == RCC_OSCILLATORTYPE_HSE)</span><br></pre></td></tr></table></figure><p>2.继续判断</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>((__HAL_RCC_GET_SYSCLK_SOURCE() == RCC_CFGR_SWS_HSE)                                                                     ||\</span><br><span class="line">      ((__HAL_RCC_GET_SYSCLK_SOURCE() == RCC_CFGR_SWS_PLL) &amp;&amp; ((RCC-&gt;PLLCFGR &amp; RCC_PLLCFGR_PLLSRC) == RCC_PLLCFGR_PLLSRC_HSE)))</span><br><span class="line">    &#123;   <span class="comment">//PLL作为系统时钟，  RCC_PLLCFGR_PLLSRC=0x00400000，第22位，是否选择：1：选择 HSE 振荡器时钟作为 PLL 和 PLLI2S 时钟输入</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果HSE作为系统时钟来源，或者作为PLL时钟来源的话</span></span><br><span class="line">      <span class="keyword">if</span>((__HAL_RCC_GET_FLAG(RCC_FLAG_HSERDY) != RESET) &amp;&amp; (RCC_OscInitStruct-&gt;HSEState == RCC_HSE_OFF))</span><br><span class="line">      &#123;</span><br><span class="line">  <span class="comment">//此时HSE已经打开了，或HSE没有使能，这里的任何一种情况都会导致失败</span></span><br><span class="line">        <span class="keyword">return</span> HAL_ERROR;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>此处有三个条件的判断，成立才会执行if里面的语句，否则执行后面else的语句咯。</p><p>重点看一下函数：__HAL_RCC_GET_SYSCLK_SOURCE()，是什么意思。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715104613.png" alt="image-20210715104612082"></p><p>这个函数的目的是获取CFGR寄存器中的SWS两个位的数值，其实就是获取当前系统时钟的来源</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715105121.png" alt=""></p><p>RCC_CFGR_SWS_HSE就是定义的是一个数组</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715111411.png" alt=""></p><p>可知if语句的第一个判断条件的意思就是，判断当前的系统时钟来源是否是HSE（外部高速时钟），如果是的话，因为后面接的是一个或的符号，那么这个条件就算是成立了。</p><p>在分析后面一条语句：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">((__HAL_RCC_GET_SYSCLK_SOURCE() == RCC_CFGR_SWS_PLL) &amp;&amp; ((RCC-&gt;PLLCFGR &amp; RCC_PLLCFGR_PLLSRC) == RCC_PLLCFGR_PLLSRC_HSE))</span><br></pre></td></tr></table></figure><p>&amp;&amp;前面的一个语句，就是判断当前系统时钟来源是否为PLL,后面语句是获取RCC的PLL配置寄存器的内容</p><p>从下面的宏定义可以看的出来，其实就是获取获取RCC的PLL配置寄存器的22位进行判断此位是0还是1</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715112729.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715113130.png" alt="3"></p><p>通过查找手册可知，22位就是用来判断PLL的时钟来源，是HSE还是HSI</p><p><strong>那么总结上面的整条语句的意思：</strong></p><blockquote><p><strong>就是说，如果系统检测到你当前的系统时钟来源是HSE，或者说检测到系统失踪来源是PLL，而且PLL的时钟来源是HSE的话，那我就执行if里面的语句，其实里面就是返回一个错误提示，很好理解，因为上面的条件成立，说明你已经配置过时钟了，就不需要重新配置了。</strong></p><p><strong>其实在时钟系统图上也可以这样表示：</strong></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715113437.png" alt=""></p><p>已上任何一种情况都代表系统时钟已经初始化了。所以就没必要再执行下面的语句了。</p></blockquote><p><strong>3.如果上面的条件不成立，那么就说明系统时钟还没有进行配置，接下来就是进行系统时钟的配置了</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;对RCC-&gt;CFGR 寄存器的23:16 清零，也就是复位HSEON(关闭振荡器) 和重置就绪位</span><br><span class="line">      __HAL_RCC_HSE_CONFIG(RCC_HSE_OFF);</span><br></pre></td></tr></table></figure><p>通过查看__HAL_RCC_HSE_CONFIG(),即可知，这个函数的含义就是网一个寄存器里面写一个值</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715160101.png" alt=""></p><p>根据英文的备注是CR寄存器的第三个字节的基地址</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210715160956.png" alt=""></p><p>返回的其实是四字节的一个地址，现在强制把它转换为一个8位的地址，那其实就是RCC的CR寄存器的第三个字节，直接往这个地址写入我们想要的值。</p><p>待续。。。。</p><h2 id="Systick定时器"><a class="header-anchor" href="#Systick定时器">¶</a>Systick定时器</h2><p>Systick定时器，是一个简单的定时器，对于ST的CM3,CM4,CM7内核芯片，都有Systick定时器。内核的外设</p><p>Systick定时器常用来做延时，或着实时系统的心跳时钟。这样可以节省MCU资源，不用浪费一个定时器。比如UCOS中，分时复用，需要一个最小的时间戳，一般在STM32+UCOS系统中，都采用Systick做UCOS心跳时钟。</p><blockquote><p>一个能表示一份数据在某个特定时间之前已经存在的、 完整的、 可验证的数据,通常是一个字符序列,唯一地标识某一刻的时间</p></blockquote><p>Systick定时器就是系统滴答定时器，一个<strong>24位</strong>的倒计数定时器，计到0时，将从RELOAD寄存器中自动重装定时初值。只要不把它在SysTick控制及状态寄存器中的使能位清除，就用不停息，即使在睡眠模式下也能工作。</p><p>SysTick定时器被捆绑在NVIC中，用于产生SYSTICK异常（异常号：15）。</p><p>Systick中断的优先级也可以设置。</p><h3 id="相关的寄存器"><a class="header-anchor" href="#相关的寄存器">¶</a>相关的寄存器</h3><p>CTRL       SysTick 控制和状态寄存器</p><p>LOAD       SysTick 自动重装载除值寄存器</p><p>VAL        SysTick 当前值寄存器</p><p>CALIB      SysTick 校准值寄存器</p><ul><li>CTRL——控制和状态寄存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210727174600.png" alt=""></p><ul><li>LOAD——重装载数值寄存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210727180637.png" alt=""></p><ul><li>VAL——当前值寄存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210727180736.png" alt=""></p><ul><li>CALIB——校准寄存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210727180955.png" alt=""></p><p>程序中定义函数</p><p>在<code>stm32fxx_hal_cortex.c</code>中，配置的位2CLKSOURCE</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HAL_SYSTICK_CLKSourceConfig</span><span class="params">(<span class="keyword">uint32_t</span> CLKSource)</span><span class="comment">//Systick时钟源选择</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">/* Check the parameters */</span></span><br><span class="line">  assert_param(IS_SYSTICK_CLK_SOURCE(CLKSource));</span><br><span class="line">  <span class="keyword">if</span> (CLKSource == SYSTICK_CLKSOURCE_HCLK)</span><br><span class="line">  &#123;</span><br><span class="line">    SysTick-&gt;CTRL |= SYSTICK_CLKSOURCE_HCLK;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    SysTick-&gt;CTRL &amp;= ~SYSTICK_CLKSOURCE_HCLK;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在core_cm4.h中，配置经过多少个tick周期之后发生中断</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">__STATIC_INLINE <span class="keyword">uint32_t</span> <span class="title">SysTick_Config</span><span class="params">(<span class="keyword">uint32_t</span> ticks)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ((ticks - <span class="number">1U</span>L) &gt; SysTick_LOAD_RELOAD_Msk)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1U</span>L);                                                   <span class="comment">/* Reload value impossible */</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  SysTick-&gt;LOAD  = (<span class="keyword">uint32_t</span>)(ticks - <span class="number">1U</span>L);                         <span class="comment">/* set reload register */</span></span><br><span class="line">    <span class="comment">//设置优先级</span></span><br><span class="line">  NVIC_SetPriority (SysTick_IRQn, (<span class="number">1U</span>L &lt;&lt; __NVIC_PRIO_BITS) - <span class="number">1U</span>L); <span class="comment">/* set Priority for Systick Interrupt */</span></span><br><span class="line">  SysTick-&gt;VAL   = <span class="number">0U</span>L;                                             <span class="comment">/* Load the SysTick Counter Value */</span></span><br><span class="line">    <span class="comment">//开启了中断，设置了时钟源。使能了systick，并且设置了装载值</span></span><br><span class="line">  SysTick-&gt;CTRL  = SysTick_CTRL_CLKSOURCE_Msk |</span><br><span class="line">                   SysTick_CTRL_TICKINT_Msk   |</span><br><span class="line">                   SysTick_CTRL_ENABLE_Msk;                         <span class="comment">/* Enable SysTick IRQ and SysTick Timer */</span></span><br><span class="line">  <span class="keyword">return</span> (<span class="number">0U</span>L);                                                     <span class="comment">/* Function successful */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用中断的方式实现delay延时</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> __IO <span class="keyword">uint32_t</span> TimingDelay;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(__IO <span class="keyword">uint32_t</span> nTime)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   TimingDelay = nTime;</span><br><span class="line">   <span class="keyword">while</span>(TimingDelay != <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysTick_Handler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (TimingDelay != <span class="number">0x00</span>) </span><br><span class="line">     &#123; </span><br><span class="line">       TimingDelay--;<span class="comment">//递减</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"> </span>&#123;  …</span><br><span class="line">    <span class="keyword">if</span> (SysTick_Config(SystemCoreClock / <span class="number">1000</span>)) <span class="comment">//systick时钟为HCLK，中断时间间隔1ms</span></span><br><span class="line">     &#123;</span><br><span class="line">     <span class="keyword">while</span> (<span class="number">1</span>);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">     &#123; Delay(<span class="number">200</span>);<span class="comment">//2ms</span></span><br><span class="line">     … </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用查询方法实现delay延时</p><blockquote><p>使用中延时不一致的情况，一般是因为不同的内核时钟不一样，修改ticks值即可。</p></blockquote><h2 id="STM32cubeMX"><a class="header-anchor" href="#STM32cubeMX">¶</a>STM32cubeMX</h2><p>这是用来生成初始化代码，具体的控制逻辑代码还需要自己来编写</p><h2 id="中断优先级管理（NVIC）"><a class="header-anchor" href="#中断优先级管理（NVIC）">¶</a>中断优先级管理（NVIC）</h2><p>CM4/CM7内核支持256个中断，其中包含了16个内核中断和240个外部中断，并且具有256级的可编程中断设置。</p><p>STM32F4/F7并没有使用CM4内核的全部东西，而是只用了一部分。</p><p>①  STM32F40xx/STM32F41xx总共有92个中断。10个内核中断，82个可屏蔽中断。</p><p>②  STM32F42xx/F43xx则总共有97个中断。10个内核中断，87个可屏蔽中断。</p><p>③  STM32F76xx总共有118个中断，10个内核中断，108个可屏蔽中断。</p><p>优先级设定：NVIC-&gt;IPRx（8位）</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210818171647.png" alt=""></p><p>优先级分组：SCB-&gt;AIRCR:PRIGROUP[10:8]</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210818172029.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210818173309.png" alt=""></p><blockquote><p>注意：一般情况下，系统代码执行过程中，只设置一次中断优先级分组，比如分组2，设置好分组之后一般不会改变分组。随意改变分组会导致中断管理混乱，程序出现意想不到的执行结果。</p></blockquote><p>中断优先级分组函数HAL_NVIC_SetPriorityGrouping，位置在stm32f4xx_hal_cortex.c中</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HAL_NVIC_SetPriorityGrouping</span><span class="params">(<span class="keyword">uint32_t</span> PriorityGroup)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">/* Check the parameters */</span></span><br><span class="line">  assert_param(IS_NVIC_PRIORITY_GROUP(PriorityGroup));</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* Set the PRIGROUP[10:8] bits according to the PriorityGroup parameter value */</span></span><br><span class="line">  NVIC_SetPriorityGrouping(PriorityGroup);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一般默认设置分组2</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">HAL_NVIC_SetPriorityGrouping(NVIC_PRIORITYGROUP_2);<span class="comment">//中断优先级分组2</span></span><br></pre></td></tr></table></figure><p>中断设置相关的寄存器-&gt;core_cm4.h</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  __IOM <span class="keyword">uint32_t</span> ISER[<span class="number">8U</span>];               <span class="comment">/*!&lt; Offset: 0x000 (R/W)  Interrupt Set Enable Register */</span></span><br><span class="line">    <span class="comment">//中断使能寄存器</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RESERVED0[<span class="number">24U</span>];</span><br><span class="line">  __IOM <span class="keyword">uint32_t</span> ICER[<span class="number">8U</span>];               <span class="comment">/*!&lt; Offset: 0x080 (R/W)  Interrupt Clear Enable Register */</span></span><br><span class="line">    <span class="comment">//中断失能寄存器</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RSERVED1[<span class="number">24U</span>];</span><br><span class="line">  __IOM <span class="keyword">uint32_t</span> ISPR[<span class="number">8U</span>];               <span class="comment">/*!&lt; Offset: 0x100 (R/W)  Interrupt Set Pending Register */</span></span><br><span class="line">    <span class="comment">//中断挂起寄存器</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RESERVED2[<span class="number">24U</span>];</span><br><span class="line">  __IOM <span class="keyword">uint32_t</span> ICPR[<span class="number">8U</span>];               <span class="comment">/*!&lt; Offset: 0x180 (R/W)  Interrupt Clear Pending Register */</span></span><br><span class="line">    <span class="comment">//中断解挂寄存器</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RESERVED3[<span class="number">24U</span>];</span><br><span class="line">  __IOM <span class="keyword">uint32_t</span> IABR[<span class="number">8U</span>];               <span class="comment">/*!&lt; Offset: 0x200 (R/W)  Interrupt Active bit Register */</span></span><br><span class="line">    <span class="comment">//中断激活标志位寄存器</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RESERVED4[<span class="number">56U</span>];</span><br><span class="line">  __IOM <span class="keyword">uint8_t</span>  IP[<span class="number">240U</span>];               <span class="comment">/*!&lt; Offset: 0x300 (R/W)  Interrupt Priority Register (8Bit wide) */</span></span><br><span class="line">    <span class="comment">//中断优先级控制的寄存器组</span></span><br><span class="line">        <span class="keyword">uint32_t</span> RESERVED5[<span class="number">644U</span>];</span><br><span class="line">  __OM  <span class="keyword">uint32_t</span> STIR;                   <span class="comment">/*!&lt; Offset: 0xE00 ( /W)  Software Trigger Interrupt Register */</span></span><br><span class="line">    <span class="comment">//软件触发中断寄存器</span></span><br><span class="line">&#125;  NVIC_Type;</span><br></pre></td></tr></table></figure><p>中断优先级设置步骤</p><p>① 系统运行后在HAL_Init函数中设置中断优先级分组。</p><p>​调用函数</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">HAL_NVIC_SetPriorityGrouping(NVIC_PRIORITYGROUP_2);<span class="comment">//中断优先级分组2整个系统执行过程中，只设置一次中断分组</span></span><br></pre></td></tr></table></figure><p>② 针对每个中断，设置对应的抢占优先级和响应优先级：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HAL_NVIC_SetPriority</span><span class="params">(IRQn_Type IRQn, <span class="keyword">uint32_t</span> PreemptPriority, <span class="keyword">uint32_t</span> SubPriority)</span></span></span><br></pre></td></tr></table></figure><p>③ 使能中断通道</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HAL_NVIC_EnableIRQ</span><span class="params">(IRQn_Type IRQn)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="IO引脚复用"><a class="header-anchor" href="#IO引脚复用">¶</a>IO引脚复用</h2><p>一个GPIO如果可以复用为内置外设的功能引脚，那么当这个GPIO作为内置外设使用的时候，叫做复用。</p><blockquote><p>在STM32F429IGT6.pdf文件中</p></blockquote><p>STM32系列微控制器IO引脚通过一个复用器连接到内置外设或模块。该复用器一次只允许一个外设的复用功能（AF）连接到对应的IO口，这样可以确保共用同一个IO引脚的外设之间不会发生冲突。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830154714.png" alt="F42xx的端口复用"></p><p>AFRL复用功能低位寄存器</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830155158.png" alt=""></p><p>AFRH复用功能高位寄存器</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830155235.png" alt=""></p><p>复用功能映射配置</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830155722.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830155749.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830155811.png" alt=""></p><p>PA9,PA10复用为串口1的配置过程</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210830163910.png" alt=""></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__HAL_RCC_GPIOA_CLK_ENABLE();<span class="comment">//使能GPIOA时钟</span></span><br><span class="line">__HAL_RCC_USART1_CLK_ENABLE();<span class="comment">//使能USART1时钟</span></span><br><span class="line"></span><br><span class="line">GPIO_Initure.Pin=GPIO_PIN_9;<span class="comment">//PA9</span></span><br><span class="line">GPIO_Initure.Mode=GPIO_MODE_AF_PP;<span class="comment">//复用推挽输出</span></span><br><span class="line">GPIO_Initure.Pull=GPIO_PULLUP;<span class="comment">//上拉</span></span><br><span class="line">GPIO_Initure.Speed=GPIO_SPEED_FAST;<span class="comment">//高速</span></span><br><span class="line">GPIO_Initure.Alternate=GPIO_AF7_USART1;<span class="comment">//复用为USART1</span></span><br><span class="line">HAL_GPIO_Init(GPIOA,&amp;GPIO_Initure);   <span class="comment">//初始化PA9</span></span><br><span class="line"></span><br><span class="line">GPIO_Initure.Pin=GPIO_PIN_10;<span class="comment">//PA10</span></span><br><span class="line">HAL_GPIO_Init(GPIOA,&amp;GPIO_Initure);   <span class="comment">//初始化PA10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="UART串口通信原理"><a class="header-anchor" href="#UART串口通信原理">¶</a>UART串口通信原理</h2><p>并行、串行（单工、半双工、全双工）</p><p>UART异步通信方式引脚连接方法:</p><ul><li>RXD:数据输入引脚.数据接收</li><li>TXD:数据发送引脚.数据发送.</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831161701.png" alt="TTL协议"></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831161724.png" alt="R232协议"></p><p>通信协议</p><p>TTL串口&amp;R232协议&amp;RS485协议&amp;RS422</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831162958.png" alt=""></p><p>USB串口</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831163643.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831164358.png" alt="UART异步通信方式引脚"></p><p>STM32串口通信过程</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831164707.png" alt=""></p><p>异步通信需要定义的参数:</p><p>① 起始位：1个逻辑0数据位开始</p><p>② 数据位（8位或者9位）</p><p>③ 奇偶校验位（第9位）</p><p>④ 停止位（1,1.5,2位）</p><p>⑤ 波特率设置</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210831164855.png" alt=""></p><h1>直达底部</h1>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;阿波罗STM32&lt;/h1&gt;
&lt;h2 id=&quot;开发板底板引脚&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#开发板底板引脚&quot;&gt;¶&lt;/a&gt;开发板底板引脚&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210615090214.png&quot; alt&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JTAG调试，需要占用5个IO端口；SWD则只需要2个IO端口&lt;/p&gt;
&lt;p&gt;KEY_UP 是高电平有效，而 KEY0、KEY1 和 KEY2 是低电平有效&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;核心板资源图&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#核心板资源图&quot;&gt;¶&lt;/a&gt;核心板资源图&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210615090543.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210616094711.png&quot; alt&gt;&lt;/p&gt;
&lt;h2 id=&quot;GPIO口（通用IO口）&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#GPIO口（通用IO口）&quot;&gt;¶&lt;/a&gt;GPIO口（通用IO口）&lt;/h2&gt;
&lt;p&gt;STM32F429芯片有176个引脚，其中140个可以作为GPIO口。&lt;/p&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="STM32" scheme="http://stardust14.com/tags/STM32/"/>
    
  </entry>
  
  <entry>
    <title>雷达</title>
    <link href="http://stardust14.com/2021/05/13/%E9%9B%B7%E8%BE%BE/"/>
    <id>http://stardust14.com/2021/05/13/%E9%9B%B7%E8%BE%BE/</id>
    <published>2021-05-13T06:54:10.000Z</published>
    <updated>2021-05-21T09:53:31.507Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>理论积累</h1><p>奈奎斯特采样定理讨论的是频谱分布在(0,fH)上的基带信号的采样问题，但是，对于雷达接收机，接收信号大多为调制的射频信号，射频信号的频率上限远高于基带信号的频率上限，但是分布在有限的(fL,fH)范围内。虽然可以按高于最高频率的2倍进行奈奎斯特采样。</p><p>但是，很快就会发现当最高频率远远大于信号带宽B时，如果按照奈奎斯特采样率来采样，则其采样率会非常高，但是其信号带宽并不一定很宽，现实中的A/D难以实现的。这时，低通采样定理已经不能满足实际中的使用要求，从而催生了带通采样的应用。</p><ul><li>带通采样定理：</li></ul><p>设一个频率信号x(t)的频带限制在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>f</mi><mi>L</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>H</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f_L,f_H)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>内</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210513201147.png" alt=""></p><p>由于带限信号频谱具有轴对称性，故只需对一边的信号进行分析即可。如上图所示，进行采样时以采样频率fs为间隔对信号频谱进行搬移，不失真条件为搬移后的频谱在原频谱区域不发生混叠。</p><p>第一次搬移时不混叠条件：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mi>f</mi><mi>H</mi></msub><mo>+</mo><msub><mi>f</mi><mi>S</mi></msub><mo>≥</mo><mo>−</mo><msub><mi>f</mi><mi>L</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mi>f</mi><mi>L</mi></msub><mo>+</mo><msub><mi>f</mi><mi>S</mi></msub><mo>≤</mo><msub><mi>f</mi><mi>L</mi></msub><mo>−</mo><msub><mi>f</mi><mi>S</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}-f_H+f_S\geq -f_L\\ -f_L+f_S \leq f_L-f_S\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>连理求得</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>L</mi></msub><mo>−</mo><msub><mi>f</mi><mi>H</mi></msub><mo>≤</mo><msub><mi>f</mi><mi>S</mi></msub><mo>≤</mo><msub><mi>f</mi><mi>L</mi></msub></mrow><annotation encoding="application/x-tex">f_L-f_H \leq f_S \leq f_L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>此后对频谱进行搬移时，在两个最邻近右侧原频谱的移位频谱处发生不混叠的边界条件，即设第m次搬移频谱在原频谱左侧，第m+1次搬移频谱在原频谱右侧，得：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mi>f</mi><mi>H</mi></msub><mo>+</mo><mi>m</mi><msub><mi>f</mi><mi>S</mi></msub><mo>≤</mo><mo>−</mo><msub><mi>f</mi><mi>L</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mi>f</mi><mi>H</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mi>f</mi><mi>S</mi></msub><mo>≥</mo><msub><mi>f</mi><mi>H</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}-f_H+mf_S\leq -f_L\\ -f_H+(m+1)f_S \geq f_H \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>连理求得</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>2</mn><msub><mi>f</mi><mi>H</mi></msub></mrow><mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>≤</mo><msub><mi>f</mi><mi>S</mi></msub><mo>≤</mo><mfrac><mrow><mn>2</mn><msub><mi>f</mi><mi>L</mi></msub></mrow><mi>m</mi></mfrac><mspace width="1em"/><mspace width="1em"/><mi>m</mi><mo>≤</mo><mfrac><msub><mi>f</mi><mi>L</mi></msub><mrow><msub><mi>f</mi><mi>H</mi></msub><mo>−</mo><msub><mi>f</mi><mi>L</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{2f_H}{m+1} \leq f_S \leq \frac{2f_L}{m}    \quad \quad m \leq \frac{f_L}{f_H-f_L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.14077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.25188em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>通常情况下我们需要fs的带通采样最小值，此时由2fH/(m+1)≤ 2fL/m可知m≤[ fL/(fH-fL) ]，[ ]为向下取整符号。</p><blockquote><p><strong>带通采样的限制条件</strong></p><p>带通采样定理使用的前提条件是：只允许在其中一个频带上存在信号，而不允许在不同的频带同时存在信号，否则将会引起信号混叠。</p></blockquote><p>#############</p><p>阵列输出的绝对值与来波方向之间的关系称为<strong>天线的方向图</strong></p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;理论积累&lt;/h1&gt;
&lt;p&gt;奈奎斯特采样定理讨论的是频谱分布在(0,fH)上的基带信号的采样问题，但是，对于雷达接收机，接收信号大多为调制的射频信号，射频信号的频率上限远高于基带信号的频率上限，但是分布在有限的(fL,fH)范围内。虽然可以按高于最高频率的2倍进行奈奎斯特采样。&lt;/p&gt;
&lt;p&gt;但是，很快就会发现当最高频率远远大于信号带宽B时，如果按照奈奎斯特采样率来采样，则其采样率会非常高，但是其信号带宽并不一定很宽，现实中的A/D难以实现的。这时，低通采样定理已经不能满足实际中的使用要求，从而催生了带通采样的应用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;带通采样定理：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设一个频率信号x(t)的频带限制在&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(f_L,f_H)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.08125em;&quot;&gt;H&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;内&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210513201147.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;由于带限信号频谱具有轴对称性，故只需对一边的信号进行分析即可。如上图所示，进行采样时以采样频率fs为间隔对信号频谱进行搬移，不失真条件为搬移后的频谱在原频谱区域不发生混叠。&lt;/p&gt;
&lt;p&gt;第一次搬移时不混叠条件：&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;{&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.3599999999999999em&quot; columnalign=&quot;left left&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;≥&lt;/mo&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\begin{cases}-f_H+f_S\geq -f_L\\ -f_L+f_S \leq f_L-f_S\end{cases}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.0000299999999998em;vertical-align:-1.25003em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen delimcenter&quot; style=&quot;top:0em;&quot;&gt;&lt;span class=&quot;delimsizing size4&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-l&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.69em;&quot;&gt;&lt;span style=&quot;top:-3.69em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.008em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.08125em;&quot;&gt;H&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≥&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-2.25em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.008em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.19em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="雷达" scheme="http://stardust14.com/tags/%E9%9B%B7%E8%BE%BE/"/>
    
  </entry>
  
  <entry>
    <title>butterfly主题美化</title>
    <link href="http://stardust14.com/2021/04/08/butterfly%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/"/>
    <id>http://stardust14.com/2021/04/08/butterfly%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</id>
    <published>2021-04-08T00:52:42.000Z</published>
    <updated>2021-04-08T03:04:44.170Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>butterfly主题美化记录</h1><h2 id="社交图标"><a class="header-anchor" href="#社交图标">¶</a>社交图标</h2><p>在<a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a>，找到自己想要的图标，看中那个就加入购物车</p><p>加购完毕之后点击右上角的购物车，添加至项目，选择其中一种快捷方式登录，项目名称随便填</p><p>然后在我的项目里选择 <code>Font class</code>，点击查看在线链接并在浏览器中打开此链接，最后另存为本地<strong>主题文件夹</strong>下的<code>source\css</code>中。</p><p>然后在主题配置文件（_config.yml）里，inject引用图标css文件</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210408090314.png" alt=""></p><p>然后继续在配置文件中找到social配置项</p><p>格式为：iconfont class名：链接||名称</p><p>其中</p><ul><li><p>iconfont：是固定的</p></li><li><p>class 名：可在刚刚的阿里巴巴矢量图标库生成的 css 文件里找到</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210408090734.png" alt=""></p></li><li><p>链接：点击图标之后跳转的链接</p></li><li><p>名称：对应你图标的含义，例如：QQ、Github</p></li></ul><p>自定义图标的颜色：</p><p>打开下载到本地的css文件，换身衣裳</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210408091858.png" alt=""></p><p>其他图标同样的做法</p><h2 id="电子时钟"><a class="header-anchor" href="#电子时钟">¶</a>电子时钟</h2><blockquote><p>有错误，未解决</p></blockquote><h3 id="插件安装"><a class="header-anchor" href="#插件安装">¶</a>插件安装</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">npm i hexo-electric-clock --save</span><br><span class="line"></span><br><span class="line"><span class="section"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo-electric-clock --save</span><br></pre></td></tr></table></figure><h3 id="添加博客根目录-config配置项"><a class="header-anchor" href="#添加博客根目录-config配置项">¶</a>添加博客根目录_config配置项</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">electric<span class="emphasis">_clock:</span></span><br><span class="line"><span class="emphasis">  priority: 5</span></span><br><span class="line"><span class="emphasis">  enable: true</span></span><br><span class="line"><span class="emphasis">  enable_</span>page: all</span><br><span class="line">  layout:</span><br><span class="line"><span class="code">    type: class</span></span><br><span class="line"><span class="code">    name: sticky_layout</span></span><br><span class="line"><span class="code">    index: 0</span></span><br><span class="line"><span class="code">  temple_html: &#x27;&lt;div class=&quot;card-widget card-clock&quot;&gt;&lt;div class=&quot;card-glass&quot;&gt;&lt;div class=&quot;card-background&quot;&gt;&lt;div class=&quot;card-content&quot;&gt;&lt;div id=&quot;hexo_electric_clock&quot;&gt;&lt;img id=&quot;card-clock-loading&quot; src=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif&quot; style=&quot;height: 120px; width: 100%;&quot; data-ll-status=&quot;loading&quot; class=&quot;entered loading&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="enable"><a class="header-anchor" href="#enable">¶</a>enable</h3><p>**参数：**true/false<br>**含义：**是否开启插件</p><h3 id="enable-page"><a class="header-anchor" href="#enable-page">¶</a>enable_page</h3><p>**参数：**all<br>**含义：**路由地址，all 代表全局开启。如 / 代表主页。</p><h3 id="priority"><a class="header-anchor" href="#priority">¶</a>priority</h3><p>**参数：**1<br>**含义：**插件的叠放顺序，数字越大，叠放约靠前。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">electric<span class="emphasis">_clock:</span></span><br><span class="line"><span class="emphasis">  enable: true</span></span><br><span class="line"><span class="emphasis">  priority: 5 # 这里是参数</span></span><br></pre></td></tr></table></figure><h3 id="layout"><a class="header-anchor" href="#layout">¶</a>layout</h3><p>**参数：**type; （class&amp;id）<br>**参数：**name;<br>**参数：**index；（数字）<br>**含义：**如果说 electric_clock 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">desc</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="comment">&lt;!-- id=&gt;</span></span>type  recent-posts=&gt;name    --&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">desc</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div desc=&quot;我是纸&quot;&gt;</span></span><br><span class="line"><span class="code">      &lt;!--这里通过js挂载electric_clock，也就是画画--&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">  &lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="temple-html"><a class="header-anchor" href="#temple-html">¶</a>temple_html</h3><p>**参数：**html 模板字段<br>**含义：**包含挂载容器</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-widget card-clock&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="comment">&lt;!-- 挂载容器 --&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-glass&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div class=&quot;card-background&quot;&gt;</span></span><br><span class="line"><span class="code">      &lt;div class=&quot;card-content&quot;&gt;</span></span><br><span class="line"><span class="code">        &lt;div id=&quot;hexo_electric_clock&quot;&gt;</span></span><br><span class="line"><span class="code">          &lt;img</span></span><br><span class="line"><span class="code">            id=&quot;card-clock-loading&quot;</span></span><br><span class="line"><span class="code">            src=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif&quot;</span></span><br><span class="line"><span class="code">            style=&quot;height: 120px; width: 100%;&quot;</span></span><br><span class="line"><span class="code">            data-ll-status=&quot;loading&quot;</span></span><br><span class="line"><span class="code">            class=&quot;entered loading&quot;</span></span><br><span class="line"><span class="code">          /&gt;</span></span><br><span class="line"><span class="code">        &lt;/div&gt;</span></span><br><span class="line"><span class="code">      &lt;/div&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">  &lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h2 id="历史今日"><a class="header-anchor" href="#历史今日">¶</a>历史今日</h2><h3 id="安装插件"><a class="header-anchor" href="#安装插件">¶</a>安装插件</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">npm i hexo-history-calendar --save</span><br><span class="line"></span><br><span class="line"><span class="section"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo-history-calendar --save</span><br></pre></td></tr></table></figure><h3 id="博客根目录-config-配置项-："><a class="header-anchor" href="#博客根目录-config-配置项-：">¶</a>博客根目录_config 配置项 ：</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">YAML</span><br><span class="line">复制成功history<span class="emphasis">_calendar:</span></span><br><span class="line"><span class="emphasis">  priority: 4</span></span><br><span class="line"><span class="emphasis">  enable: true</span></span><br><span class="line"><span class="emphasis">  enable_</span>page: all</span><br><span class="line">  layout:</span><br><span class="line"><span class="code">    type: class</span></span><br><span class="line"><span class="code">    name: sticky_layout</span></span><br><span class="line"><span class="code">    index: 0</span></span><br><span class="line"><span class="code">  temple_html: &#x27;&lt;div class=&quot;card-widget card-history&quot;&gt;&lt;div class=&quot;card-content&quot;&gt;&lt;div class=&quot;item-headline&quot;&gt;&lt;i class=&quot;fas fa-clock fa-spin&quot;&gt;&lt;/i&gt;&lt;span&gt;那年今日&lt;/span&gt;&lt;/div&gt;&lt;div id=&quot;history-baidu&quot; style=&quot;height: 100px;overflow: hidden&quot;&gt;&lt;div class=&quot;history_swiper-container&quot; id=&quot;history-container&quot; style=&quot;width: 100%;height: 100%&quot;&gt;&lt;div class=&quot;swiper-wrapper&quot; id=&quot;history_container_wrapper&quot; style=&quot;height:20px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="enable-v2"><a class="header-anchor" href="#enable-v2">¶</a>enable</h3><p>**参数：**true/false<br>**含义：**是否开启插件</p><h3 id="enable-page-v2"><a class="header-anchor" href="#enable-page-v2">¶</a>enable_page</h3><p>**参数：**all<br>**含义：**路由地址，all 代表全局开启。如 / 代表主页。</p><h3 id="priority-v2"><a class="header-anchor" href="#priority-v2">¶</a>priority</h3><p>**参数：**1<br>**含义：**插件的叠放顺序，数字越大，叠放约靠前。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">YAML</span><br><span class="line">history<span class="emphasis">_calendar:</span></span><br><span class="line"><span class="emphasis">  enable: true</span></span><br><span class="line"><span class="emphasis">  priority: 4 # 这里是参数</span></span><br></pre></td></tr></table></figure><h3 id="layout-v2"><a class="header-anchor" href="#layout-v2">¶</a>layout</h3><p>**参数：**type; （class&amp;id）<br>**参数：**name;<br>**参数：**index；（数字）<br>**含义：**如果说 history_calendar 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">HTML</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">desc</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="comment">&lt;!-- id=&gt;</span></span>type  recent-posts=&gt;name    --&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">desc</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div desc=&quot;我是纸&quot;&gt;</span></span><br><span class="line"><span class="code">      &lt;!--这里通过js挂载history_calendar，也就是画画--&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">  &lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="temple-html-v2"><a class="header-anchor" href="#temple-html-v2">¶</a>temple_html</h3><p>**参数：**html 模板字段<br>**含义：**包含挂载容器</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">XML</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-widget card-history&quot;</span>&gt;</span></span> <span class="xml"><span class="comment">&lt;!-- 挂载容器 --&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div class=&quot;item-headline&quot;&gt;</span></span><br><span class="line"><span class="code">      &lt;i class=&quot;fas fa-clock fa-spin&quot;&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="code">      &lt;span&gt;那年今日&lt;/span&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">  &lt;div id=&quot;history-baidu&quot; style=&quot;height: 100px;overflow: hidden&quot;&gt; &lt;!-- 挂载器 --&gt;</span></span><br><span class="line"><span class="code">    &lt;div class=&quot;history_swiper-container&quot; id=&quot;history-container&quot; style=&quot;width: 100%;height: 100%&quot;&gt;</span></span><br><span class="line"><span class="code">          &lt;div class=&quot;swiper-wrapper&quot; id=&quot;history_container_wrapper&quot; style=&quot;height:20px&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">  &lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h1>参考来自</h1><a class="btn-beautify button--animated block" href="https://blog.imzjw.cn/posts/b74f504f/"   title="点此跳转"><i class="far fa-hand-point-right fa-fw"></i><span>点此跳转</span></a><a class="btn-beautify button--animated block" href="https://zfe.space/post/hexo-electric-clock.html"   title="点此跳转"><i class="far fa-hand-point-right fa-fw"></i><span>点此跳转</span></a><a class="btn-beautify button--animated block" href="https://zfe.space/post/hexo-history-calendar.html"   title="点此跳转"><i class="far fa-hand-point-right fa-fw"></i><span>点此跳转</span></a>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;butterfly主题美化记录&lt;/h1&gt;
&lt;h2 id=&quot;社交图标&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#社交图标&quot;&gt;¶&lt;/a&gt;社交图标&lt;/h2&gt;
&lt;p&gt;在&lt;a href=&quot;https://www.iconfont.cn/&quot;&gt;阿里巴巴矢量图标库&lt;/a&gt;，找到自己想要的图标，看中那个就加入购物车&lt;/p&gt;
&lt;p&gt;加购完毕之后点击右上角的购物车，添加至项目，选择其中一种快捷方式登录，项目名称随便填&lt;/p&gt;
&lt;p&gt;然后在我的项目里选择 &lt;code&gt;Font class&lt;/code&gt;，点击查看在线链接并在浏览器中打开此链接，最后另存为本地&lt;strong&gt;主题文件夹&lt;/strong&gt;下的&lt;code&gt;source\css&lt;/code&gt;中。&lt;/p&gt;
&lt;p&gt;然后在主题配置文件（_config.yml）里，inject引用图标css文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210408090314.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;然后继续在配置文件中找到social配置项&lt;/p&gt;
&lt;p&gt;格式为：iconfont class名：链接||名称&lt;/p&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="随笔" scheme="http://stardust14.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>分享&amp;记录</title>
    <link href="http://stardust14.com/2021/04/07/%E5%88%86%E4%BA%AB-%E8%AE%B0%E5%BD%95/"/>
    <id>http://stardust14.com/2021/04/07/%E5%88%86%E4%BA%AB-%E8%AE%B0%E5%BD%95/</id>
    <published>2021-04-07T08:39:32.000Z</published>
    <updated>2021-04-07T09:29:03.186Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="7066236b71bd093e2c9f53bf82622c0e9bd218274369bab2b32498af42cebc66">31242a41c922984c3c7e6ed39d2c978a39cd93922d549058b144463d7a1519272fa19dce3629f278aaed84c96a5c85cfb21d90190581ad32f40bbabf9b62b7250d325eea2bf076e2cdbf55e3c24285bf6e8b911be2da55e80e31eb116cedd161373c576f9c7eaa34b0c22d52333648cbf1b2b32bce14fc44950b046203047fc8965e48c16a0577d7647ad1aa56ad7a4484d547b335e841275628ebe6cebe760b9fd61250d56736073b6ecd28ad45846bba3f5259cc41984812e7d4a99811c18466a3d31dc1150a203670051b3b07265a6a81fde20fe261ddd6b07f9001256de791c796602283c7045ce9c585d9165b9bb33c144c782ecc9a705562505efbb8f1e77a8555cd0468f569fb23a2579cf7476dd2194d4d78b619b79d8c07b1f9c2175635095ac4bc51805ba7e820143398c9263cdef1a2746ecac1bc72bc7520025e</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">Hey, password is required here.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">&lt;div class=&quot;hbe hbe-container&quot; id=&quot;hexo-blog-encrypt&quot; data-wpm=&quot;Oh, this is an invalid password. Check and try again, please.&quot; data-whm=&quot;OOPS, these decrypted content may changed, but you can still have a look.&quot;&gt;
  &lt;script id=&quot;hbeData&quot; type=&quot;hbeData&quot; data-hmacdigest=&quot;7066236b71bd093e2c9f53bf82622c0e9bd218274369bab2b32498af42cebc66&quot;&gt;31242a41c922984c3c7e6ed39d2c978a39cd93922d549058b144463d7a1519272fa19dce3629f278aaed84c96a5c85cfb21d90190581ad32f40bbabf9b62b7250d325eea2bf076e2cdbf55e3c24285bf6e8b911be2da55e80e31eb116cedd161373c576f9c7eaa34b0c22d52333648cbf1b2b32bce14fc44950b046203047fc8965e48c16a0577d7647ad1aa56ad7a4484d547b335e841275628ebe6cebe760b9fd61250d56736073b6ecd28ad45846bba3f5259cc41984812e7d4a99811c18466a3d31dc1150a203670051b3b07265a6a81fde20fe261ddd6b07f9001256de791c796602283c7045ce9c585d9165b9bb33c144c782ecc9a705562505efbb8f1e77a8555cd0468f569fb23a2579cf7476dd2194d4d78b619b79d8c07b1f9c2175635095ac4bc51805ba7e820143398c9263cdef1a2746ecac1bc72bc7520025e&lt;/script&gt;
  &lt;div class=&quot;hbe hbe-content&quot;&gt;
    &lt;div class=&quot;hbe hbe-input hbe-input-xray&quot;&gt;
      &lt;input class=&quot;hbe hbe-input-field hbe-input-field-xray&quot; type=&quot;password&quot; id=&quot;hbePass&quot;&gt;
      &lt;label class=&quot;hbe hbe-input-label hbe-input-label-xray&quot; for=&quot;hbePass&quot;&gt;
        &lt;span class=&quot;hbe hbe-input-label-content hbe-input-label-content-xray&quot;&gt;Hey, password is required here.&lt;/span&gt;
      &lt;/label&gt;
      &lt;svg class=&quot;hbe hbe-graphic hbe-graphic-xray&quot; width=&quot;300%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 1200 60&quot; preserveAspectRatio=&quot;none&quot;&gt;
        &lt;path d=&quot;M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
        &lt;path d=&quot;M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;script data-pjax src=&quot;/lib/hbe.js&quot;&gt;&lt;/script&gt;&lt;link href=&quot;/css/hbe.style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="随笔" scheme="http://stardust14.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>批注记录</title>
    <link href="http://stardust14.com/2021/04/07/%E6%89%B9%E6%B3%A8%E8%AE%B0%E5%BD%95/"/>
    <id>http://stardust14.com/2021/04/07/%E6%89%B9%E6%B3%A8%E8%AE%B0%E5%BD%95/</id>
    <published>2021-04-07T08:23:11.000Z</published>
    <updated>2021-04-08T10:01:04.320Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="2fcf70f93106af4f44a6b4a9317f1bf81351f4e94bb6f1323459216d14f02c18">22064b17c03cb0c0e58c99349b6889d0c7e9d327de57f2d214b057f3875d6b37b9b20ab3b449f9d3b0ba6ffe12bb71d82eff8171349bc71e3a2c9718b358eacc07c1e2d0dcdcc94bb927d4bdef70eb39fd8e7de731fdf8f27d06339a84133e4a974b5fae5fee1809df024fdfbb238fba030fdd8003e2826f0a33da9ce588a76e8e6bc91b4049cb9065bb5b9840402572bd86834c2d0c361fdb4259dd56633b9d286b14b14b74d50d4ca10de4c2e54f118835e2ea5a28de2ac78c4f57666f83faa6cf49198dbd3f86312e8ae6475e1ad55bc0f991fa504124763e450733221c2a781fb4c5fbae0d7123703d7ac9a38542095b3da435e03cc3247b4eff26b05bc0b9e2a2c706e61562c7bb934180842f9b6dc301690938c4f21c78468483f3e95d8b5dcc7048e9b21da20cd49dde4a8cd683cfc91feffd222c011316f66497312669c395d166bbc4e9518b0008cf6b92975c76b75ea7645421c9d7e156f6d824d2c0892d2b3835cb34e29b6164ac5b171e91b073be40a5f07d833b0ba2047deb5c5681bf1fb48fb4af8bb0e2493e2b3b3e98279dbcdb3cb4aeb62164bf28ae94eb18e587b9ae3d7340b674b5f9e1f77e5e60c56c06cfa36d7460e8e19b4156cc0b35de9e2506da358011c8d20166305cbedbaa6a5a43e35dd4f1120bf05c3a51149693768289c76395859688f7c40ac480bee9427637213b8611f31b86f53e56d25b0247028467efd7a299c21016038df477e1219595d90fcfdc57fba758f96301f5146be17f7f14a48229757225def14d3c30eb76c32c626a63606bad9c98bda3e69c6268be1f5954e80690f082bf9027805bc03d4096deeb9ccb9cb48b2c6db5e42ae71d320fae1a5ed921463cd37936f0cd0225ca9124108d0abb447665cff099be802002607c1db5c7608155344f315d28759b32b514948d47a45574124d9b3e6574ad48e371cec8cec9a50fe7d2376d7bb18ed6604f5da90b43818367f002f26aef4d7bbdfc84f1dc0957a9f5ed72809c5642a90b5823f3f98e8842cd1c800e9b2147bba8ccf0cd51d8473a2d4d2d24f53dcf6cb5cfb6749f5d0683d3ad3db3d179878a4b60b02ef9184de71532847e6ed2747ed50c01f0ab899b938f64b98c09a0dad54d087533805dc3eb56b5fcf1bc41f1416e0d1ac664dd22764c7e222a590fd133459ad9566ba24a997e0fe2d1b9948fee107708e334353a08b1bb39c62357fa125768f0f8946f86b93a14feb91a334e0517a4c086c7171c03c3fd9287a4971411042a380d562a88163c0aab3d7496559144df81f103e0f1028598cdc7632dde89026b29d6e6763cf5386ea826f7ae0212d2f0c72720929b60b88d59e10bf3f58a7e0544a1f87786018230fa970b072e05f32c014b06a3886f2f8af1443d921285384ebd6b8eab3e0505a39f309afef9c7f2e2d2a7a0727483e195c4b3dbb3609c0793b497647c21b4015c71eecf2e802e2b13e40c0d008f547c79d327028eab87299957fa33075fd43ffe2461ddc83982c4c8000aa50f5e36649d147aaebc9cd91c0f8d18577a08fd8e8b65a2f5a017454efdec16f6cfea82e59ae3e08d2bb550606ba5e632aaa828ce85b3ec25a6bfcb87e484743d5d7faf354e676e8ef4f658766e13848b2b337d0b4ee60490302e0f45ba4364762313e27ddeac613a36865942f94e7eb1d0303be635165332bceb8c6227c7075b825d80cd8653e502d54213bd8f2a5b0fe6d0d718b2d25a299ea8ca868f26d5647af9080cb5eb8bc1f6d3b2363b452fdfa5cee1a31d03d6a2cfa36a0e7806da9043630257cb159a2a36b6cfc67c1af4baf7e2d802193e883890ac38e14209dad36a5cba95696e635d4d1d5b08d94343d8f54de79f67932f16914214594230b1ef79b6f6f0abf9853d97df149480f1f9b32087eeda3df0181431201c82e597ff5d7554874b7a87f1f171053046e7b5f438a23c4705a999bccffedf1643f35a351fcdea90fe1fb6c15a277cf7a8c852e028bbc94a201ac62ea61cbed40107fdf8a4e33010f4c56f44f8779a3a7743a585bf632bf53ac21d2f5a7b9c3380f08685157e1392d48c31f373057d6f02b8ca66924aeca4f1f1649bbccf0c1e65317c3e7889d00209ffd2052d75f400f7ea67d307c7382e5e0726dc1b1a69f35d1c430aefe96b09d9e387</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">Hey, password is required here.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">&lt;div class=&quot;hbe hbe-container&quot; id=&quot;hexo-blog-encrypt&quot; data-wpm=&quot;Oh, this is an invalid password. Check and try again, please.&quot; data-whm=&quot;OOPS, these decrypted content may changed, but you can still have a look.&quot;&gt;
  &lt;script id=&quot;hbeData&quot; type=&quot;hbeData&quot; data-hmacdigest=&quot;2fcf70f93106af4f44a6b4a9317f1bf81351f4e94bb6f1323459216d14f02c18&quot;&gt;22064b17c03cb0c0e58c99349b6889d0c7e9d327de57f2d214b057f3875d6b37b9b20ab3b449f9d3b0ba6ffe12bb71d82eff8171349bc71e3a2c9718b358eacc07c1e2d0dcdcc94bb927d4bdef70eb39fd8e7de731fdf8f27d06339a84133e4a974b5fae5fee1809df024fdfbb238fba030fdd8003e2826f0a33da9ce588a76e8e6bc91b4049cb9065bb5b9840402572bd86834c2d0c361fdb4259dd56633b9d286b14b14b74d50d4ca10de4c2e54f118835e2ea5a28de2ac78c4f57666f83faa6cf49198dbd3f86312e8ae6475e1ad55bc0f991fa504124763e450733221c2a781fb4c5fbae0d7123703d7ac9a38542095b3da435e03cc3247b4eff26b05bc0b9e2a2c706e61562c7bb934180842f9b6dc301690938c4f21c78468483f3e95d8b5dcc7048e9b21da20cd49dde4a8cd683cfc91feffd222c011316f66497312669c395d166bbc4e9518b0008cf6b92975c76b75ea7645421c9d7e156f6d824d2c0892d2b3835cb34e29b6164ac5b171e91b073be40a5f07d833b0ba2047deb5c5681bf1fb48fb4af8bb0e2493e2b3b3e98279dbcdb3cb4aeb62164bf28ae94eb18e587b9ae3d7340b674b5f9e1f77e5e60c56c06cfa36d7460e8e19b4156cc0b35de9e2506da358011c8d20166305cbedbaa6a5a43e35dd4f1120bf05c3a51149693768289c76395859688f7c40ac480bee9427637213b8611f31b86f53e56d25b0247028467efd7a299c21016038df477e1219595d90fcfdc57fba758f96301f5146be17f7f14a48229757225def14d3c30eb76c32c626a63606bad9c98bda3e69c6268be1f5954e80690f082bf9027805bc03d4096deeb9ccb9cb48b2c6db5e42ae71d320fae1a5ed921463cd37936f0cd0225ca9124108d0abb447665cff099be802002607c1db5c7608155344f315d28759b32b514948d47a45574124d9b3e6574ad48e371cec8cec9a50fe7d2376d7bb18ed6604f5da90b43818367f002f26aef4d7bbdfc84f1dc0957a9f5ed72809c5642a90b5823f3f98e8842cd1c800e9b2147bba8ccf0cd51d8473a2d4d2d24f53dcf6cb5cfb6749f5d0683d3ad3db3d179878a4b60b02ef9184de71532847e6ed2747ed50c01f0ab899b938f64b98c09a0dad54d087533805dc3eb56b5fcf1bc41f1416e0d1ac664dd22764c7e222a590fd133459ad9566ba24a997e0fe2d1b9948fee107708e334353a08b1bb39c62357fa125768f0f8946f86b93a14feb91a334e0517a4c086c7171c03c3fd9287a4971411042a380d562a88163c0aab3d7496559144df81f103e0f1028598cdc7632dde89026b29d6e6763cf5386ea826f7ae0212d2f0c72720929b60b88d59e10bf3f58a7e0544a1f87786018230fa970b072e05f32c014b06a3886f2f8af1443d921285384ebd6b8eab3e0505a39f309afef9c7f2e2d2a7a0727483e195c4b3dbb3609c0793b497647c21b4015c71eecf2e802e2b13e40c0d008f547c79d327028eab87299957fa33075fd43ffe2461ddc83982c4c8000aa50f5e36649d147aaebc9cd91c0f8d18577a08fd8e8b65a2f5a017454efdec16f6cfea82e59ae3e08d2bb550606ba5e632aaa828ce85b3ec25a6bfcb87e484743d5d7faf354e676e8ef4f658766e13848b2b337d0b4ee60490302e0f45ba4364762313e27ddeac613a36865942f94e7eb1d0303be635165332bceb8c6227c7075b825d80cd8653e502d54213bd8f2a5b0fe6d0d718b2d25a299ea8ca868f26d5647af9080cb5eb8bc1f6d3b2363b452fdfa5cee1a31d03d6a2cfa36a0e7806da9043630257cb159a2a36b6cfc67c1af4baf7e2d802193e883890ac38e14209dad36a5cba95696e635d4d1d5b08d94343d8f54de79f67932f16914214594230b1ef79b6f6f0abf9853d97df149480f1f9b32087eeda3df0181431201c82e597ff5d7554874b7a87f1f171053046e7b5f438a23c4705a999bccffedf1643f35a351fcdea90fe1fb6c15a277cf7a8c852e028bbc94a201ac62ea61cbed40107fdf8a4e33010f4c56f44f8779a3a7743a585bf632bf53ac21d2f5a7b9c3380f08685157e1392d48c31f373057d6f02b8ca66924aeca4f1f1649bbccf0c1e65317c3e7889d00209ffd2052d75f400f7ea67d307c7382e5e0726dc1b1a69f35d1c430aefe96b09d9e387&lt;/script&gt;
  &lt;div class=&quot;hbe hbe-content&quot;&gt;
    &lt;div class=&quot;hbe hbe-input hbe-input-xray&quot;&gt;
      &lt;input class=&quot;hbe hbe-input-field hbe-input-field-xray&quot; type=&quot;password&quot; id=&quot;hbePass&quot;&gt;
      &lt;label class=&quot;hbe hbe-input-label hbe-input-label-xray&quot; for=&quot;hbePass&quot;&gt;
        &lt;span class=&quot;hbe hbe-input-label-content hbe-input-label-content-xray&quot;&gt;Hey, password is required here.&lt;/span&gt;
      &lt;/label&gt;
      &lt;svg class=&quot;hbe hbe-graphic hbe-graphic-xray&quot; width=&quot;300%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 1200 60&quot; preserveAspectRatio=&quot;none&quot;&gt;
        &lt;path d=&quot;M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
        &lt;path d=&quot;M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0&quot;/&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;script data-pjax src=&quot;/lib/hbe.js&quot;&gt;&lt;/script&gt;&lt;link href=&quot;/css/hbe.style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</summary>
    
    
    
    <category term="随笔" scheme="http://stardust14.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="http://stardust14.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>MUSIC算法</title>
    <link href="http://stardust14.com/2021/03/15/MUSIC%E7%AE%97%E6%B3%95/"/>
    <id>http://stardust14.com/2021/03/15/MUSIC%E7%AE%97%E6%B3%95/</id>
    <published>2021-03-15T03:22:31.000Z</published>
    <updated>2021-07-21T02:15:29.285Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>MUSIC算法</h1><div class="note warning flat"><p>以下部分是基于线阵阵列！！！还有许多不完善的地方，待续···</p></div><p>假设入射到天线阵列的近似为远场窄带信号，它们分别来自<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>θ</mi><mn>2</mn></msub><mo separator="true">,</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">,</mo><msub><mi>θ</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">\theta_1,\theta_2,···,\theta_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>共K个方向，则有</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>A</mi><mi>s</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mi>v</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(n)=As(n)+v(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><blockquote><p>x(n)是天线阵各阵元的接收数据向量，M*1</p><p>A是阵列的方向矩阵，M*K</p><p>s(n)为空间信号向量,K*1</p><p>v(n)是白噪声向量，M*1</p></blockquote><p>接收信号向量的空间相关矩阵可表示为</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mi>X</mi><mo stretchy="false">(</mo><mi>n</mi><msup><mo stretchy="false">)</mo><mi>H</mi></msup><mo stretchy="false">]</mo><mo>=</mo><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo>+</mo><msup><mi>σ</mi><mn>2</mn></msup><mi>I</mi></mrow><annotation encoding="application/x-tex">R=E[X(n)X(n)^H]=AR_sA^H+\sigma^2I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span></p><blockquote><p>I是单位矩阵</p></blockquote><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><msub><mi>w</mi><mn>0</mn></msub><mi>τ</mi></mrow></msup><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mn>2</mn><mi>π</mi><mi>f</mi><mi>τ</mi></mrow></msup><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mn>2</mn><mi>π</mi><mfrac><mi>c</mi><mi>λ</mi></mfrac><msub><mi>x</mi><mi>k</mi></msub><mi>s</mi><mi>i</mi><mi>n</mi><msub><mi>θ</mi><mi>i</mi></msub></mrow></msup></mrow><annotation encoding="application/x-tex">A=e^{-jw_0\tau}=e^{-j2 \pi f\tau}=e^{-j2\pi \frac{c}{\lambda}x_ksin{\theta_i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathdefault mtight" style="margin-right:0.1132em;">τ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight" style="margin-right:0.1132em;">τ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915428571428572em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span></span></span></span>是波程差（距离差)<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>τ</mi><mo>=</mo><mfrac><mi>c</mi><mi>λ</mi></mfrac></mrow><annotation encoding="application/x-tex">\tau=\frac{c}{\lambda}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，c是光速，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>为波长，x_k是位置信息（以原点为坐标），<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi><mo>=</mo><mfrac><mi>c</mi><mi>f</mi></mfrac></mrow><annotation encoding="application/x-tex">\lambda=\frac{c}{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1764999999999999em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><blockquote><p>为何要进行协方差矩阵处理？</p><p>雷达接收到的信号是累加的！！（二维FFT）</p><p>任何方阵都可以求特征值和特征向量。矩阵可以对角化，那么非零特征值的个数就等于矩阵的秩。</p></blockquote><p>由于实际中采集的接收数据矩阵是有限长的，需要对有限的采样数据的协方差矩阵进行最大似然估计</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>R</mi><mo stretchy="true">^</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>L</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>L</mi></msubsup><mi>X</mi><msup><mi>X</mi><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">\widehat{R}=\frac{1}{L}\sum_{i=1}^{L}XX^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.92333em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.92333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span><span class="svg-align" style="width:calc(100% - 0.16668em);margin-left:0.16668em;top:-3.6833299999999998em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span></p><blockquote><p>L代表矩阵长度</p></blockquote><p>对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">AR_sA^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span>进行特征值的分解，设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mn>1</mn></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\widetilde{\lambda}_1,\widetilde{\lambda}_2,\cdots,\widetilde{\lambda}_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.14888em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为特征值；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">u_1,u_2,\cdots,u_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是对应正交归一化特征向量。</p><p>通常M&gt;K，假设矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">AR_sA^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span>的所有非零特征值设为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mn>1</mn></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>K</mi></msub><mi mathvariant="normal">≠</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">\widetilde{\lambda}_1,\widetilde{\lambda}_2,\cdots,\widetilde{\lambda}_K\neq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.14888em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>；剩余的所有特征值设为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mrow><mi>K</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>M</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\widetilde{\lambda}_{K+1},\widetilde{\lambda}_{K+2},\cdots,\widetilde{\lambda}_M=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.162771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo stretchy="false">)</mo><msub><mi>u</mi><mi>i</mi></msub><mo>=</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>K</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo stretchy="false">)</mo><msub><mi>u</mi><mi>i</mi></msub><mo>=</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow><mo separator="true">,</mo><mi>K</mi><mo>+</mo><mn>2</mn><mo separator="true">,</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>M</mi></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases} (AR_sA^H)u_i=\widetilde{\lambda}_iu_i,i=1,2,,\cdots,K\\ (AR_sA^H)u_i=\widetilde{\lambda}_iu_i,i={K+1},K+2,,\cdots,M \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>对上式同时右乘<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>u</mi><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">u^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span>，有</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo stretchy="false">)</mo><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">(AR_sA^H)u_i{u_i}^H=\widetilde{\lambda}_iu_i{u_i}^H,i=1,2,,\cdots,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.14888em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></p><p>对于i取所有可能的值并且相加，可得</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo stretchy="false">)</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></msubsup><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></msubsup><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">(AR_sA^H)\sum_{i=1}^Mu_i{u_i}^H=\sum_{i=1}^M\widetilde{\lambda}_iu_i{u_i}^H,i=1,2,,\cdots,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">u_1,u_2,\cdots,u_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是对应正交归一化矩阵，即有</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></msubsup><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">\sum_{i=1}^Mu_i{u_i}^H=I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span></p><p>即有</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>R</mi><mi>s</mi></msub><msup><mi>A</mi><mi>H</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></msubsup><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">AR_sA^H=\sum_{i=1}^M\widetilde{\lambda}_iu_i{u_i}^H=\sum_{i=1}^K\widetilde{\lambda}_iu_i{u_i}^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span></p><p>所以，协方差矩阵（自相关矩阵）R可表示为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>+</mo><msubsup><mi>σ</mi><mi>v</mi><mn>2</mn></msubsup><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><mo stretchy="false">(</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><mo>+</mo><msubsup><mi>σ</mi><mi>v</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>+</mo><msubsup><mi>σ</mi><mi>v</mi><mn>2</mn></msubsup><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>K</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msup><msub><mi>u</mi><mi>i</mi></msub><mi>H</mi></msup></mrow><annotation encoding="application/x-tex">R=\sum_{i=1}^K\widetilde{\lambda}_iu_i{u_i}^H+\sigma_v^2\sum_{i=1}^Mu_i{u_i}^H=\sum_{i=1}^K(\widetilde{\lambda}_i+\sigma_v^2)u_i{u_i}^H+\sigma_v^2\sum_{i=K+1}^Mu_i{u_i}^H=\sum_{i=1}^M{\lambda}_iu_i{u_i}^H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.1810030000000005em;vertical-align:-1.352667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8556639999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.352667em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span></span></p><blockquote><p>式中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mi>i</mi></msub><mo>=</mo><msub><mover accent="true"><mi>λ</mi><mo stretchy="true">~</mo></mover><mi>i</mi></msub><mo>+</mo><msubsup><mi>σ</mi><mi>v</mi><mn>2</mn></msubsup><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">{\lambda}_i=\widetilde{\lambda}_i+\sigma_v^2,i=1,2,\cdots,K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1044399999999999em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.95444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">λ</span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mi>i</mi></msub><mo>=</mo><msubsup><mi>σ</mi><mi>v</mi><mn>2</mn></msubsup><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mi>K</mi><mo>+</mo><mn>1</mn><mi mathvariant="normal">，</mi><mi>K</mi><mo>+</mo><mi mathvariant="normal">，</mi><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">{\lambda}_i=\sigma_v^2,i=K+1，K+，\cdots,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></p></blockquote><blockquote><p>经标准化的样本数据的协方差矩阵就是原始样本数据的样本矩阵</p><p>标准化是指正态化，即将原始数据处理成均值为0，方差为1的标准数据。</p></blockquote><blockquote><p>R的M个特征值中与信号有关的仅有K个，分别是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>λ</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_1,{\lambda}_2,\cdots,{\lambda}_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,其余的M-K个特征值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_{K+1},{\lambda}_{K+2},\cdots,{\lambda}_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>只与噪声有关。</p></blockquote><p>信号子空间用符号<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">E_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>所表示，由<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>λ</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_1,{\lambda}_2,\cdots,{\lambda}_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>对应的特征向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">u_1,u_2,\cdots,u_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>生成的子空间，即</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>s</mi></msub><mo>=</mo><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">E_s=span</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span></span></span></span>{<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">u_1,u_2,\cdots,u_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>}</p><blockquote><p>信号子空间的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>λ</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>K</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_1,{\lambda}_2,\cdots,{\lambda}_K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示的是大特征值，噪声子空间的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_{K+1},{\lambda}_{K+2},\cdots,{\lambda}_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示的是小特征值。</p></blockquote><p>噪声子空间用符号<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">E_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>所表示，由<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>λ</mi><mrow><mi>K</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>λ</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">{\lambda}_{K+1},{\lambda}_{K+2},\cdots,{\lambda}_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>对应的特征向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">u_{K+1},\cdots,u_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>生成的子空间，即</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>N</mi></msub><mo>=</mo><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">E_N=span</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span></span></span></span>{<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mrow><mi>K</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>u</mi><mrow><mi>K</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">u_{K+1},u_{K+2},\cdots,u_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>}</p><p><font color='red'><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">E_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>既与信号有关，也与噪声有关；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">E_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>仅与噪声有关。</font></p><p>定义矩阵</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>u</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>u</mi><mrow><mi>k</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>u</mi><mi>M</mi></msub><mo stretchy="false">]</mo><mo>∈</mo><msup><mi>C</mi><mrow><mi>M</mi><mo>×</mo><mi>M</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">G=[u_{k+1},u_{k+2},\cdots,u_M]\in C^{M \times M-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span></p><blockquote><p>G矩阵相当于噪声子空间构成的矩阵。</p><p>为什么要用噪声子空间作为G？</p><p>导向矢量和噪声子空间正交</p></blockquote><p>由于A是列满秩矩阵，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">R_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是满秩矩阵，所以有</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mi>H</mi></msup><mi>G</mi><mo>=</mo><mn>0</mn><mspace linebreak="newline"></mspace><mo>⇓</mo><mspace linebreak="newline"></mspace><msup><mi>G</mi><mi>H</mi></msup><mi>A</mi><mo>=</mo><msup><mi>G</mi><mi>H</mi></msup><mo stretchy="false">[</mo><mi>a</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mspace width="1em"/><mi>a</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mspace width="1em"/><mo>⋯</mo><mspace width="1em"/><mi>a</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn><mspace linebreak="newline"></mspace><mo>⇓</mo><mspace linebreak="newline"></mspace><msup><mi>G</mi><mi>H</mi></msup><mi>a</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mspace width="1em"/><mi>k</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>K</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">A^HG=0     \\      \Downarrow \\    G^HA=G^H[a(\theta_1)\quad a(\theta_2) \quad \cdots \quad a(\theta_k)]=0\\    \Downarrow \\    G^Ha(\theta_k)=0, \quad k=1,2,\cdots,K.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">⇓</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">⇓</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord">.</span></span></span></span></span></p><blockquote><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a(\theta_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>是阵列导向向量。</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>R</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msup><mi>x</mi><mi>H</mi></msup><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{R}=\frac{1}{N}\sum_{n=1}^N x(n)x^H(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9467699999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></p><p>可得到MUSIC谱估计为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mrow><mi>M</mi><mi>U</mi><mi>S</mi><mi>I</mi><mi>C</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msup><mi>a</mi><mi>H</mi></msup><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mover accent="true"><mi>G</mi><mo>^</mo></mover><msup><mover accent="true"><mi>G</mi><mo>^</mo></mover><mi>H</mi></msup><mi>a</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mfrac><mo separator="true">,</mo><mspace width="1em"/><mi>θ</mi><mo>∈</mo><mo stretchy="false">(</mo><mo>−</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo separator="true">,</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_{MUSIC}(\theta)=\frac{1}{a^H(\theta) \hat{G} \hat{G}^H a(\theta)} ,\quad \theta \in (-\frac{\pi}{2},\frac{\pi}{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40821em;vertical-align:-1.08677em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.16323em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.767331em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">G</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">G</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.767331em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.08677em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.7935600000000003em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><blockquote><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>G</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{G}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9467699999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">G</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span></span></span></span>是由自相关矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>R</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9467699999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span></span></span></span>的特征值分解而得到。</p></blockquote><blockquote><p><font color='red'>在空间谱域求取谱函数最大值，其谱峰对应的角度即是来波方向角的估计值。</font></p></blockquote><div class='tip warning'>    <p>线阵的信号参数搜索范围为[-90°，90°]<p>    <p>面阵的信号参数搜索范围为[-180°，180°]<p></div><p>由于实际中要估计信号源的个数，因此估计的越准确误差越小，所以估计信号源的算法也很重要。</p><div class='tip warning'><p>信号源估计算法还未理解透彻，待续....<p></div><p><font color='blue'>AIC准则估计信号源个数的算法为</font></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>I</mi><mi>C</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><munderover><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><msubsup><mi>λ</mi><mi>i</mi><mfrac><mn>1</mn><mrow><mi>M</mi><mo>−</mo><mi>k</mi></mrow></mfrac></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mfrac><mn>1</mn><mrow><mi>M</mi><mo>−</mo><mi>k</mi></mrow></mfrac><mo stretchy="false">)</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><msup><mo stretchy="false">]</mo><mrow><mo stretchy="false">(</mo><mi>M</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mi>N</mi></mrow></msup><mo>+</mo><mn>2</mn><mi>k</mi><mo stretchy="false">(</mo><mn>2</mn><mi>M</mi><mo>−</mo><mi>K</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">AIC(k)=-2ln[(\prod_{i=k+1}^{M} \lambda_{i}^{\frac{1}{M-k}})/(\frac{1}{M-k})\sum_{i=k+1}^{M} \lambda_i]^{(M-k)N}+2k(2M-K)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1887800000000004em;vertical-align:-1.360444em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.360444em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.218285em;"><span style="top:-2.7231360000000002em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.6272650000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.40352142857142853em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.360444em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mclose">)</span></span></span></span></span></p><p>信号源个数是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mspace width="1em"/><mspace width="1em"/><mspace width="1em"/><mover accent="true"><mi>K</mi><mo>^</mo></mover><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi>A</mi><mi>I</mi><mi>C</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>⋯</mo><mi>M</mi><mo>−</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\quad \quad \quad \hat{K}=min\{AIC(k),k=0,1,\cdots M-1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9467699999999999em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">{</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span></p><p><font color='blue'>MDL准则估计算法可表示为</font></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mi>D</mi><mi>L</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>l</mi><mi>n</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><munderover><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><msubsup><mi>λ</mi><mi>i</mi><mfrac><mn>1</mn><mrow><mi>M</mi><mo>−</mo><mi>k</mi></mrow></mfrac></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mfrac><mn>1</mn><mrow><mi>M</mi><mo>−</mo><mi>k</mi></mrow></mfrac><mo stretchy="false">)</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><msup><mo stretchy="false">]</mo><mrow><mo stretchy="false">(</mo><mi>M</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mi>N</mi></mrow></msup><mo>+</mo><mfrac><mi>k</mi><mn>2</mn></mfrac><mo stretchy="false">(</mo><mn>2</mn><mi>M</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mi>l</mi><mi>n</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">MDL(k)=-ln[(\prod_{i=k+1}^M \lambda_{i}^{\frac{1}{M-k}})/(\frac{1}{M-k})\sum_{i=k+1}^M \lambda_i]^{(M-k)N} +\frac{k}{2}(2M-k)lnN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1887800000000004em;vertical-align:-1.360444em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.360444em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.218285em;"><span style="top:-2.7231360000000002em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.6272650000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.40352142857142853em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.360444em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></span></p><p>信号源个数是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mspace width="1em"/><mspace width="1em"/><mspace width="1em"/><mover accent="true"><mi>K</mi><mo>^</mo></mover><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi>M</mi><mi>D</mi><mi>L</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><mi>M</mi><mo>−</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\quad \quad \quad \hat{K}=min \{MDL(k),k=0,1,\cdots,M-1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9467699999999999em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span></p><h1>MATLAB仿真</h1><ol><li>采用阵元间隔为半个波长的5阵元均匀线阵，1个远场窄带信号从21°的方向入射到阵列，信号是归一化频率为0.1的纯载波，中频信号的信噪比为12dB（本小节的信噪比均指中频信号的信噪比），天线阵的采样快拍数是100。</li></ol><div class='tip warning'><p>下面这个程序，有些地方多余，需要进一步的改进<p></div><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%仿真黄永兢的仿真数据结果图2-4</span></span><br><span class="line"><span class="comment">%music算法部分，候补上MVDR算法</span></span><br><span class="line">clear all;clc;</span><br><span class="line">derad = <span class="built_in">pi</span>/<span class="number">180</span>;<span class="comment">%角度转换弧度</span></span><br><span class="line">N = <span class="number">5</span>;<span class="comment">%阵元个数</span></span><br><span class="line">M = <span class="number">1</span>;<span class="comment">%信源数目</span></span><br><span class="line">theta = [<span class="number">21</span>];<span class="comment">%待估计的角度</span></span><br><span class="line">snr = <span class="number">12</span>;<span class="comment">%信噪比</span></span><br><span class="line">K = <span class="number">100</span>;<span class="comment">%快拍数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%%阵元间隔为半个波长的5阵元均匀线阵</span></span><br><span class="line"><span class="comment">%syms q;%设波长为q</span></span><br><span class="line">q = <span class="number">0.5</span>;</span><br><span class="line">d = <span class="number">0</span>:q:(N<span class="number">-1</span>)*q;<span class="comment">%设置步长</span></span><br><span class="line">A=<span class="built_in">exp</span>(<span class="number">-1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d.&#x27;*<span class="built_in">sin</span>(theta*derad));<span class="comment">%方向矢量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%%%构建信号模型</span></span><br><span class="line"><span class="comment">%实际上还是基础的公式</span></span><br><span class="line"><span class="comment">%X = A*S+noise;</span></span><br><span class="line">S = <span class="built_in">randn</span>(M,K);<span class="comment">%信源信号   100快拍数划分信号</span></span><br><span class="line">X = A*S;</span><br><span class="line">X1 = awgn(X,snr,<span class="string">&#x27;measured&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%计算协方差矩阵</span></span><br><span class="line">Rxx = X1*X1&#x27;/K;</span><br><span class="line"><span class="comment">%&quot;.&#x27;&quot;是转置，&quot;&#x27;&quot;是共轭转置</span></span><br><span class="line"><span class="comment">%特征值分解</span></span><br><span class="line">[EV,D] = eig(Rxx);<span class="comment">%特征值分解</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%eig函数的用法</span></span><br><span class="line"><span class="comment">%求出的特征值会自动升序。</span></span><br><span class="line"><span class="comment">%[V,D] = eig(A)</span></span><br><span class="line"><span class="comment">%其中的V是A的特征向量，D是特征值(对角阵)</span></span><br><span class="line"></span><br><span class="line">EVA = <span class="built_in">diag</span>(D)&#x27;;<span class="comment">%取对角线的数据并共轭转置</span></span><br><span class="line">[EVA,I] = <span class="built_in">sort</span>(EVA);</span><br><span class="line"><span class="comment">%sort函数可以按从小到大排列数，默认是列排序</span></span><br><span class="line"><span class="comment">%EVA表示输出的值（按从小到大）</span></span><br><span class="line"><span class="comment">%I表示输出排序后值原来的位置，记忆特征值原来的位置，为下一步做准备</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%这一步的作用是把特征向量按照从大到小进行排列，I的作用就是是变换后的特征向量的顺序和上一步特征值的顺序保持一致，一一对应。</span></span><br><span class="line"><span class="comment">%由于fliplr括号里面特征向量是按照从小到大的顺序，所以再通过fliplr函数进行翻转，使之变成特征值大的元素对应的特征向量按照从小到大的原则排序。</span></span><br><span class="line"><span class="comment">%处理完之后EV里的特征向量其实就变成了前面是信号子空间，后面是噪声子空间里的向量。</span></span><br><span class="line">EV = <span class="built_in">fliplr</span>(EV(:,I));<span class="comment">%对应特征矢量排序，特征向量根据特征值排列</span></span><br><span class="line"><span class="comment">%fliplr函数作用是翻转矩阵</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%遍历每个角落，计算空间谱</span></span><br><span class="line"><span class="keyword">for</span> iang = <span class="number">1</span>:<span class="number">361</span><span class="comment">%360°全覆盖测角</span></span><br><span class="line">    <span class="built_in">angle</span>(iang)=(iang<span class="number">-181</span>)/<span class="number">2</span>;</span><br><span class="line">    phim=derad*<span class="built_in">angle</span>(iang);</span><br><span class="line">    a=<span class="built_in">exp</span>(<span class="number">-1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d*<span class="built_in">sin</span>(phim)).&#x27;;</span><br><span class="line">    En=EV(:,M+<span class="number">1</span>:N);     <span class="comment">%取矩阵的第M+1到N列组成噪声子空间</span></span><br><span class="line">    Pmusic(iang)=<span class="number">1</span>/(a&#x27;*En*En&#x27;*a);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Pmusic=<span class="built_in">abs</span>(Pmusic);<span class="comment">%提取模值</span></span><br><span class="line">Pmmax=<span class="built_in">max</span>(Pmusic);<span class="comment">%求出最大值</span></span><br><span class="line">Pmusic=<span class="number">10</span>*<span class="built_in">log10</span>(Pmusic/Pmmax);      <span class="comment">%归一化的处理</span></span><br><span class="line">h=<span class="built_in">plot</span>(<span class="built_in">angle</span>,Pmusic);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;MUSIC&#x27;</span>)</span><br><span class="line">set(h,<span class="string">&#x27;Linewidth&#x27;</span>,<span class="number">2</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;入射角/(degree)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;空间谱/(dB)&#x27;</span>);</span><br><span class="line">set(gca,<span class="string">&#x27;XTick&#x27;</span>,[<span class="number">-100</span>:<span class="number">20</span>:<span class="number">100</span>]);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210320104613.png" alt=""></p><div class='tip success'><p>改进的程序<p></div><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%music算法的改进</span></span><br><span class="line">clear all;clc;</span><br><span class="line">derad=<span class="built_in">pi</span>/<span class="number">180</span>;</span><br><span class="line">N = <span class="number">5</span>;</span><br><span class="line">M = <span class="number">1</span>;</span><br><span class="line">theta = [<span class="number">21</span>];<span class="comment">%待测角度</span></span><br><span class="line">snr = <span class="number">12</span>;</span><br><span class="line">K = <span class="number">100</span>;<span class="comment">%快拍数</span></span><br><span class="line">dd = <span class="number">0.5</span>;</span><br><span class="line">d = <span class="number">0</span>:dd:(N<span class="number">-1</span>)*dd;<span class="comment">%步长</span></span><br><span class="line">A=<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d.&#x27;*<span class="built_in">sin</span>(theta*derad));<span class="comment">%方向矢量</span></span><br><span class="line"></span><br><span class="line">S = <span class="built_in">randn</span>(M,K);</span><br><span class="line">X = A * S;</span><br><span class="line">Xn = awgn(X,snr,<span class="string">&#x27;measured&#x27;</span>);<span class="comment">%构成的信号</span></span><br><span class="line"></span><br><span class="line">Rxx = Xn*Xn&#x27;/K;</span><br><span class="line">[EV,D] = eig(Rxx);<span class="comment">%特征值分解，并且按照从小到大排序</span></span><br><span class="line"></span><br><span class="line">EV = <span class="built_in">fliplr</span>(EV);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> iange = <span class="number">1</span>:<span class="number">361</span>;</span><br><span class="line">    <span class="built_in">angle</span>(iange) = (iange<span class="number">-181</span>)/<span class="number">2</span>;</span><br><span class="line">    phim = derad*<span class="built_in">angle</span>(iange);</span><br><span class="line">    a = <span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d*<span class="built_in">sin</span>(phim)).&#x27;;<span class="comment">%保证是列向量</span></span><br><span class="line">    G = EV(:,M+<span class="number">1</span>:N);</span><br><span class="line">    P_music(iange) = <span class="number">1</span>/(a&#x27;*G*G&#x27;*a);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">P_music = <span class="built_in">abs</span>(P_music);<span class="comment">%提取模值</span></span><br><span class="line">Pm_max = <span class="built_in">max</span>(P_music);</span><br><span class="line">P_music = <span class="number">10</span>*<span class="built_in">log10</span>(P_music/Pm_max);</span><br><span class="line">h = <span class="built_in">plot</span>(<span class="built_in">angle</span>,P_music);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;MUSIC&#x27;</span>);</span><br><span class="line">set(h,<span class="string">&#x27;Linewidth&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;入射角/(degree)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;空间谱/(dB)&#x27;</span>);</span><br><span class="line">set(gca,<span class="string">&#x27;XTick&#x27;</span>,[<span class="number">-100</span>:<span class="number">20</span>:<span class="number">100</span>]);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210322110314.png" alt=""></p><p>不同阵元数对MUSIC算法的影响</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%阵元数不同的情况下</span></span><br><span class="line"></span><br><span class="line">clear all;clc</span><br><span class="line">derad = <span class="built_in">pi</span> / <span class="number">180</span>;<span class="comment">%弧度转换</span></span><br><span class="line">N = [<span class="number">5</span> <span class="number">10</span> <span class="number">20</span>];<span class="comment">%阵元个数</span></span><br><span class="line">M = <span class="number">3</span>;<span class="comment">%信源数目</span></span><br><span class="line">doa = [<span class="number">-30</span> <span class="number">0</span> <span class="number">60</span>]*derad;<span class="comment">%待测角度</span></span><br><span class="line">snr = <span class="number">10</span>;<span class="comment">%信噪比</span></span><br><span class="line">K = <span class="number">100</span>;<span class="comment">%快拍数</span></span><br><span class="line">dd = <span class="number">0.5</span>;<span class="comment">%阵元间隔（假设值）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">length</span>(N)</span><br><span class="line">    d = <span class="number">0</span>:dd:(<span class="built_in">max</span>(N)<span class="number">-1</span>)*dd;</span><br><span class="line">    <span class="keyword">for</span> ii = <span class="number">1</span>:<span class="built_in">length</span>(doa)</span><br><span class="line">        A(:,ii)=<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d.&#x27;*<span class="built_in">sin</span>(doa(ii)));</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    S = <span class="built_in">randn</span>(M,K);</span><br><span class="line">    X = A(<span class="number">1</span>:N(<span class="built_in">i</span>),:) * S;</span><br><span class="line">    Xn = awgn(X,snr,<span class="string">&#x27;measured&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    Rxx = Xn*Xn&#x27;/K;</span><br><span class="line">    [EV,D] = eig(Rxx);</span><br><span class="line">    </span><br><span class="line">    EV  = <span class="built_in">fliplr</span>(EV);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> iangle= <span class="number">1</span>:<span class="number">361</span></span><br><span class="line">        <span class="built_in">angle</span>(iangle) = (iangle<span class="number">-181</span>)/<span class="number">2</span>;</span><br><span class="line">        phim = derad*<span class="built_in">angle</span>(iangle);</span><br><span class="line">        a = <span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d(<span class="number">1</span>:N(<span class="built_in">i</span>))*<span class="built_in">sin</span>(phim)).&#x27;;</span><br><span class="line">        En = EV(:,M+<span class="number">1</span>:N(<span class="built_in">i</span>));</span><br><span class="line">        pmusic(<span class="built_in">i</span>,iangle)=<span class="number">1</span>/(a&#x27;*En*En&#x27;*a);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    pmusic=<span class="built_in">abs</span>(pmusic);</span><br><span class="line">    pmmax = <span class="built_in">max</span>(pmusic,[],<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> i3 = <span class="number">1</span>:<span class="number">1</span>:<span class="built_in">size</span>(pmusic)</span><br><span class="line">   sp(i3,:) = pmusic(i3,:)./pmmax(i3); </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Pmusic = <span class="number">10</span>*<span class="built_in">log10</span>(sp);</span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">angle</span>,Pmusic,<span class="string">&#x27;LineWidth&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;阵元数N = 5&#x27;</span>,<span class="string">&#x27;阵元数N = 10&#x27;</span>,<span class="string">&#x27;阵元数N = 20&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;仿真实验2：不同阵元数下MUSIC算法性能比较&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;入射角度/degree&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;归一化空间谱/dB&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210531101205.png" alt=""></p><p>不同信噪比下对MUSIC算法的影响</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%信噪比不同的比较</span></span><br><span class="line">clear all;clc</span><br><span class="line">N = <span class="number">10</span>;<span class="comment">%阵元数</span></span><br><span class="line">derad = <span class="built_in">pi</span>/<span class="number">180</span>;</span><br><span class="line">M = <span class="number">3</span>;<span class="comment">%信源数目</span></span><br><span class="line">doa = [<span class="number">-30</span> <span class="number">20</span> <span class="number">60</span>]/<span class="number">180</span>*<span class="built_in">pi</span>;</span><br><span class="line">snr = [<span class="number">5</span> <span class="number">10</span> <span class="number">20</span>];</span><br><span class="line">dd = <span class="number">0.5</span>;</span><br><span class="line">K = <span class="number">100</span>;<span class="comment">%快拍数</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">length</span>(snr)</span><br><span class="line">    d = <span class="number">0</span>:dd:(N<span class="number">-1</span>)*dd;<span class="comment">%间距</span></span><br><span class="line">    <span class="keyword">for</span> ii = <span class="number">1</span>:<span class="built_in">length</span>(doa)</span><br><span class="line">        A(:,ii) = <span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d.&#x27;*<span class="built_in">sin</span>(doa(ii)));</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">%</span></span><br><span class="line"><span class="comment">%     S = sqrt();</span></span><br><span class="line">    snr1 = snr(<span class="built_in">i</span>);</span><br><span class="line">    S = <span class="built_in">randn</span>(M,K);</span><br><span class="line">    X = A*S;</span><br><span class="line">    Xn = awgn(X,snr1,<span class="string">&#x27;measured&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    Rxx = Xn*Xn&#x27;/K;</span><br><span class="line">    [EV,D] = eig(Rxx);</span><br><span class="line">    </span><br><span class="line">    EV  = <span class="built_in">fliplr</span>(EV);</span><br><span class="line">    </span><br><span class="line"><span class="comment">%     theta = -90:0.1:90;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> iangle= <span class="number">1</span>:<span class="number">361</span></span><br><span class="line">        <span class="built_in">angle</span>(iangle) = (iangle<span class="number">-181</span>)/<span class="number">2</span>;</span><br><span class="line">        phim = derad*<span class="built_in">angle</span>(iangle);</span><br><span class="line"><span class="comment">%         a=exp(-j*2*pi*d*sin(pi*theta(i3)/180)).&#x27;;</span></span><br><span class="line">        a = <span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*d*<span class="built_in">sin</span>(phim)).&#x27;;</span><br><span class="line">        En = EV(:,M+<span class="number">1</span>:N);</span><br><span class="line">        pmusic(<span class="built_in">i</span>,iangle)=<span class="number">1</span>/(a&#x27;*En*En&#x27;*a);</span><br><span class="line"><span class="comment">%         Pmusic(iange) = 1/(a&#x27;*En*En&#x27;*a);</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">%     pmusic = 10*log(pmusic/max(pmusic));</span></span><br><span class="line"><span class="comment">%     Pmusic(ii,:) = pmusic;</span></span><br><span class="line"><span class="comment">%     pmusic = 10*log10(pmusic/pmmax);</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">    pmusic=<span class="built_in">abs</span>(pmusic);</span><br><span class="line">    pmmax = <span class="built_in">max</span>(pmusic,[],<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> i3 = <span class="number">1</span>:<span class="number">1</span>:<span class="built_in">size</span>(pmusic)</span><br><span class="line">   sp(i3,:) = pmusic(i3,:)./pmmax(i3); </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Pmusic = <span class="number">10</span>*<span class="built_in">log10</span>(sp);</span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">angle</span>,Pmusic,<span class="string">&#x27;LineWidth&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">% plot(theta,Pmusic(1,:),theta,Pmusic(2,:),theta,Pmusic(3,:),&#x27;LineWidth&#x27;,2); </span></span><br><span class="line"><span class="comment">% axis([-100 100 -110 10]);</span></span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;SNR = 5&#x27;</span>,<span class="string">&#x27;SNR = 10&#x27;</span>,<span class="string">&#x27;SNR = 20&#x27;</span>,<span class="string">&#x27;Location&#x27;</span>,<span class="string">&#x27;NorthWest&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;仿真实验1：不同信噪比下MUSIC算法性能比较&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;入射角度/degree&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;归一化空间谱/dB&#x27;</span>,<span class="string">&#x27;fontsize&#x27;</span>,<span class="number">12</span>);</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210531101302.png" alt=""></p><h2 id="谱估计"><a class="header-anchor" href="#谱估计">¶</a>谱估计</h2><p>用MUSIC算法进行谱估计</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210315114937.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210316095024.jpg" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;MUSIC算法&lt;/h1&gt;
&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;以下部分是基于线阵阵列！！！还有许多不完善的地方，待续···&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;假设入射到天线阵列的近似为远场窄带信号，它们分别来自&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;θ&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;θ&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mo separator=&quot;true&quot;&gt;⋅&lt;/mo&gt;&lt;mo separator=&quot;true&quot;&gt;⋅&lt;/mo&gt;&lt;mo separator=&quot;true&quot;&gt;⋅&lt;/mo&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;θ&lt;/mi&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\theta_1,\theta_2,···,\theta_K&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;θ&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.30110799999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;θ&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.30110799999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;θ&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.32833099999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.07153em;&quot;&gt;K&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;共K个方向，则有&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x(n)=As(n)+v(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;x(n)是天线阵各阵元的接收数据向量，M*1&lt;/p&gt;
&lt;p&gt;A是阵列的方向矩阵，M*K&lt;/p&gt;
&lt;p&gt;s(n)为空间信号向量,K*1&lt;/p&gt;
&lt;p&gt;v(n)是白噪声向量，M*1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;接收信号向量的空间相关矩阵可表示为&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;σ&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;R=E[X(n)X(n)^H]=AR_sA^H+\sigma^2I&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.68333em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0913309999999998em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.07847em;&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.07847em;&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8413309999999999em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.08125em;&quot;&gt;H&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.991331em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8413309999999999em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.08125em;&quot;&gt;H&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141079999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;σ&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141079999999999em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.07847em;&quot;&gt;I&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I是单位矩阵&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;mi&gt;τ&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;π&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;τ&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;π&lt;/mi&gt;&lt;mfrac&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;λ&lt;/mi&gt;&lt;/mfrac&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;θ&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;A=e^{-jw_0\tau}=e^{-j2 \pi f\tau}=e^{-j2\pi \frac{c}{\lambda}x_ksin{\theta_i}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.68333em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.824664em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.31731428571428577em;&quot;&gt;&lt;span style=&quot;top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.143em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.1132em;&quot;&gt;τ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8491079999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8491079999999999em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;π&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.1132em;&quot;&gt;τ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.849108em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.849108em;&quot;&gt;&lt;span style=&quot;top:-3.363em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;π&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mopen nulldelimiter sizing reset-size3 size6&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6915428571428572em;&quot;&gt;&lt;span style=&quot;top:-2.656em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;λ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2255000000000003em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line mtight&quot; style=&quot;border-bottom-width:0.049em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.384em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;c&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.344em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter sizing reset-size3 size6&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3448em;&quot;&gt;&lt;span style=&quot;top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15122857142857138em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.02778em;&quot;&gt;θ&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3280857142857143em;&quot;&gt;&lt;span style=&quot;top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.143em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="算法" scheme="http://stardust14.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="算法" scheme="http://stardust14.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>DSP</title>
    <link href="http://stardust14.com/2021/03/08/DSP/"/>
    <id>http://stardust14.com/2021/03/08/DSP/</id>
    <published>2021-03-08T03:18:45.000Z</published>
    <updated>2021-04-15T09:01:39.161Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>DSP入门</h1><blockquote><p>本次DSP是数字信号处理器</p></blockquote><p>DSP——数据分析处理</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210308114041.png" alt=""></p><p>数字信号处理器的特点</p><ul><li>丰富的外部接口+DMA</li><li>哈佛+多总线结构</li><li>实时中断系统</li><li>硬件乘法器</li><li>丰富的并行机制</li><li>灵活的寻址方式</li></ul><p>信号处理的核心算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></munderover><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>i</mi><mo stretchy="false">)</mo><mi>h</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(n)=\sum_{i=0}^{N-1}x(n-i)h(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1060050000000006em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span></span></span></span></span></p><blockquote><p>DSP C6748</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;DSP入门&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;本次DSP是数字信号处理器&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;DSP——数据分析处理&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20210308114041.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;数字信号处理器的特点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;丰富的外部接口+DMA&lt;/li&gt;
&lt;li&gt;哈佛+多总线结构&lt;/li&gt;
&lt;li&gt;实时中断系统&lt;/li&gt;
&lt;li&gt;硬件乘法器&lt;/li&gt;
&lt;li&gt;丰富的并行机制&lt;/li&gt;
&lt;li&gt;灵活的寻址方式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;信号处理的核心算法：&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y(n)=\sum_{i=0}^{N-1}x(n-i)h(i)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.1060050000000006em;vertical-align:-1.277669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop op-limits&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.8283360000000004em;&quot;&gt;&lt;span style=&quot;top:-1.872331em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mrel mtight&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.050005em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;mop op-symbol large-op&quot;&gt;∑&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.300005em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.10903em;&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.277669em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DSP C6748&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="dsp" scheme="http://stardust14.com/categories/dsp/"/>
    
    
    <category term="dsp" scheme="http://stardust14.com/tags/dsp/"/>
    
  </entry>
  
  <entry>
    <title>4D毫米波雷达</title>
    <link href="http://stardust14.com/2021/02/26/4D%E6%AF%AB%E7%B1%B3%E6%B3%A2%E9%9B%B7%E8%BE%BE/"/>
    <id>http://stardust14.com/2021/02/26/4D%E6%AF%AB%E7%B1%B3%E6%B3%A2%E9%9B%B7%E8%BE%BE/</id>
    <published>2021-02-26T12:53:33.000Z</published>
    <updated>2021-02-26T14:59:39.885Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>随着知识的积累再填充，更新待续~~</p></blockquote><h1>毫米波和4D毫米波</h1><p>毫米波：</p><ol><li>工作在毫米波波段（millimeter wave ）探测的雷达。工作频段一般为30GHz ~ 300 GHz， 波长 1~10mm，介于微波和厘米波之间，兼具有微波雷达和光电雷达的一些优点；</li><li>毫米波雷达相比厘米波雷达具有体积小、易集成和空间分辨率高的特点。</li><li>车载毫米波雷达的工作频率为一般为 24GHz 和77GHz ；</li></ol><p>4D毫米波雷达通过物理或虚拟软件增加毫米波雷达发射&amp;接收通道的个数，可在很大程度上提高毫米波雷达的感知角度、感知距离、进而弥补毫米波雷达无法有效感知纵向距离的问题，从而提供与激光雷达相当的点云密度信号。</p><p>4D毫米波雷达可在恶劣的天气条件下提供更大的范围，视野，感知力和承受能力。但是目前还未能量产；主要是用于弥补传统的毫米波雷达测量误差范围大、无法识别静止物体的缺点。</p><p><strong>传统毫米波雷达（Current Radars）：<strong>探测角度小，且呈现出锥状的波束，使得其测量误差相对较大，且</strong>难以探测静止的物体</strong>。</p><p>**4D毫米波雷达（4D Imaging Radar）：**探测角度相对较大，且测量误差相对较小。由于增加了“探测物体高度”第四个指标，<strong>能够实现测量静止物体的功能</strong>。</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;blockquote&gt;
&lt;p&gt;随着知识的积累再填充，更新待续~~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;毫米波和4D毫米波&lt;/h1&gt;
&lt;p&gt;毫米波：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;工作在毫米波波段（millimeter wave ）探测的雷达。工作频段一般为30GHz ~ 300 GHz， 波长 1~10mm，介于微波和厘米波之间，兼具有微波雷达和光电雷达的一些优点；&lt;/li&gt;
&lt;li&gt;毫米波雷达相比厘米波雷达具有体积小、易集成和空间分辨率高的特点。&lt;/li&gt;
&lt;li&gt;车载毫米波雷达的工作频率为一般为 24GHz 和77GHz ；&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;4D毫米波雷达通过物理或虚拟软件增加毫米波雷达发射&amp;amp;接收通道的个数，可在很大程度上提高毫米波雷达的感知角度、感知距离、进而弥补毫米波雷达无法有效感知纵向距离的问题，从而提供与激光雷达相当的点云密度信号。&lt;/p&gt;
&lt;p&gt;4D毫米波雷达可在恶劣的天气条件下提供更大的范围，视野，感知力和承受能力。但是目前还未能量产；主要是用于弥补传统的毫米波雷达测量误差范围大、无法识别静止物体的缺点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;传统毫米波雷达（Current Radars）：&lt;strong&gt;探测角度小，且呈现出锥状的波束，使得其测量误差相对较大，且&lt;/strong&gt;难以探测静止的物体&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;**4D毫米波雷达（4D Imaging Radar）：**探测角度相对较大，且测量误差相对较小。由于增加了“探测物体高度”第四个指标，&lt;strong&gt;能够实现测量静止物体的功能&lt;/strong&gt;。&lt;/p&gt;
</summary>
    
    
    
    <category term="科普" scheme="http://stardust14.com/categories/%E7%A7%91%E6%99%AE/"/>
    
    
    <category term="毫米波雷达" scheme="http://stardust14.com/tags/%E6%AF%AB%E7%B1%B3%E6%B3%A2%E9%9B%B7%E8%BE%BE/"/>
    
  </entry>
  
  <entry>
    <title>阵列信号</title>
    <link href="http://stardust14.com/2021/02/16/%E9%98%B5%E5%88%97%E4%BF%A1%E5%8F%B7/"/>
    <id>http://stardust14.com/2021/02/16/%E9%98%B5%E5%88%97%E4%BF%A1%E5%8F%B7/</id>
    <published>2021-02-16T03:54:30.000Z</published>
    <updated>2021-03-05T03:50:00.263Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>协方差：一般用来刻画两个随机变量的相似程度。</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;p&gt;协方差：一般用来刻画两个随机变量的相似程度。&lt;/p&gt;
</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>DSP杂烩</title>
    <link href="http://stardust14.com/2020/12/04/DSP%E6%9D%82%E7%83%A9/"/>
    <id>http://stardust14.com/2020/12/04/DSP%E6%9D%82%E7%83%A9/</id>
    <published>2020-12-04T01:49:07.000Z</published>
    <updated>2020-12-06T07:33:34.808Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>随手记</h1><p>一些知识和疑问</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201204095119.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201204100437.png" alt=""></p><blockquote><p>有一个疑问：之间的衔接关系！</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201205171135.png" alt="image-20201205171133171"></p><h1>傅里叶变换的理解</h1><p>把一个信号的全部信息全部提取出来，在频率上说：w（频率）就表示的位置，振幅表示的强度，而相位则是表示的是信息的反转与否（波的位置）。</p><p>用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo separator="true">⋅</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">⋅</mo><mi>t</mi><mo>+</mo><mi>ϕ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A·cos(w·t+\phi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mclose">)</span></span></span></span>在时域上，w与时间建立起了联系，相位的改变就是在时间轴上的平移。所以，在频域上的相位就是</p><p>换个角度（域）看问题！！！！</p><p>若一个信号可以分解成正弦函数或着指数形式的组合，那么叠加的函数的相位可能会不同，在同一频率w下的幅度和相位一一对应。那么可以用这三个基本的信息，获取到全部的信息。（有待加深…）</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;随手记&lt;/h1&gt;
&lt;p&gt;一些知识和疑问&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201204095119.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201204100437.png&quot; alt&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有一个疑问：之间的衔接关系！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201205171135.png&quot; alt=&quot;image-20201205171133171&quot;&gt;&lt;/p&gt;
&lt;h1&gt;傅里叶变换的理解&lt;/h1&gt;
&lt;p&gt;把一个信号的全部信息全部提取出来，在频率上说：w（频率）就表示的位置，振幅表示的强度，而相位则是表示的是信息的反转与否（波的位置）。&lt;/p&gt;
&lt;p&gt;用&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;⋅&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;⋅&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;ϕ&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;A·cos(w·t+\phi)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;ϕ&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;在时域上，w与时间建立起了联系，相位的改变就是在时间轴上的平移。所以，在频域上的相位就是&lt;/p&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="dsp" scheme="http://stardust14.com/tags/dsp/"/>
    
  </entry>
  
  <entry>
    <title>Quartus记录</title>
    <link href="http://stardust14.com/2020/11/30/Quartus%E8%AE%B0%E5%BD%95/"/>
    <id>http://stardust14.com/2020/11/30/Quartus%E8%AE%B0%E5%BD%95/</id>
    <published>2020-11-30T11:42:57.000Z</published>
    <updated>2020-12-21T11:08:55.246Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>基础知识</h1><ol><li>模块语句及其表达方式</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130195313.png" alt=""></p><p>任一可综合的最基本的模块都必须以关键词module开头。</p><ul><li>模块名最好根据相应电路的功能来确定。如4位二进制计数器用counter4b。</li><li>模块端口列表中须列出此模块的所有输入、输出或双向端口名，端口名间用逗号分开，括号外加分号。</li><li>endmodule是模块结束语句关键词，旁边不加任何标点符号。对模块端口及其功能的描述语句都 必须放在模块语句module_endmodule之间。</li></ul><ol start="2"><li>端口语句、端口信号名和端口模式</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130195425.png" alt=""></p><ul><li><p>输入端口：input</p></li><li><p>输出端口：output</p></li><li><p>双向端口：inout</p></li></ul><ol start="3"><li>逻辑操作符</li></ol><p>Verilog的逻辑操作符大部分与C语言一致，比如：</p><p>逻辑按位与： &amp;</p><p>逻辑按位或： |</p><p>逻辑按位异或：^</p><p>逻辑按位取非：~</p><p>但Verilog也有自己的扩展，比如</p><p>逻辑按位 与非 ~&amp;</p><p>逻辑按位 或非 ~|</p><p>逻辑按位 同或 ~^</p><p>这里“按位”的意思，是可以对多位逻辑信号按位进行逻辑运算</p><ol start="4"><li>连续赋值语句</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130195603.png" alt=""></p><ul><li><p>assign引导的赋值负责描述模块内部的逻辑功能和电路结构。</p></li><li><p>assign引导的赋值语句属于并行赋值语句，无论有多少行语句，都是同时执行的，与语句的前后次序无关。</p></li><li><p>当等式右端的驱动表达式（赋值源）中任一信号发生变化时，此表达式即被重新计算一遍。</p></li></ul><p>（1）当等号右侧的驱动表达式中的任一信号发生变化时，此表达式即被计算一边，并将获得的数据立即赋给等号左侧的变量名标示的目标变量。<br>（2）当一个模块中有多个assign语句时，这些语句为并行，同一目标变量名下是不允许有多个不同赋值表达式。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130210254.png" alt=""></p><div class="note info flat"><p>注意：</p><ul><li><p>加入[延时]，表示经过指定延时后再赋值，</p></li><li><p>但这个延时值在综合器中是被忽略的，不参与综合。</p></li><li><p>只对仿真器有效</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130200506.png" alt=""></p></li><li><p>第二句当右侧表达式中的A或B中任一变量发生变化后，即刻算出变化后的值，但需要等待6个时间单 元之后才将运算结果赋值给左侧的目标变量R1。这个延时称为惯性延时。</p></li><li><p>时间单元的大小则由上一语句的关键词“`timescale”在编译时指定。此句表示，仿真的基本时间单元 是10ns，仿真时间的精度是100ps。</p></li><li><p>在这个时间划分单元下，语句“assign #6 R1 = A &amp; B”在执行后，一旦计算出A &amp; B的值，还要再等待6 个时间单元，也就是60ns后才将此值赋给R1。</p></li><li><p>需要注意的是，在timescale前的符号是反单引号（`），而不是单引号（‘）。在标准键盘区最左上方</p></li></ul><p><font color='red'>程序名和该程序的模块名必须一致！！！</font></p></div><ol start="5"><li>reg型变量定义</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130203641.png" alt=""></p><p>（1）reg: 寄存器型变量；</p><p>（2）在过程语句always@引导的顺序语句中, 被赋值信号规定必须是reg型变量；<br>（3）输入或双向口信号不能定义为reg型。</p><ol start="6"><li>过程语句</li></ol><p>Verilog中有两类能引导顺序语句的过程语句，always在可综合语句 中最为常用，另一类过程语句是initial语句。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130203738.png" alt=""></p><p>当敏感信息列表里发生变化时，就会向下执行</p><ol start="7"><li>块语句begin _end</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130204059.png" alt=""></p><ul><li><p>块语句begin end仅限于在always引导的过程语句结构中使用，只相当于一个括号。</p></li><li><p>以上方括号中的“：块名”可以省略</p></li></ul><ol start="8"><li>case条件语句</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130204059.png" alt=""></p><blockquote><p>实际就是case判断</p></blockquote><ol start="9"><li>Verilog的四种逻辑状态</li></ol><p>Verilog有四种基本数值：</p><p>（1）0：含义有四个，即二进制数0、低电平、逻辑0，事件为伪的判断结果。</p><p>（2）1：含义也有四个，即二进制数1、高电平、逻辑1、事件为真的判断结果。</p><p>（3）z或Z。高阻态，或高阻值。</p><p>（4）x或X。不确定，或未知的逻辑状态。x与z大小写都不分。<br>高阻值还可以用问号“？”来表示，但问号“？”还有别的含义和用处，即代 表“不关心”的意思。因此可以用问号“？”替代一些位值，以表示在逻辑关系中对这些位不在乎是什么值。</p><ol start="10"><li>并位操作运算符</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130204711.png" alt=""></p><ol start="11"><li>Verilog的数字表达形式</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130204754.png" alt=""></p><p>（1）B：二进制， O：八进制，H：十六进制，D：十进制</p><p>（2）不分大小写，如：2’b10, 4’hA等</p><p>（3）sb定义有符号二进制数：8’sb10111011，最高位1是符号。</p><ol start="12"><li>按位逻辑操作符</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130205909.png" alt=""></p><p>如果两个操作数位矢具有不同长度，综合器将自动根据最长位的操作数的位数， 把较短的数据按<strong>左端</strong>补0对齐的规则进行运算操作。</p><ol start="13"><li>等式操作符</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130205744.png" alt=""></p><ul><li>Verilog中任何变量有4个状态：0；1；z (高阻态)；x (不确定或未知状态)</li><li>==：如果其中有x或z, 就判定为假；<code>===：</code>将x或z都当成确定的值进行比较。</li></ul><ol start="14"><li>wire定义网线型变量</li></ol><p>（1）如果assign语句中需要有端口以外的信号或连接线性质的变量（由于 端口都已默认为网线型变量），则必须用网线型变量定义语句事先给出显式<br>定义。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201090859.png" alt=""></p><p>（2）用wire定义的网线型变量可在任何类型的表达式或赋值语句（包括连续赋值和过程赋值语句）中用作输入信号，也可以在连续赋值语句或实体元件例化中用作输出信号。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201090843.png" alt=""></p><ol start="15"><li>if条件语句</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130211339.png" alt=""></p><ol start="16"><li>过程赋值语句</li></ol><ul><li>阻塞式赋值：如y=b; 一旦执行完当前的赋值语句，赋值目标变量 y即刻获得来自等号右侧表达式的计算值。如果在一个块语句中 含有多条阻塞赋值语句，而当执行到其中某条赋值语句时，其他语句被禁止执行，这时其他语句如同被阻塞了一样。</li><li>非阻塞式赋值：如y&lt;=b;在执行当前语句时，对于块中的其他语句的执行情况一律不加限制。</li></ul><ol start="17"><li>数据类型表示方式</li></ol><ul><li>SEL[1:0]:二进制矢量位</li><li><ul><li>（SEL==2），数据类型不匹配，但Verilog综合器会自动使其匹配，将其中的 整数2变换成与SEL[1:0]同类型的二进制数2’b10。。</li></ul></li><li><ul><li>当所赋的值大于变量已定义的矢量位可能的值，综合器会首先将赋 值符号右侧的数据折算成二进制数，然后根据被赋值变量所定义的 位数，<strong>向左</strong>截去多余的数位（相当于截去高位）</li></ul></li><li><ul><li>比如Y[1:0], 当赋值Y&lt;=9时，（9=4’b1001）,编译后，Y得到赋值为2’b01。</li></ul></li></ul><ol start="18"><li>元件例化</li></ol><p>元件例化：引入一种连接关系，将预先设计好的设计模块定义为一 个元件，然后利用特定的语句将此元件与当前的设计实体中指定端口相连接，从而为当前设计实体引进一个新的、低一级的设计层次。</p><p>用法：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201090746.png" alt=""></p><ul><li>&lt;模块元件名&gt;，它具有唯一性。如果是用 Verilog描述的模块，则是模块名，也即元件名；</li><li>&lt;例化元件名&gt;：在具体电路上模块被调用后放 在不同的位置或担任不同的任务又必须有对应的名称。</li></ul><p>端口名关联法：括号中的信号名是外部端口名，括号外 带点的信号名是待连接的元件自己的端口名。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201092134.png" alt=""></p><p>位置关联法：关联表述的信号位置十分重要，注意端口 顺序，不能放错。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201092208.png" alt=""></p><ol start="19"><li>算术运算操作符</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201093147.png" alt=""></p><p>所有算数运算都是按无符号操作数进行的，如果是减法运算，输出 的结果是补码。对于乘法，若为无符号数，可直接用乘法算符 （*）；若为有符号数乘，则需将操作数和输出结果用signed定义为有符号数，乘法结果为补码。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201095056.png" alt=""></p><ol start="20"><li>参数定义关键词parameter和localparam</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201100507.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201100528.png" alt=""></p><p>localparam的功能和用法与parameter类似，它是一个局部参数 定义关键词，但无法通过外部程序的数据传递来改变localparam定义的常量。</p><ol start="21"><li>整数型寄存器类型定义</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201100912.png" alt=""></p><p>reg类型必须明确定义其位数。但integer类型的定义不必特指 位数，因为它们都默认为32位宽的二进制寄存器类型。</p><ol start="22"><li>for语句</li></ol><p>（1）本次循环开始前根据“循环初始值设置表达式”计算获得循 环次数初始值。<br>（2）在本次循环开始前根据“循环控制条件表达式”计算所得的 数据判断是否满足继续循环的条件，如果“循环控制条件表达式” 为真，则继续执行“循环体语句结构”中的语句，否则即刻跳出循环。<br>（3）在本次循环结束时，根据“循环控制变量增值表达式”计算<br>出循环控制变量的数值，然后跳到以上步骤（2）。</p><ol start="23"><li>移位操作符</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206155605.png" alt=""></p><p>右移或左移，移出腾空的位用0填补。</p><p>有符号数左右移，右移一律将符号位，即最高位填补移出的位。左移操 作同普通左移&lt;&lt;。</p><ol start="24"><li>repeat语句用法</li></ol><ul><li>“循环次数表达式”可以是数值确定的整数、变量或定义了 常数的参数标识符等。</li><li>repeat语句的循环次数是在进入此语句执行以前就已决定的，无需循环次数控制增量表达式及其计算。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206160554.png" alt=""></p><ol start="25"><li>while语句</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206162407.png" alt=""></p><p>（1）首先根据“循环控制条件表达式”的计算所得判断是否 满足继续循环的条件，如果为真，执行一遍“循环体语句结 构”中的所有语句；若为伪，即不满足循环表达式的条件， 结束循环。<br>（2）对于此种循环语句，必须在“循环体语句结构”中包含类似for语句的“循环控制变量增值表达式”。</p><ol start="26"><li>parameter的参数传递功能</li></ol><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206162806.png" alt=""></p><p>从顶层传递到底层</p><ol start="27"><li>异步清零和同步清零的区别</li></ol><p><font color='red'>异步：</font>在任意时刻，只要rst有效，D触发器输出立刻清零，与时钟clk状态无关。<br><font color='red'>同步：</font>指的是与时钟同步，某个控制信号（比如清零信号）只有当时钟信号有效时才起作用。而当时钟信号没有到来时，该控制信号不起作用。</p><p>异步时序电路的Verilog表述特点</p><p>没有单一主控时钟的时序电路，或系统中所有的时序部件不随某个主控时钟同步接受时钟信号达到状态同步变化的电路都属于异步时序电路。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207142137.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> AMOD(CLK,D,Q,A);</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">input</span> A,D,CLK;</span><br><span class="line"><span class="keyword">reg</span> Q,Q1;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK)</span><br><span class="line">Q1=~(A|Q);</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> Q1)</span><br><span class="line">Q=D;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>时钟过程表述的特点和规律</li></ul><p>（1）如果将某信号A定义为边沿敏感时钟信 号，则必须在敏感信号列表中给出对应的表述， 如posedge A或negedge A; 但在always过程结构中不能再出现信号A了。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207142831.png" alt=""></p><p>（2）若将某信号B定义为对应于时钟的电平敏感的异步控制信号（或仅仅是 异步输入信号），则除了在敏感信号表中给出对应的表述外，如posedge B或 negedge B，在always过程结构中必须明示信号B的逻辑行为，如上面例中的 RST。特别注意这种表述的不一致性，即表述上必须是边沿敏感信号，如negedge RST, 但电路性能上是电平敏感的。</p><p>(3）若将某信号定义为对应于时钟的同步控制信号 （或仅仅是同步输入信号），则绝不可以以任何形式出<br>现在敏感信号表中，如下面例子中的RST。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207142909.png" alt=""></p><p>（4）敏感信号列表中不允许出现混合信号。敏感 信号表一旦含有posedge或negedge的边沿敏感信号<br>后, 所有其他普通变量都不能放在敏感信号表中了</p><p>以下形式是错误的：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207143100.png" alt=""></p><blockquote><p>CLK是边沿敏感型的，RST是电平敏感型的</p></blockquote><p>（5）若定义某变量为异步低电平敏感信号，则在 if条件语句中应该对敏感信号表中的信号有匹配的<br>表述，以下三种表述方式都是正确的：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207143217.png" alt=""></p><p>（6）不允许在敏感信号表中定义除了异步时序控 制信号以外的信号。在下面的例子中，如果试图使<br>用以下的表述是错误的。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207143241.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207143302.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201207143315.png" alt=""></p><h1>结合案例总结</h1><ul><li>4选1多路选择器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130203038.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130205502.png" alt=""></p><ul><li>设计16选1选择器</li></ul><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> mux16_1( </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] sel, </span><br><span class="line">    <span class="keyword">input</span> [<span class="number">15</span>:<span class="number">0</span>] D, </span><br><span class="line">    <span class="keyword">output</span> Y</span><br><span class="line">);</span><br><span class="line"><span class="keyword">assign</span> Y = D[sel];</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>8位加法器设计</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201092635.png" alt=""></p><ul><li>BCD码加法器设计</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201201095156.png" alt=""></p><ul><li>设计n位乘加器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206164647.png" alt=""></p><ul><li><p>设计24位无符号数乘法器<img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206164620.png" alt=""></p></li><li><p>基本D触发器</p></li></ul><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF1(CLK,D,Q);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Input Port(s)</span></span><br><span class="line"><span class="keyword">input</span> D,CLK;</span><br><span class="line"><span class="comment">// Output Port(s)</span></span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">reg</span> Q;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK)<span class="comment">//posedge:CLK时钟上升沿敏感。</span></span><br><span class="line">Q&lt;=D;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p>关键词posedge：posedge CLK时钟上升沿敏感。</p><p>相对应的，还有negedge CLK时钟下降沿敏感。</p><ul><li>含异步复位和时钟使能的D触发器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206172635.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206210343.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF2(CLK,D,Q,RST,EN);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> CLK,D,RST,EN;</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">reg</span> Q;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK <span class="keyword">or</span> <span class="keyword">negedge</span> RST)</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line"><span class="keyword">if</span> (!RST)<span class="comment">//若RST等于零时，Q清零</span></span><br><span class="line">Q&lt;=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(EN)<span class="comment">//EN=1时，Q=D</span></span><br><span class="line">Q&lt;=D;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>含同步复位控制的D触发器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206211132.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206211149.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF3(CLK,D,Q,RST);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> CLK,D,RST;</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">reg</span> Q;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK)</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line">        <span class="keyword">if</span> (RST==<span class="number">1</span>)<span class="comment">//同步的</span></span><br><span class="line">Q=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(RST==<span class="number">0</span>)</span><br><span class="line">Q=D;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF1(CLK,D,Q,RST);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> CLK,D,RST;</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">reg</span> Q,Q1;<span class="comment">//注意定义了Q1信号</span></span><br><span class="line"><span class="keyword">always</span> @(RST)<span class="comment">//纯组合过程</span></span><br><span class="line"><span class="keyword">if</span> (RST==<span class="number">1</span>)</span><br><span class="line">Q1=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">Q1=D;</span><br><span class="line">        <span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK)</span><br><span class="line">            Q&lt;=Q1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF2(<span class="keyword">input</span> CLK,<span class="keyword">input</span> D,<span class="keyword">output</span> <span class="keyword">reg</span> Q,<span class="keyword">input</span> RST);</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK)</span><br><span class="line">Q&lt;=RST?<span class="number">1&#x27;b0</span>:D;<span class="comment">//当RST=1的时候，Q=0,否则Q=D</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>根据RTL图写程序，同步清零</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206213925.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF1(D,EN,CLK,RST,Q1,Q2);</span><br><span class="line"><span class="keyword">input</span> D,EN,CLK,RST;</span><br><span class="line"><span class="keyword">output</span> Q1,Q2;</span><br><span class="line"><span class="keyword">reg</span> Q2;</span><br><span class="line"><span class="keyword">wire</span> Q10;</span><br><span class="line"><span class="keyword">assign</span> Q10=D&amp;EN;</span><br><span class="line"><span class="keyword">assign</span> Q1=(~Q10)|RST;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> CLK <span class="keyword">or</span> <span class="keyword">negedge</span> RST)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span>(!RST)</span><br><span class="line">Q2&lt;=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(EN)<span class="comment">//EN是同步的</span></span><br><span class="line">Q2&lt;=D;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206214029.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF2(b,rst_n,a,clk,cout,q);</span><br><span class="line"><span class="keyword">input</span> b,rst_n,a,clk;</span><br><span class="line"><span class="keyword">output</span> cout,q;</span><br><span class="line"><span class="keyword">reg</span> q;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!rst_n)<span class="comment">//若rst_n=0时，q=0</span></span><br><span class="line">q&lt;=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">q&lt;=a;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">assign</span> cout=a^b;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>基本锁存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206215617.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206215630.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> LATCH1(CLK,D,Q);</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">input</span> CLK,D;</span><br><span class="line"><span class="keyword">reg</span> Q;</span><br><span class="line"><span class="keyword">always</span> @(D <span class="keyword">or</span> CLK)</span><br><span class="line"><span class="keyword">if</span>(CLK)</span><br><span class="line">Q&lt;=D;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206220000.png" alt=""></p><blockquote><p>当CLK为高电平时，输出Q才随D输入的数据而改变;<br>而当CLK为低电平时将保存其在高电平时锁入的数据。这就意味着需要引入存储元件于设计模块中。</p></blockquote><ul><li>含清0控制的锁存器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206220148.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206221617.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201206221629.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> LATCH2(CLK,D,Q,RST);</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">input</span> CLK,D,RST;</span><br><span class="line"><span class="keyword">assign</span> Q=(!RST)?<span class="number">0</span>:(CLK?D:Q);<span class="comment">//当RST=0的时候，Q=0;否则再判断CLK，当CLK=1的时候，Q=D，否则Q=Q，即保持不变</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> LATCH2(CLK,D,Q,RST);</span><br><span class="line"><span class="keyword">output</span> Q;</span><br><span class="line"><span class="keyword">input</span> CLK,D,RST;</span><br><span class="line"><span class="keyword">reg</span> Q;</span><br><span class="line"><span class="keyword">always</span> @(D <span class="keyword">or</span> CLK <span class="keyword">or</span> RST)</span><br><span class="line">    <span class="keyword">if</span>(!RST)<span class="comment">//RST=0时，Q=0</span></span><br><span class="line">        Q&lt;=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(CLK)</span><br><span class="line">    Q&lt;=D;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><ul><li>简单加法计数器</li></ul><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> CNT4(clk,q);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Input Port(s)</span></span><br><span class="line"><span class="keyword">input</span> clk;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output Port(s)</span></span><br><span class="line"><span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q;</span><br><span class="line"><span class="comment">// Additional Module Item(s)</span></span><br><span class="line"><span class="keyword">reg</span>[<span class="number">3</span>:<span class="number">0</span>] q1;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span>)</span><br><span class="line">q1&lt;=q1+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">assign</span> q=q1;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> CNT4(clk,q);</span><br><span class="line"><span class="comment">// Input Port(s)</span></span><br><span class="line"><span class="keyword">input</span> clk;</span><br><span class="line"><span class="comment">// Output Port(s)</span></span><br><span class="line"><span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>] q;</span><br><span class="line"><span class="comment">// Additional Module Item(s)</span></span><br><span class="line"><span class="keyword">reg</span>[<span class="number">3</span>:<span class="number">0</span>] q;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span>)</span><br><span class="line">q&lt;=q1+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208093504.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208093514.png" alt=""></p><ul><li>实用加法计数器设计</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208093524.png" alt=""></p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> shift(load,rst,clk,en,data,cout,dout);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Input Port(s)</span></span><br><span class="line"><span class="keyword">input</span> load,rst,clk,en;<span class="comment">//数据加载控制信号，复位，时钟，时钟使能</span></span><br><span class="line"><span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] data;<span class="comment">//4位并行加载数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Output Port(s)</span></span><br><span class="line"><span class="keyword">output</span> cout;<span class="comment">//计数进位输出</span></span><br><span class="line"><span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>]dout;<span class="comment">//4位计数输出</span></span><br><span class="line"><span class="keyword">reg</span> cout;</span><br><span class="line"><span class="keyword">reg</span> q1;</span><br><span class="line"><span class="keyword">assign</span> dout=q1;<span class="comment">//将内部寄存器的计数结果输出至dout</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Additional Module Item(s)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span>(!rst)<span class="comment">//rst=0时，对内部寄存器单元异步清零</span></span><br><span class="line">q1&lt;=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(en)<span class="comment">//同步时能en=1，则允许加载或计数</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span>(!load)<span class="comment">//当load=0，向内部寄存器加载数据</span></span><br><span class="line">q1&lt;=data;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(q1&lt;<span class="number">9</span>)<span class="comment">//当q1小于9时，允许累加</span></span><br><span class="line">q1&lt;=q1+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">q1&lt;=<span class="number">4&#x27;b0000</span>;<span class="comment">//否则将一个时钟后清零返回初值</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(q1)<span class="comment">//组合过程</span></span><br><span class="line"><span class="keyword">if</span>(q1==<span class="number">4&#x27;h9</span>)</span><br><span class="line">cout=<span class="number">1&#x27;b1</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">cout=<span class="number">1&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208093754.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208093837.png" alt=""></p><ul><li>计数器的清零和置数端的设计</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201208094104.png" alt=""></p><ul><li>二选一多路器</li></ul><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> led_test(a,b,key_in,led_out);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> a,b;<span class="comment">//输入端口a和输出端口b</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> key_in;<span class="comment">//按键输入，实现输入输出通道的选择</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">output</span> led_out;<span class="comment">//led控制端口</span></span><br><span class="line"><span class="comment">//当key_in==0:led_out=a</span></span><br><span class="line"><span class="keyword">assign</span> led_out = (key_in == <span class="number">0</span>)? a:b;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> led_test_tb;</span><br><span class="line"></span><br><span class="line"><span class="comment">//激励信号定义，对应连接到待测模块的输入端口</span></span><br><span class="line"><span class="keyword">reg</span> signal_a;</span><br><span class="line"><span class="keyword">reg</span> signal_b;</span><br><span class="line"><span class="keyword">reg</span> signal_c;</span><br><span class="line"></span><br><span class="line"><span class="comment">//待检测信号定义，对应连接到待测模块的输出端口</span></span><br><span class="line"><span class="keyword">wire</span> led;</span><br><span class="line"></span><br><span class="line"><span class="comment">//例化待测试模块</span></span><br><span class="line">led_test led_test0(</span><br><span class="line"><span class="variable">.a</span>(signal_a),</span><br><span class="line"><span class="variable">.b</span>(signal_b),</span><br><span class="line"><span class="variable">.key_in</span>(signal_c),</span><br><span class="line"><span class="variable">.led_out</span>(led)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//产生激励</span></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">signal_a= <span class="number">0</span>;signal_b=<span class="number">0</span>;signal_c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">0</span>;signal_b=<span class="number">0</span>;signal_c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">0</span>;signal_b=<span class="number">1</span>;signal_c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">0</span>;signal_b=<span class="number">1</span>;signal_c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">1</span>;signal_b=<span class="number">0</span>;signal_c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">1</span>;signal_b=<span class="number">0</span>;signal_c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">1</span>;signal_b=<span class="number">1</span>;signal_c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">100</span>;</span><br><span class="line">signal_a= <span class="number">1</span>;signal_b=<span class="number">1</span>;signal_c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">200</span>;</span><br><span class="line"><span class="built_in">$stop</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p>模拟仿真结果：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201211161311.png" alt=""></p><ul><li>3-8译码器</li></ul><blockquote><p><font color='red'>凡是在always块中赋值的信号，在定义的时候，必须将其定义成reg类型！！！</font></p></blockquote><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> my_8(a,b,c,out);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> a,b,c;<span class="comment">//输入端口</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]out;<span class="comment">//定义一个多位位宽的信号，高位在前，8位宽</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(a,b,c)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>(&#123;a,b,c&#125;)<span class="comment">//拼接成三位</span></span><br><span class="line"><span class="number">3&#x27;b000</span>:out = <span class="number">8&#x27;b0000_0001</span>;<span class="comment">//“_”这是占位符，不做什么作用，便于区分</span></span><br><span class="line"><span class="number">3&#x27;b001</span>:out = <span class="number">8&#x27;b0000_0010</span>;</span><br><span class="line"><span class="number">3&#x27;b010</span>:out = <span class="number">8&#x27;b0000_0100</span>;</span><br><span class="line"><span class="number">3&#x27;b011</span>:out = <span class="number">8&#x27;b0000_1000</span>;</span><br><span class="line"><span class="number">3&#x27;b100</span>:out = <span class="number">8&#x27;b0001_0000</span>;</span><br><span class="line"><span class="number">3&#x27;b101</span>:out = <span class="number">8&#x27;b0010_0000</span>;</span><br><span class="line"><span class="number">3&#x27;b110</span>:out = <span class="number">8&#x27;b0100_0000</span>;</span><br><span class="line"><span class="number">3&#x27;b111</span>:out = <span class="number">8&#x27;b1000_0000</span>;</span><br><span class="line"><span class="comment">//default:out = 8&#x27;b1000_0000;//与上一句语句的作用一样，除以上情况以外的情况</span></span><br><span class="line"><span class="keyword">endcase</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> my_8_tb();</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> a;</span><br><span class="line"><span class="keyword">reg</span> b;</span><br><span class="line"><span class="keyword">reg</span> c;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>] out;</span><br><span class="line"></span><br><span class="line">my_8 U1(</span><br><span class="line"><span class="variable">.a</span>(a),</span><br><span class="line"><span class="variable">.b</span>(b),</span><br><span class="line"><span class="variable">.c</span>(c),</span><br><span class="line"><span class="variable">.out</span>(out)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">0</span>;b=<span class="number">0</span>;c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">0</span>;b=<span class="number">0</span>;c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">0</span>;b=<span class="number">1</span>;c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">0</span>;b=<span class="number">1</span>;c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">1</span>;b=<span class="number">0</span>;c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">1</span>;b=<span class="number">0</span>;c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">1</span>;b=<span class="number">1</span>;c=<span class="number">0</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line">a=<span class="number">1</span>;b=<span class="number">1</span>;c=<span class="number">1</span>;</span><br><span class="line">#<span class="number">200</span>; </span><br><span class="line"><span class="built_in">$stop</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201213114140.png" alt=""></p><ul><li>状态机</li></ul><p>序列检测器</p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> List(clk,rst,data,out);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> clk,rst;<span class="comment">//默认50M，低电平复位</span></span><br><span class="line"><span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>]data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">reg</span> out;</span><br><span class="line"></span><br><span class="line"><span class="keyword">localparam</span></span><br><span class="line">CHECK_H = <span class="number">5&#x27;b0_0001</span>,</span><br><span class="line">CHECK_e = <span class="number">5&#x27;b0_0010</span>,</span><br><span class="line">CHECK_la = <span class="number">5&#x27;b0_0100</span>,</span><br><span class="line">CHECK_lb = <span class="number">5&#x27;b0_1000</span>,</span><br><span class="line">CHECK_o = <span class="number">5&#x27;b1_0000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span>[<span class="number">4</span>:<span class="number">0</span>]state;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line"><span class="keyword">if</span>(!rst)<span class="keyword">begin</span></span><br><span class="line">out &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"><span class="keyword">case</span>(state)</span><br><span class="line">CHECK_H:</span><br><span class="line"><span class="keyword">if</span>(data == <span class="string">&quot;H&quot;</span>)</span><br><span class="line">state &lt;= CHECK_e;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line">CHECK_e:</span><br><span class="line"><span class="keyword">if</span>(data == <span class="string">&quot;e&quot;</span>)</span><br><span class="line">state &lt;= CHECK_la;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line">CHECK_la:</span><br><span class="line"><span class="keyword">if</span>(data == <span class="string">&quot;l&quot;</span>)</span><br><span class="line">state &lt;= CHECK_lb;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line">CHECK_lb:</span><br><span class="line"><span class="keyword">if</span>(data == <span class="string">&quot;l&quot;</span>)</span><br><span class="line">state &lt;= CHECK_o;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line">CHECK_o:</span><br><span class="line"><span class="keyword">if</span>(data == <span class="string">&quot;o&quot;</span>)<span class="keyword">begin</span></span><br><span class="line">out &lt;= ~ out;</span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">state &lt;= CHECK_H;</span><br><span class="line"></span><br><span class="line"><span class="comment">//begin</span></span><br><span class="line"><span class="comment">//state &lt;= CHECK_H;</span></span><br><span class="line"><span class="comment">//if(data == &quot;o&quot;)</span></span><br><span class="line"><span class="comment">//out &lt;= ~ out;</span></span><br><span class="line"><span class="comment">//else</span></span><br><span class="line"><span class="comment">//out &lt;= out;</span></span><br><span class="line"><span class="keyword">default</span>: state &lt;= CHECK_H;</span><br><span class="line"><span class="keyword">endcase</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p><img src="D:%5Cblog%5Cpicture%5CPicGo%5Ccopypicture%5Cimage-20201213150623372.png" alt="image-20201213150623372"></p><h1>自己编写（改编）</h1><ul><li>四位移位寄存器</li></ul><p>不带有异步清零，属于串行输入并行输出</p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> DFF1(din,clk,q);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">input</span> din;</span><br><span class="line"> <span class="keyword">input</span> clk;</span><br><span class="line"> <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] q=<span class="number">4&#x27;b0000</span>;</span><br><span class="line"> <span class="keyword">reg</span> q3=<span class="number">1&#x27;b0</span>,q2=<span class="number">1&#x27;b0</span>,q1=<span class="number">1&#x27;b0</span>,q0=<span class="number">1&#x27;b0</span>;</span><br><span class="line"> <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</span><br><span class="line"> <span class="keyword">begin</span> </span><br><span class="line">  q3&lt;=q2;</span><br><span class="line">  q2&lt;=q1;</span><br><span class="line">  q1&lt;=q0;</span><br><span class="line">  q0&lt;=din;</span><br><span class="line">  q=&#123;q3,q2,q1,q0&#125;;</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> t1();</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> din;</span><br><span class="line"><span class="keyword">reg</span> clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">3</span>:<span class="number">0</span>] q;</span><br><span class="line"></span><br><span class="line">DFF1 U1(<span class="variable">.clk</span>(clk),<span class="variable">.din</span>(din),<span class="variable">.q</span>(q));</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> <span class="keyword">begin</span></span><br><span class="line"> #<span class="number">10</span> clk=~clk;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"> clk = <span class="number">1&#x27;b0</span>;</span><br><span class="line"> din = <span class="number">1&#x27;b1</span>;<span class="comment">//第一个移进的数</span></span><br><span class="line">   #<span class="number">15</span> din = <span class="number">1&#x27;b0</span>;<span class="comment">//第二个移进的数</span></span><br><span class="line">   #<span class="number">20</span> din = <span class="number">1&#x27;b1</span>;<span class="comment">//第三个</span></span><br><span class="line">   #<span class="number">20</span> din = <span class="number">1&#x27;b0</span>;<span class="comment">//第四个</span></span><br><span class="line">   #<span class="number">20</span> din = <span class="number">1&#x27;b1</span>;<span class="comment">//第五个</span></span><br><span class="line">   #<span class="number">20</span> din = <span class="number">1&#x27;b0</span>;   <span class="comment">//第六个  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span> </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201209214417.png" alt="image-20201209214407163"></p><ul><li>dds</li></ul><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">module</span> control (</span><br><span class="line">                 clk, <span class="comment">//外部输入时钟</span></span><br><span class="line"></span><br><span class="line">                 rst_n,<span class="comment">//系统复位</span></span><br><span class="line"></span><br><span class="line">                 addr<span class="comment">//有效地址</span></span><br><span class="line"></span><br><span class="line">              );</span><br><span class="line"></span><br><span class="line">      <span class="comment">//模块输入</span></span><br><span class="line">      <span class="keyword">input</span> clk;<span class="comment">//外部输入时钟</span></span><br><span class="line">      <span class="keyword">input</span> rst_n;<span class="comment">//系统复位</span></span><br><span class="line">      <span class="comment">//模块输出</span></span><br><span class="line">      <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] addr;<span class="comment">//有效地址</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line">          <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (!rst_n) <span class="comment">//复位的时候，addr清零</span></span><br><span class="line">                  addr &lt;= <span class="number">0</span>;</span><br><span class="line">             <span class="keyword">else</span></span><br><span class="line">                 <span class="keyword">if</span> (addr &lt; <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line">                     addr &lt;= addr + <span class="number">1</span>;<span class="comment">//地址在0~255之间循环</span></span><br><span class="line"></span><br><span class="line">                 <span class="keyword">else</span></span><br><span class="line">                    addr &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">end</span>    </span><br><span class="line"><span class="keyword">endmodule</span> </span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> dds (</span><br><span class="line">              clk, <span class="comment">//外部输入时钟</span></span><br><span class="line">             rst_n,<span class="comment">//系统复位</span></span><br><span class="line">             num <span class="comment">//波形数据输出</span></span><br><span class="line">         );</span><br><span class="line">      <span class="comment">//系统输入</span></span><br><span class="line">      <span class="keyword">input</span> clk;<span class="comment">//外部输入时钟</span></span><br><span class="line">      <span class="keyword">input</span> rst_n;<span class="comment">//系统复位</span></span><br><span class="line">      <span class="comment">//系统输出</span></span><br><span class="line">      <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>] num;<span class="comment">//波形数据输出</span></span><br><span class="line">      <span class="comment">//定义中间连线</span></span><br><span class="line">      <span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>] addr;<span class="comment">//有效地址</span></span><br><span class="line">      <span class="comment">//实例化control</span></span><br><span class="line">      control control (</span><br><span class="line">                  <span class="variable">.clk</span>(clk), <span class="comment">//外部输入时钟</span></span><br><span class="line">                 <span class="variable">.rst_n</span>(rst_n), <span class="comment">//系统复位</span></span><br><span class="line">                  <span class="variable">.addr</span>(addr)<span class="comment">//有效地址</span></span><br><span class="line">              );</span><br><span class="line">      <span class="comment">//调用ip核</span></span><br><span class="line"></span><br><span class="line">      rom rom_inst (</span><br><span class="line">                  <span class="variable">.address</span> ( addr ),</span><br><span class="line">                  <span class="variable">.clock</span> ( clk ),</span><br><span class="line">                  <span class="variable">.q</span> ( num )</span><br><span class="line">              );</span><br><span class="line">  <span class="keyword">endmodule</span> </span><br></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps //定义时间单位和精度</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">module</span> dds_tb;</span><br><span class="line"> <span class="comment">//系统输入</span></span><br><span class="line"> <span class="keyword">reg</span> clk;<span class="comment">//外部输入时钟</span></span><br><span class="line"> <span class="keyword">reg</span> rst_n;<span class="comment">//系统复位</span></span><br><span class="line"> <span class="comment">//系统输出</span></span><br><span class="line"> <span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>] num;<span class="comment">//波形数据输出</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"> clk = <span class="number">1</span>;</span><br><span class="line"> rst_n = <span class="number">0</span>;</span><br><span class="line"> # <span class="number">200</span><span class="variable">.1</span></span><br><span class="line"> rst_n = <span class="number">1</span>;</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">always</span> # <span class="number">10</span> clk = ~clk;<span class="comment">//50M的时钟</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> dds dds (</span><br><span class="line"></span><br><span class="line"> <span class="variable">.clk</span>(clk), <span class="comment">//外部输入时钟</span></span><br><span class="line"></span><br><span class="line"> <span class="variable">.rst_n</span>(rst_n), <span class="comment">//系统复位</span></span><br><span class="line"></span><br><span class="line"> <span class="variable">.num</span>(num)<span class="comment">//波形数据输出</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><p>图像改成无符号数仿真，194.5kHz</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201221180549.png" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;基础知识&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;模块语句及其表达方式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130195313.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;任一可综合的最基本的模块都必须以关键词module开头。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;模块名最好根据相应电路的功能来确定。如4位二进制计数器用counter4b。&lt;/li&gt;
&lt;li&gt;模块端口列表中须列出此模块的所有输入、输出或双向端口名，端口名间用逗号分开，括号外加分号。&lt;/li&gt;
&lt;li&gt;endmodule是模块结束语句关键词，旁边不加任何标点符号。对模块端口及其功能的描述语句都 必须放在模块语句module_endmodule之间。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;端口语句、端口信号名和端口模式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201130195425.png&quot; alt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;输入端口：input&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;输出端口：output&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;双向端口：inout&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;逻辑操作符&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="quartus" scheme="http://stardust14.com/tags/quartus/"/>
    
  </entry>
  
  <entry>
    <title>CentOs6.5下升级Firefox</title>
    <link href="http://stardust14.com/2020/11/28/CentOs6-5%E4%B8%8B%E5%8D%87%E7%BA%A7Firefox/"/>
    <id>http://stardust14.com/2020/11/28/CentOs6-5%E4%B8%8B%E5%8D%87%E7%BA%A7Firefox/</id>
    <published>2020-11-28T11:08:12.000Z</published>
    <updated>2020-11-30T11:45:36.770Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class='tip error'><p>无效<p></div><p><s>1.下载最新安装文件</s></p><p><s>在firefox的官网里下载最新的linux版安装文件Firefox-latest-x86_64.tar.bz2(我下载的是64bit版)，然后解压。</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[star@localhost 下载]# tar -xjvf Firefox-latest-x86_64.tar.bz2 </span><br></pre></td></tr></table></figure><blockquote><p><s>解压要在主用户，不要在最高管理员（root）权限下进行</s></p></blockquote><p><s>2.卸载旧版</s></p><p><s>系统默认安装的旧版 firefox ，通常位于 /usr/lib 目录下，我们把旧版卸载。</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[star@localhost 下载]# whereis firefox</span><br><span class="line">firefox: /usr/bin/firefox /usr/lib/firefox /usr/lib64/firefox /usr/share/man/man1/firefox.1.gz</span><br></pre></td></tr></table></figure><p><s>删除程序目录</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost 下载]# sudo rm -rf /usr/lib/firefox</span><br></pre></td></tr></table></figure><p><s>删除启动脚本</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost 下载]# sudo rm -f /usr/bin/firefox</span><br></pre></td></tr></table></figure><blockquote><p><s>有无sudo都可</s></p></blockquote><p><s>3.安装新版</s></p><p><s>将解压的firefox 目录移动到 /usr/lib 目录下</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost 下载]# mv firefox /usr/lib</span><br></pre></td></tr></table></figure><p><s>进入 /usr/bin 目录，删除其下的 firefox 脚本</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost bin]# rm firefox</span><br></pre></td></tr></table></figure><p><s>创建一个软链接，指向/usr/lib/firefox/firefox</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# ln -s /usr/lib/firefox/firefox /usr/bin/firefox</span><br></pre></td></tr></table></figure><p><s>修改左上角的firefox 浏览器图标属性里的程序启动路径，在 “命令”字段的文本框中，输入</s></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/usr/lib/firefox/firefox %u</span><br></pre></td></tr></table></figure><p><s><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201128192425.png" alt="image-20201128192359442"></s></p><p><s>参考网上的解决方案：</s></p><p><a href="https://blog.yayuanzi.com/8754.html">https://blog.yayuanzi.com/8754.html</a></p><p><a href="https://blog.csdn.net/weixin_34289744/article/details/92890618">https://blog.csdn.net/weixin_34289744/article/details/92890618</a></p><div class='tip error'><p>无效<p></div><h1>解决</h1><div class="note success flat"><p>成功</p></div><p>卸载旧版后，在终端输入<code>yum -y install firefox</code>再把之前的设置修改回来即可。</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;div class=&quot;tip error&quot;&gt;&lt;p&gt;无效&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;&lt;s&gt;1.下载最新安装文件&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;&lt;s&gt;在firefox的官网里下载最新的linux版安装文件Firefox-latest-x86_64.tar.bz2(我下载的是64bit版)，然后解压。&lt;/s&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[star@localhost 下载]# tar -xjvf Firefox-latest-x86_64.tar.bz2 &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;s&gt;解压要在主用户，不要在最高管理员（root）权限下进行&lt;/s&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;s&gt;2.卸载旧版&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;&lt;s&gt;系统默认安装的旧版 firefox ，通常位于 /usr/lib 目录下，我们把旧版卸载。&lt;/s&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[star@localhost 下载]# whereis firefox&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;firefox: /usr/bin/firefox /usr/lib/firefox /usr/lib64/firefox /usr/share/man/man1/firefox.1.gz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;s&gt;删除程序目录&lt;/s&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="记录&amp;烂笔头" scheme="http://stardust14.com/categories/%E8%AE%B0%E5%BD%95-%E7%83%82%E7%AC%94%E5%A4%B4/"/>
    
    
    <category term="CentOS6.5" scheme="http://stardust14.com/tags/CentOS6-5/"/>
    
  </entry>
  
  <entry>
    <title>Linux简单知识</title>
    <link href="http://stardust14.com/2020/10/31/Linux%E7%AE%80%E5%8D%95%E7%9F%A5%E8%AF%86/"/>
    <id>http://stardust14.com/2020/10/31/Linux%E7%AE%80%E5%8D%95%E7%9F%A5%E8%AF%86/</id>
    <published>2020-10-31T08:26:03.000Z</published>
    <updated>2020-11-22T03:43:20.316Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>简单命令</h1><h2 id="常用系统工作命令"><a class="header-anchor" href="#常用系统工作命令">¶</a>常用系统工作命令</h2><ol><li>echo命令</li></ol><p>用于在终端输出字符串或变量提取后的值，格式为&quot;echo[字符串|$变量]&quot;</p><blockquote><p>相当于打印字符串/提取变量的值</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hello@hello Desktop]$ echo $SHELL</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure><ol start="2"><li>date命令</li></ol><p>用于显示及设置系统的时间或日期，格式为&quot;<code>date[选项][+指定的格式]</code>&quot;</p><p>只需在强大的date命令中输入以“+”号开头的参数，即可按照指定格式来输出系统的时间或日期，这样在日常工作时便可以把备份数据的命令与指定格式输出的时间信息结合到一起。</p><p>​date命令中的参数及作用</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>%S</td><td>秒（00～59）</td></tr><tr><td>%M</td><td>分钟（00～59）</td></tr><tr><td>%H</td><td>小时（00～23）</td></tr><tr><td>%I</td><td>小时（00～12）</td></tr><tr><td>%m</td><td>月份（1~12）</td></tr><tr><td>%p</td><td>显示出AM或PM</td></tr><tr><td>%a</td><td>缩写的工作日名称（例如：Sun）</td></tr><tr><td>%A</td><td>完整的工作日名称（例如：Sunday）</td></tr><tr><td>%b</td><td>缩写的月份名称（例如：Jan）</td></tr><tr><td>%B</td><td>完整的月份名称（例如：January）</td></tr><tr><td>%q</td><td>季度（1~4）</td></tr><tr><td>%y</td><td>简写年份（例如：20）</td></tr><tr><td>%Y</td><td>完整年份（例如：2020）</td></tr><tr><td>%d</td><td>本月中的第几天</td></tr><tr><td>%j</td><td>今年中的第几天</td></tr><tr><td>%n</td><td>换行符（相当于按下回车键）</td></tr><tr><td>%t</td><td>跳格（相当于按下Tab键）</td></tr></tbody></table><ol start="3"><li>reboot命令</li></ol><p>reboot命令用于重启系统，其格式为reboot。需要root管理员权限</p><ol start="4"><li>poweroff命令</li></ol><p>用于关闭系统，其格式为poweroff，默认root管理员权限。</p><ol start="5"><li>wget命令</li></ol><p>用于在终端下载网络文件，格式为&quot;wget[参数]下载地址&quot;。</p><p>​wget命令的参数以及命令</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-b</td><td>后台下载模式</td></tr><tr><td>-P</td><td>下载到指定目录</td></tr><tr><td>-t</td><td>最大尝试次数</td></tr><tr><td>-c</td><td>断点续传</td></tr><tr><td>-p</td><td>下载页面内所有资源，包括图片、视频等</td></tr><tr><td>-r</td><td>递归下载</td></tr></tbody></table><div class='tip error'><p>error：出现错误<p></div><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201112210230.png" alt="image-20201112210227444"></p><p>解决:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate  https://www.linuxprobe.com/docs/LinuxProbe.pdf</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201112210519.png" alt="image-20201112210518064"></p><ol start="6"><li>ps命令</li></ol><p>ps命令用于查看系统中的进程状态，格式为“ps [参数]”。</p><p>ps命令的参数以及作用</p><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-a</td><td>显示所有进程（包括其他用户的进程）</td></tr><tr><td>-u</td><td>用户以及其他详细信息</td></tr><tr><td>-x</td><td>显示没有控制终端的进程</td></tr></tbody></table><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">R（运行）：进程正在运行或在运行队列中等待。</span><br><span class="line">S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</span><br><span class="line">D（不可中断）：进程不响应系统异步信号，即便用kill命令也不能将其中断。</span><br><span class="line">Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用wait4()系统函数后将进程释放。</span><br><span class="line">T（停止）：进程收到停止信号后停止运行。</span><br></pre></td></tr></table></figure><ol start="7"><li>top命令</li></ol><p>top命令用于动态地监视进程活动与系统负载等信息，其格式为top。</p><p>top命令相当强大，能够动态地查看系统运维状态，完全将它看作Linux中的“强化版的Windows任务管理器”。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201112212251.png" alt="image-20201112212250825"></p><ol start="8"><li>pidof命令</li></ol><p>pidof命令用于查询某个指定服务进程的PID值，格式为“pidof [参数] [服务名称]”。</p><p>每个进程的进程号码值（PID）是唯一的，因此可以通过PID来区分不同的进程。例如，可以使用如下命令来查询本机上sshd服务程序的PID：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hello@hello Desktop]$ pidof sshd</span><br><span class="line">2037</span><br></pre></td></tr></table></figure><ol start="9"><li>kill命令</li></ol><p>kill命令用于终止某个指定PID的服务进程，格式为“kill [参数] [进程PID]”。</p><p>接下来，我们使用kill命令把上面用pidof命令查询到的PID所代表的进程终止掉，其命令如下所示。这种操作的效果等同于强制停止sshd服务。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hello@hello Desktop]$ kill 2037</span><br></pre></td></tr></table></figure><ol start="10"><li>killall命令</li></ol><p>killall命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数] [服务名称]”。</p><h2 id="系统状态检测命令"><a class="header-anchor" href="#系统状态检测命令">¶</a>系统状态检测命令</h2><ol><li>ifconfig命令</li></ol><p>ifconfig命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。</p><h1>基本命令</h1><p>通用语法格式：# <font color='red'>指令名称 [选项] [操作的目标]</font></p><h2 id="简单命令"><a class="header-anchor" href="#简单命令">¶</a>简单命令</h2><h3 id="ls指令"><a class="header-anchor" href="#ls指令">¶</a>ls指令</h3><p>语法1：<strong>#ls [路径]</strong></p><p>表示列出指定路径下的文件夹和文件的名字，如果路径没有指定则列出当前路径下的（list）</p><p>例如：在root用户的家目录中输入ls命令，则会看到以下的效果：</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201122112536.jpg" alt="img"></p><p>要求列出/home的文档的名称。</p><p>#ls /home</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201122112648.png" alt="image-20201122112647863"></p><p>语法2：<strong>#ls -l [路径]</strong></p><p>表示<strong>以列表的形式</strong>列出指定路径下的文件夹和文件的名字</p><p>例如：使用ls –l的命令列出当前用户家目录中的文件夹和文件信息</p><p>语法3：**#ls -la [**<strong>路径]</strong></p><p>表示<strong>以列表的形式</strong>列出指定路径下的文件夹和文件名（<strong>包含隐藏文件</strong>**,all**）</p><p>例如：在当前用户的家目录中输入ls –la命令可以查看全部的文件夹和文件名，并且包含了隐藏文件（<font color='red'>特点是以“<strong>.</strong>”开头的名字</font>）</p><h3 id="clear指令"><a class="header-anchor" href="#clear指令">¶</a>clear指令</h3><p>表示的含义：清空当前屏幕中全部的命令（<strong>其实质是没有清空，只不过是顶到上面去了</strong>）</p><p><strong>语法：#clear</strong></p><p><strong>等效于快捷键：ctrl + L</strong></p><h3 id="su指令"><a class="header-anchor" href="#su指令">¶</a>su指令</h3><p>作用：切换用户（switch user）。</p><p>语法：<strong>#su</strong> <strong>需要切换到的用户名（用户名可以不写，则表示切换到root用户）</strong></p><p>例如：</p><p>1、从root用户切换到admin用户。</p><p>2、从admin用户切换到root用户。</p><p>#su root</p><p>等价于：</p><p>#su</p><blockquote><p>密码输错有两种方式：1，根据提示重新输入；2，按住backspace（删除键）三秒</p></blockquote><p>通过上述两个命令的操作发现一个结论：</p><p><strong>当切换到的用户权限如果比当前用户的权限低，可以直接切换，不需要密码；反之，如果从低往高切换则要求输入被切换到的账户对应的密码。</strong></p><h3 id="cd指令"><a class="header-anchor" href="#cd指令">¶</a>cd指令</h3><p>作用：切换目录（change directory）。</p><p><strong>语法：#cd</strong> <strong>需要切换到的路径（路径可以是相对路径，也可以是绝对路径）</strong></p><p><strong>路径可以写也可以不写，不写则表示切换到当前用户的家目录。</strong></p><p>例如：</p><p>1、从root用户家目录中切换到admin用户的家目录中</p><blockquote><p><strong>提示：在切换路径或者后期打开一个文件的时候可以多建议使用tab键（可以自动补全命令路径）。</strong></p></blockquote><p>2、切换用户切换到admin用户，然后从admin用户的家目录使用cd切换到root的家目录</p><p>#su admin</p><p>#cd /root</p><p>结论： <strong>低级用户没有权限访问高级用户相关的资源</strong>。</p><p><strong>关于路径：</strong></p><p>路径分为相对路径和绝对路径。</p><p>相对路径是相对当前路径的一种表现形式。</p><p>特点：只要不是以“/”开头的就是相对路径。</p><p>绝对路径是直接从“根”开始的一种路径形式。</p><p>特点：以“/”开头的路径称之为绝对路径。</p><p>案例：从root用户家目录中切换到admin用户的家目录中，要求以相对路径形式书写。</p><p>#cd …/home/admin</p><p>分析：</p><p>​     当前路径：**/**root</p><p>​     目标路径：**/**home/admin</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;简单命令&lt;/h1&gt;
&lt;h2 id=&quot;常用系统工作命令&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#常用系统工作命令&quot;&gt;¶&lt;/a&gt;常用系统工作命令&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;echo命令&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;用于在终端输出字符串或变量提取后的值，格式为&amp;quot;echo[字符串|$变量]&amp;quot;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;相当于打印字符串/提取变量的值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hello@hello Desktop]$ echo $SHELL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/bin/bash&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;date命令&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;用于显示及设置系统的时间或日期，格式为&amp;quot;&lt;code&gt;date[选项][+指定的格式]&lt;/code&gt;&amp;quot;&lt;/p&gt;
&lt;p&gt;只需在强大的date命令中输入以“+”号开头的参数，即可按照指定格式来输出系统的时间或日期，这样在日常工作时便可以把备份数据的命令与指定格式输出的时间信息结合到一起。&lt;/p&gt;</summary>
    
    
    
    <category term="linux" scheme="http://stardust14.com/categories/linux/"/>
    
    
    <category term="linux" scheme="http://stardust14.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>python爬虫</title>
    <link href="http://stardust14.com/2020/10/20/python%E7%88%AC%E8%99%AB/"/>
    <id>http://stardust14.com/2020/10/20/python%E7%88%AC%E8%99%AB/</id>
    <published>2020-10-20T08:29:35.000Z</published>
    <updated>2020-10-27T08:04:47.961Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>预备知识</h1><h2 id="正则法则"><a class="header-anchor" href="#正则法则">¶</a>正则法则</h2><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center"><code>\d</code></td><td style="text-align:center">代表任意数字，就是阿拉伯数字 0-9 这些玩意。</td></tr><tr><td style="text-align:center"><code>\D</code></td><td style="text-align:center">大写的就是和小写的唱反调，\d 你代表的是任意数字是吧？那么我 \D 就代表不是数字的。</td></tr><tr><td style="text-align:center"><code>\w</code></td><td style="text-align:center">代表字母，数字，下划线。也就是 a-z、A-Z、0-9、_。</td></tr><tr><td style="text-align:center"><code>\W</code></td><td style="text-align:center">跟 \w 唱反调，代表不是字母，不是数字，不是下划线的。</td></tr><tr><td style="text-align:center"><code>\n</code></td><td style="text-align:center">代表一个换行。</td></tr><tr><td style="text-align:center"><code>\r</code></td><td style="text-align:center">代表一个回车。</td></tr><tr><td style="text-align:center"><code>\f</code></td><td style="text-align:center">代表换页。</td></tr><tr><td style="text-align:center"><code>\t</code></td><td style="text-align:center">代表一个 Tab 。</td></tr><tr><td style="text-align:center"><code>\s</code></td><td style="text-align:center">代表所有的空白字符，也就是上面这个：\n、\r、\t、\f。</td></tr><tr><td style="text-align:center"><code>\S</code></td><td style="text-align:center">跟 \s 唱反调，代表所有不是空白的字符。</td></tr><tr><td style="text-align:center"><code>\A</code></td><td style="text-align:center">代表字符串的开始。</td></tr><tr><td style="text-align:center"><code>\Z</code></td><td style="text-align:center">代表字符串的结束。</td></tr><tr><td style="text-align:center"><code>^</code></td><td style="text-align:center">匹配字符串开始的位置。</td></tr><tr><td style="text-align:center"><code>$</code></td><td style="text-align:center">匹配字符创结束的位置。</td></tr><tr><td style="text-align:center"><code>.</code></td><td style="text-align:center">代表所有的单个字符，除了 \n \r</td></tr><tr><td style="text-align:center"><code>[...]</code></td><td style="text-align:center">代表在 [] 范围内的字符，比如 [a-z] 就代表 a到z的字母</td></tr><tr><td style="text-align:center"><code>[^...]</code></td><td style="text-align:center">跟 […] 唱反调，代表不在 [] 范围内的字符</td></tr><tr><td style="text-align:center"><code>&#123;n&#125;</code></td><td style="text-align:center">匹配在 {n} 前面的东西，比如: o{2} 不能匹配 Bob 中的 o ，但是能匹配 food 中的两个o。</td></tr><tr><td style="text-align:center"><code>&#123;n,m&#125;</code></td><td style="text-align:center">匹配在 {n,m} 前面的东西，比如：o{1,3} 将匹配“fooooood”中的前三个o。</td></tr><tr><td style="text-align:center"><code>&#123;n，&#125;</code></td><td style="text-align:center">匹配在 {n,} 前面的东西，比如：o{2,} 不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。</td></tr><tr><td style="text-align:center"><code>*</code></td><td style="text-align:center">和 {0,} 一个样，匹配 * 前面的 0 次或多次。 比如 zo* 能匹配“z”、“zo”以及“zoo”。</td></tr><tr><td style="text-align:center"><code>+</code></td><td style="text-align:center">和{1，} 一个样，匹配 + 前面 1 次或多次。 比如 zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。</td></tr><tr><td style="text-align:center"><code>？</code></td><td style="text-align:center">和{0,1} 一个样，匹配 ？前面 0 次或 1 次。</td></tr><tr><td style="text-align:center"><code>a|b</code></td><td style="text-align:center">匹配 a 或者 b。</td></tr><tr><td style="text-align:center"><code>（）</code></td><td style="text-align:center">匹配括号里面的内容。</td></tr></tbody></table><p>例子：</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#贪婪匹配</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;hello,world.xiaoshuaib has 100 bananas&#x27;</span></span><br><span class="line">res=re.match(<span class="string">&#x27;^he.*(\d+)\s.*s$&#x27;</span>,content)</span><br><span class="line">print(res.group(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#结果是0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#非贪婪匹配，多了个？</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;hello,world.xiaoshuaib has 100 bananas&#x27;</span></span><br><span class="line">res=re.match(<span class="string">&#x27;^he.*?(\d+)\s.*s$&#x27;</span>,content)</span><br><span class="line">print(res.group(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#结果是100</span></span><br></pre></td></tr></table></figure><blockquote><p>所谓贪婪匹配就是第一段代码一个数一个数都要去匹配</p><p>而非贪婪是直接把 100 给匹配出来了</p></blockquote><blockquote><p><code>.\*？</code>:表示的就是匹配任意字符</p><p>.*？的 . 代表所有的单个字符，除了 \n \r</p></blockquote><p>字符串有换行:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;&#x27;&#x27;hello,world.xiaoshuaib </span></span><br><span class="line"><span class="string">has 100 bananas&#x27;&#x27;&#x27;</span></span><br><span class="line">res=re.match(<span class="string">&#x27;^he.*?(\d+)\s.*s$&#x27;</span>,content,re.S)</span><br><span class="line">print(res.group(<span class="number">1</span>))</span><br><span class="line"><span class="comment">#直接用 re.S </span></span><br></pre></td></tr></table></figure><p><strong>re.search</strong>:直接去扫描字符串,然后把匹配成功的<strong>第一个</strong>结果的返回</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;&#x27;&#x27;hello,world.xiaoshuaib </span></span><br><span class="line"><span class="string">has 100 bananas&#x27;&#x27;&#x27;</span></span><br><span class="line">res=re.search(<span class="string">&#x27;he.*?(\d+)\s.*s&#x27;</span>,content,re.S)</span><br><span class="line">print(res.group(<span class="number">1</span>))</span><br></pre></td></tr></table></figure><p><strong>re.findall</strong>:轻松的获取所有匹配的内容</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#又在结尾多了个？</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;&#x27;&#x27;hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;&#x27;&#x27;&#x27;</span></span><br><span class="line">res=re.findall(<span class="string">&#x27;he.*?(\d+)\s.*?s&#x27;</span>,content,re.S)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><p><strong>re.sub</strong>：替换字符/数字</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;&#x27;&#x27;hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;&#x27;&#x27;&#x27;</span></span><br><span class="line">content=re.sub(<span class="string">&#x27;\d+&#x27;</span>,<span class="string">&#x27;250&#x27;</span>,content)</span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure><p><strong>re.compile</strong>：主要就是把我们的匹配符封装一下</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content=<span class="string">&#x27;&#x27;&#x27;hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;</span></span><br><span class="line"><span class="string">hello,world.xiaoshuaib has 100 bananas;&#x27;&#x27;&#x27;</span></span><br><span class="line">pattern=re.compile(<span class="string">&#x27;he.*?(\d+)\s.*?s&#x27;</span>,re.S)</span><br><span class="line">res=re.findall(pattern,content)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><p>当当网爬虫：</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">request_dandan</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response=requests.get(url)</span><br><span class="line">        <span class="keyword">if</span> response.status_code==<span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> response.text</span><br><span class="line">    <span class="keyword">except</span> requests.RequestException:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_result</span>(<span class="params">html</span>):</span></span><br><span class="line">    pattern=re.compile(<span class="string">&#x27;&lt;li&gt;.*?list_num.*?(\d+).&lt;/div&gt;.*?&lt;img src&quot;(.*?)&quot;.*?class=&quot;name&quot;.*?title=&quot;(.*?)&quot;&gt;.*?class=&quot;star&quot;&gt;.*?class=&quot;tuijian&quot;&gt;(.*?)&lt;/span&gt;.?class=&quot;publisher_info&quot;&gt;.*?target=&quot;_blank&quot;&gt;(.*?)&lt;/a&gt;.*?class=&quot;biaosheng&quot;&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;&lt;/div&gt;.?&lt;p&gt;&lt;span\sclass=&quot;price_n&quot;&gt;￥(.*?)&lt;/span&gt;.*?&lt;/li&gt;&#x27;</span>,re.S)</span><br><span class="line">    items=re.finditer(pattern,html)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="keyword">yield</span> &#123;</span><br><span class="line">            <span class="string">&#x27;range&#x27;</span>:item[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&#x27;iamge&#x27;</span>:item[<span class="number">1</span>],</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>:item[<span class="number">2</span>],</span><br><span class="line">            <span class="string">&#x27;recommend&#x27;</span>:item[<span class="number">3</span>],</span><br><span class="line">            <span class="string">&#x27;author&#x27;</span>:item[<span class="number">4</span>],</span><br><span class="line">            <span class="string">&#x27;times&#x27;</span>:item[<span class="number">5</span>],</span><br><span class="line">            <span class="string">&#x27;price&#x27;</span>:item[<span class="number">6</span>]</span><br><span class="line">        &#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_item_to_file</span>(<span class="params">item</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;开始写入数据====&gt;&#x27;</span>+str(item))</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">&#x27;book.txt&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;UTF-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(json.dumps(item,ensure_ascii=<span class="literal">False</span>)+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">page</span>):</span></span><br><span class="line">    url=<span class="string">&#x27;http://bang.dangdang.com/books/fivestars/01.00.00.00.00.00-recent30-0-0-1-1&#x27;</span>+str(page)</span><br><span class="line">    html=request_dandan(url)</span><br><span class="line">    items=parse_result(html)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        write_item_to_file(item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">26</span>):</span><br><span class="line">        main(i)</span><br></pre></td></tr></table></figure><h2 id="BeautifulSoup"><a class="header-anchor" href="#BeautifulSoup">¶</a>BeautifulSoup</h2><p>BeautifulSoup4将复杂HTML文档转换成一个复杂的树形结构，每个节点都是Python对象，所有对象可以归纳为四种:</p><ul><li>Tag</li><li>NavigableString</li><li>BeautifulSoup</li><li>comment</li></ul><ol><li>Tag</li></ol><p>标签及其内容，拿到她所找到的第一个内容</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">url=<span class="string">&quot;https://www.douban.com&quot;</span></span><br><span class="line">headers=&#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># data=bytes(urllib.parse.urlencode(&#123;&#x27;name&#x27;:&#x27;eric&#x27;&#125;),encoding=&quot;utf-8&quot;)</span></span><br><span class="line">req=urllib.request.Request(url=url,headers=headers)</span><br><span class="line">reponse=urllib.request.urlopen(req)</span><br><span class="line">bs=BeautifulSoup(reponse,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(bs.a)<span class="comment">#拿到找到第一个标签的全部信息</span></span><br></pre></td></tr></table></figure><ol start="2"><li>NavigableString</li></ol><p>标签里面的内容（字符串）</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(bs.title.string)<span class="comment">#拿到标签里的内容</span></span><br><span class="line">print(bs.a.attrs)  <span class="comment">#快速拿到一个标签里所有的属性，并返回一个字典</span></span><br></pre></td></tr></table></figure><ol start="3"><li>BeautifulSoup</li></ol><p>表示整个文档</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(bs)</span><br></pre></td></tr></table></figure><ol start="4"><li>comment</li></ol><p>是一个特殊的NavigableString，输出的内容不包含注释符号</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(type(bs.title.string))</span><br></pre></td></tr></table></figure><h2 id="selenium"><a class="header-anchor" href="#selenium">¶</a>selenium</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome()<span class="comment">#创建了一个 Chrome 驱动</span></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)<span class="comment">#使用 get 方法打开百度</span></span><br><span class="line"></span><br><span class="line">input=driver.find_element_by_css_selector(<span class="string">&#x27;#kw&#x27;</span>)<span class="comment">#id 定位也就是百度的搜索框所在的标签位置</span></span><br><span class="line">input.send_keys(<span class="string">&quot;hexo博客&quot;</span>)<span class="comment">#写入我们要搜索的内容</span></span><br><span class="line"></span><br><span class="line">button=driver.find_element_by_css_selector(<span class="string">&#x27;#su&#x27;</span>)<span class="comment">#相当于点击百度的百度一下按钮</span></span><br><span class="line">button.click()<span class="comment">#模拟点击一次鼠标</span></span><br></pre></td></tr></table></figure><p>当我们要在页面中获取一个元素的时候</p><p>可以使用这些方法</p><ul><li>find_element_by_id</li><li>find_element_by_name</li><li>find_element_by_xpath</li><li>find_element_by_link_text</li><li>find_element_by_partial_link_text</li><li>find_element_by_tag_name</li><li>find_element_by_class_name</li><li>find_element_by_css_selector</li></ul><p>想要在页面获取多个元素呢</p><p>就可以这样</p><ul><li>find_elements_by_name</li><li>find_elements_by_xpath</li><li>find_elements_by_link_text</li><li>find_elements_by_partial_link_text</li><li>find_elements_by_tag_name</li><li>find_elements_by_class_name</li><li>find_elements_by_css_selector</li></ul><h2 id="一些函数"><a class="header-anchor" href="#一些函数">¶</a>一些函数</h2><h3 id="class"><a class="header-anchor" href="#class">¶</a>class</h3><p>调用被封装的内容时，有两种情况：</p><ul><li>通过对象直接调用</li><li>通过self间接调用</li></ul><p>直接调用</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">obj1 = Foo(<span class="string">&#x27;chengd&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="comment"># obj1.detail()  # Python默认会将obj1传给self参数，即：obj1.detail(obj1)，所以，此时方法内部的 self ＝ obj1，即：self.name 是 chengd ；self.age 是 18</span></span><br><span class="line">print(obj1.name)</span><br><span class="line">print(obj1.age)</span><br></pre></td></tr></table></figure><p>间接调用</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">    self.name = name</span><br><span class="line">    self.age = age</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">detail</span>(<span class="params">self</span>):</span></span><br><span class="line">    print(self.name)</span><br><span class="line">    print(self.age)</span><br><span class="line">  </span><br><span class="line">obj1 = Foo(<span class="string">&#x27;chengd&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">obj1.detail()  <span class="comment"># Python默认会将obj1传给self参数，即：obj1.detail(obj1)，所以，此时方法内部的 self ＝ obj1，即：self.name 是 chengd ；self.age 是 18</span></span><br><span class="line">  </span><br><span class="line">obj2 = Foo(<span class="string">&#x27;python&#x27;</span>, <span class="number">99</span>)</span><br><span class="line">obj2.detail()  <span class="comment"># Python默认会将obj2传给self参数，即：obj1.detail(obj2)，所以，此时方法内部的 self ＝ obj2，即：self.name 是 python ； self.age 是 99x</span></span><br></pre></td></tr></table></figure><h3 id="open"><a class="header-anchor" href="#open">¶</a>open</h3><p>open(path, ‘-模式-‘,encoding=’UTF-8’)<br>即open(路径+文件名, 读写模式, 编码)</p><p>读写模式：<br>r ：只读<br>r+ : 读写<br>w ： 新建（会对原有文件进行覆盖）<br>a ： 追加<br>b ： 二进制文件</p><p>常用的模式有：<br>“a” 以“追加”模式打开， (从 EOF 开始, 必要时创建新文件)<br>“a+” 以”读写”模式打开<br>“ab” 以”二进制 追加”模式打开<br>“ab+” 以”二进制 读写”模式打开</p><p>“w” 以”写”的方式打开<br>“w+” 以“读写”模式打开<br>“wb” 以“二进制 写”模式打开<br>“wb+” 以“二进制 读写”模式打开</p><p>“r+” 以”读写”模式打开<br>“rb” 以”二进制 读”模式打开<br>“rb+” 以”二进制 读写”模式打开</p><p>f.write(“hello\n”) #如果要写入字符串以外的数据,先将他转换为字符串.</p><h3 id="with函数"><a class="header-anchor" href="#with函数">¶</a>with函数</h3><p>工作原理</p><p><strong>紧跟with后面的语句会被求值，返回对象的__enter__()方法被调用，这个方法的返回值将被赋值给as关键字后面的变量，当with后面的代码块全部被执行完之后，将调用前面返回对象的__exit__()方法。</strong></p><blockquote><p><strong><em>enter</em>_()方法在语句体（with语句包裹起来的代码块）执行之前进入运行，<strong>exit</strong>()方法在语句体执行完毕退出后运行。</strong></p></blockquote><h3 id="write函数"><a class="header-anchor" href="#write函数">¶</a>write函数</h3><p>用于向文件中写入指定字符串。</p><h3 id="sys-stdout-write"><a class="header-anchor" href="#sys-stdout-write">¶</a>sys.stdout.write</h3><p>sys.stdout.write(&quot; “）的本质是print(” “, end=”&quot;)</p><h1>实例</h1><h2 id="豆瓣爬虫"><a class="header-anchor" href="#豆瓣爬虫">¶</a>豆瓣爬虫</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request,urllib.error</span><br><span class="line"><span class="keyword">import</span> _sqlite3</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    baseurl=<span class="string">&quot;https://movie.douban.com/top250?start=&quot;</span></span><br><span class="line">    <span class="comment">#1.爬取网页</span></span><br><span class="line">    datalist=getDate(baseurl)</span><br><span class="line">    savepath=<span class="string">&quot;.\\豆瓣电影Top250.xls&quot;</span></span><br><span class="line">    <span class="comment"># 3.保存数据</span></span><br><span class="line">    saveDate(datalist,savepath)</span><br><span class="line">    <span class="comment"># askURL(baseurl)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#影片详情的规则</span></span><br><span class="line">findLink=re.compile(<span class="string">r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;</span>)       <span class="comment">#创建正则表达式对象，表示规则（字符串的模式）</span></span><br><span class="line"><span class="comment">#影片片名</span></span><br><span class="line">findTitle=re.compile(<span class="string">r&#x27;&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">#影片的图片</span></span><br><span class="line">findImg=re.compile(<span class="string">r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;</span>,re.S)</span><br><span class="line"><span class="comment">#影片评分</span></span><br><span class="line">findRating=re.compile(<span class="string">r&#x27;&lt;span.*property.*&gt;(.*)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">#影片评价人数</span></span><br><span class="line">findPeople=re.compile(<span class="string">r&#x27;&lt;span&gt;(.*)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">#找到概况</span></span><br><span class="line">findInq=re.compile(<span class="string">r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">#找到影片的相关内容</span></span><br><span class="line">findBd=re.compile(<span class="string">r&#x27;&lt;p class=&quot;&quot;&gt;(.*?)&lt;/p&gt;&#x27;</span>,re.S)</span><br><span class="line"></span><br><span class="line"><span class="comment">#爬取网页</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getDate</span>(<span class="params">baseurl</span>):</span></span><br><span class="line">    datalist=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>):       <span class="comment">#调用获取页面信息的函数，10次</span></span><br><span class="line">        url=baseurl+str(i*<span class="number">25</span>)</span><br><span class="line">        html=askURL(url)        <span class="comment">#保存获取到的网页源码</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.逐一解析网页</span></span><br><span class="line">        soup=BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>,class_=<span class="string">&quot;item&quot;</span>):</span><br><span class="line">            <span class="comment"># print(item)#测试查看电影item全部信息</span></span><br><span class="line">            data=[]<span class="comment">#保存一部电影的全部信息</span></span><br><span class="line">            item=str(item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">#获取到影片详情的链接</span></span><br><span class="line">            link=re.findall(findLink,item)[<span class="number">0</span>]   <span class="comment">#用re用来通过正则表达式查找指定的字符串</span></span><br><span class="line">            data.append(link)</span><br><span class="line">            <span class="comment"># print(link)</span></span><br><span class="line">            title=re.findall(findTitle,item)     <span class="comment">#影片名字</span></span><br><span class="line">            <span class="keyword">if</span>(len(title)==<span class="number">2</span>):</span><br><span class="line">                ctitle=title[<span class="number">0</span>]     <span class="comment">#添加中国名</span></span><br><span class="line">                data.append(ctitle)</span><br><span class="line">                otitle=title[<span class="number">1</span>].replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;&quot;</span>)<span class="comment">#去掉无关的符号</span></span><br><span class="line">                data.append(otitle) <span class="comment">#添加外国名</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                data.append(title[<span class="number">0</span>])</span><br><span class="line">                data.append(<span class="string">&#x27; &#x27;</span>)        <span class="comment">#外国名留空</span></span><br><span class="line">            <span class="comment"># print(title)</span></span><br><span class="line">            img=re.findall(findImg,item)[<span class="number">0</span>]     <span class="comment">#影片图片</span></span><br><span class="line">            data.append(img)</span><br><span class="line">            <span class="comment"># print(img)</span></span><br><span class="line">            rate=re.findall(findRating,item)[<span class="number">0</span>]     <span class="comment">#评价分数</span></span><br><span class="line">            data.append(rate)</span><br><span class="line">            <span class="comment"># print(rate)</span></span><br><span class="line">            people=re.findall(findPeople,item)[<span class="number">0</span>]      <span class="comment">#评价人数</span></span><br><span class="line">            data.append(people)</span><br><span class="line">            <span class="comment"># print(people)</span></span><br><span class="line">            inp=re.findall(findInq,item)     <span class="comment">#评价概述</span></span><br><span class="line">            <span class="keyword">if</span> len(inp)!=<span class="number">0</span>:</span><br><span class="line">                inp=inp[<span class="number">0</span>].replace(<span class="string">&quot;。&quot;</span>,<span class="string">&quot;&quot;</span>)  <span class="comment">#去掉句号</span></span><br><span class="line">                data.append(inp)            <span class="comment">#添加注释</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                data.append(<span class="string">&quot; &quot;</span>)            <span class="comment">#留空</span></span><br><span class="line">            <span class="comment"># print(inp)</span></span><br><span class="line">            bd=re.findall(findBd,item)[<span class="number">0</span>]       <span class="comment">#影片相关内容</span></span><br><span class="line">            bd=re.sub(<span class="string">&#x27;&lt;br(\s+)?/&gt;(\s+)?&#x27;</span>,<span class="string">&quot; &quot;</span>,bd)   <span class="comment">#去掉br</span></span><br><span class="line">            bd=re.sub(<span class="string">&#x27;/&#x27;</span>,<span class="string">&quot; &quot;</span>,bd)       <span class="comment">#替换</span></span><br><span class="line">            data.append(bd.strip())     <span class="comment">#去掉前后的空格</span></span><br><span class="line">            <span class="comment"># print(bd)</span></span><br><span class="line">            datalist.append(data)      <span class="comment">#把处理好的一部电影信息放入datalist</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(datalist)</span></span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到指定一个URL的网页内容</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">askURL</span>(<span class="params">url</span>):</span></span><br><span class="line">    head=&#123;<span class="comment">#模拟浏览器头部信息，向豆瓣服务器发送消息</span></span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    request = urllib.request.Request(url,headers=head)</span><br><span class="line">    html=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response=urllib.request.urlopen(request)</span><br><span class="line">        html=response.read().decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="comment"># print(html)</span></span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;code&quot;</span>):</span><br><span class="line">            print(e.code)</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;reason&quot;</span>):</span><br><span class="line">            print(e.reason)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#保存数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveDate</span>(<span class="params">datalist,savepath</span>):</span></span><br><span class="line">    book=xlwt.Workbook(encoding=<span class="string">&quot;utf-8&quot;</span>,style_compression=<span class="number">0</span>)<span class="comment">#创建workbook对象</span></span><br><span class="line">    sheet=book.add_sheet(<span class="string">&quot;豆瓣电影TOP250&quot;</span>,cell_overwrite_ok=<span class="literal">True</span>)<span class="comment">#创建工作表格</span></span><br><span class="line">    col=(<span class="string">&quot;电影详情链接&quot;</span>,<span class="string">&quot;电影中文名字&quot;</span>,<span class="string">&quot;电影外国名&quot;</span>,<span class="string">&quot;电影图片链接&quot;</span>,<span class="string">&quot;电影评分&quot;</span>,<span class="string">&quot;电影评分人数&quot;</span>,<span class="string">&quot;电影概述&quot;</span>,<span class="string">&quot;电影相关内容&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">8</span>):</span><br><span class="line">        sheet.write(<span class="number">0</span>,i,col[i])<span class="comment">#列名</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">250</span>):</span><br><span class="line">        print(<span class="string">&quot;第%d条&quot;</span>%(i+<span class="number">1</span>))</span><br><span class="line">        data=datalist[i]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">8</span>):</span><br><span class="line">            sheet.write(i+<span class="number">1</span>,j,data[j])</span><br><span class="line">    book.save(savepath)     <span class="comment">#保存</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line">    print(<span class="string">&quot;爬取完毕！&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="当当网"><a class="header-anchor" href="#当当网">¶</a>当当网</h2><p>获取什么信息：</p><ul><li>书名</li><li>作者</li><li>封面链接</li><li>价格</li><li>出版日期</li><li>评价人数</li><li>五星好评的次数</li></ul><div class='tip error'><p>error:部分出现乱码，还未解决，应该是生僻字<p></div><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request,urllib.error</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    baseurl=<span class="string">&quot;http://bang.dangdang.com/books/fivestars/01.00.00.00.00.00-recent30-0-0-1-&quot;</span></span><br><span class="line">    datalist = getDate(baseurl)</span><br><span class="line">    savepath=<span class="string">&quot;.\\当当网.xls&quot;</span></span><br><span class="line">    saveDate(datalist,savepath)</span><br><span class="line"><span class="comment">#书名</span></span><br><span class="line">findBook=re.compile(<span class="string">r&#x27;class=&quot;name&quot;.*?title=&quot;(.*?)&quot;&gt;&#x27;</span>,re.S)</span><br><span class="line"><span class="comment">#作者</span></span><br><span class="line">findAuthor=re.compile(<span class="string">r&#x27;&lt;a href.*?key=(.*?)&quot;&#x27;</span>,re.S)</span><br><span class="line"><span class="comment"># #封面链接</span></span><br><span class="line">findLink=re.compile(<span class="string">r&#x27;.*?&quot; src=&quot;(.*?)&quot;&#x27;</span>)</span><br><span class="line"><span class="comment"># #非会员价格</span></span><br><span class="line">findPrice1=re.compile(<span class="string">r&#x27;&lt;span class=&quot;price_r&quot;&gt;(.*?)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">#会员价格</span></span><br><span class="line">findPrice2=re.compile(<span class="string">r&#x27;&lt;span class=&quot;price_n&quot;&gt;(.*?)&lt;/span&gt;&#x27;</span>,re.S)</span><br><span class="line"><span class="comment">#电子书价格</span></span><br><span class="line">findPrice3=re.compile(<span class="string">r&#x27;&lt;p class=&quot;price_e&quot;&gt;.*&quot;price_n&quot;&gt;(.*?)&lt;/span&gt;&#x27;</span>,re.S)</span><br><span class="line"><span class="comment"># #出版日期</span></span><br><span class="line">findDate=re.compile(<span class="string">r&#x27;.*?_info&quot;&gt;&lt;span&gt;(.*?)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment"># # 评价人数</span></span><br><span class="line">findPeople=re.compile(<span class="string">r&#x27;&quot;star&quot;&gt;.*?&quot;_blank&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>)</span><br><span class="line"><span class="comment"># #五星好评次数</span></span><br><span class="line">findStar=re.compile(<span class="string">r&#x27;&quot;biaosheng&quot;&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;&#x27;</span>)</span><br><span class="line"><span class="comment"># 出版社</span></span><br><span class="line">findPrint=re.compile(<span class="string">r&#x27;&quot;publisher_info&quot;&gt;.*?&quot;_blank&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getDate</span>(<span class="params">baseurl</span>):</span></span><br><span class="line">    datalist=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">26</span>):</span><br><span class="line">        url=baseurl+str(i)</span><br><span class="line">        html = askURL(url)  <span class="comment"># 保存获取到的网页源码</span></span><br><span class="line">        <span class="comment"># print(html)</span></span><br><span class="line"></span><br><span class="line">        soup=BeautifulSoup(html,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">        <span class="comment"># print(soup)</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;ul&#x27;</span>,class_=<span class="string">&quot;bang_list&quot;</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> item.find_all(<span class="string">&#x27;li&#x27;</span>):</span><br><span class="line"></span><br><span class="line">                data=[]</span><br><span class="line">                item=str(i)</span><br><span class="line">                <span class="comment"># print(item)</span></span><br><span class="line"></span><br><span class="line">                book=re.findall(findBook,item)[<span class="number">0</span>]   <span class="comment">#书名</span></span><br><span class="line">                <span class="comment"># print(book)</span></span><br><span class="line">                data.append(book)</span><br><span class="line">                author=re.findall(findAuthor,item)[<span class="number">0</span>]   <span class="comment">#作者</span></span><br><span class="line">                <span class="comment"># print(author)</span></span><br><span class="line">                data.append(author)</span><br><span class="line">                img=re.findall(findLink,item)[<span class="number">0</span>]        <span class="comment">#图片链接</span></span><br><span class="line">                <span class="comment"># print(img)</span></span><br><span class="line">                data.append(img)</span><br><span class="line">                price=re.findall(findPrice1,item)[<span class="number">0</span>]        <span class="comment">#非会员书籍价格</span></span><br><span class="line">                data.append(price)</span><br><span class="line">                vipPrice=re.findall(findPrice2,item)[<span class="number">0</span>]     <span class="comment">#会员书籍价格</span></span><br><span class="line">                <span class="comment"># print(vipPrice)</span></span><br><span class="line">                data.append(vipPrice)</span><br><span class="line">                EbookPrice = re.findall(findPrice3, item)</span><br><span class="line">                <span class="comment"># print(price)</span></span><br><span class="line">                <span class="keyword">if</span> (len(EbookPrice) == <span class="number">1</span>):</span><br><span class="line">                    Eprice = EbookPrice[<span class="number">0</span>]</span><br><span class="line">                    data.append(Eprice)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># data.append(price)</span></span><br><span class="line">                    data.append(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                <span class="comment"># print(data)</span></span><br><span class="line">                date=re.findall(findDate,item)[<span class="number">0</span>]       <span class="comment">#出版日期</span></span><br><span class="line">                data.append(date)</span><br><span class="line">                <span class="comment"># print(date)</span></span><br><span class="line">                people=re.findall(findPeople,item)[<span class="number">0</span>]      <span class="comment">#评价人数</span></span><br><span class="line">                <span class="comment"># print(people)</span></span><br><span class="line">                data.append(people)</span><br><span class="line">                star=re.findall(findStar,item)[<span class="number">0</span>]   <span class="comment">#五星好评数</span></span><br><span class="line">                <span class="comment"># print(star)</span></span><br><span class="line">                data.append(star)</span><br><span class="line">                Print=re.findall(findPrint,item)[<span class="number">0</span>]     <span class="comment">#出版社</span></span><br><span class="line">                <span class="comment"># print(Print)</span></span><br><span class="line">                data.append(Print)</span><br><span class="line">                datalist.append(data)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(data)</span></span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">askURL</span>(<span class="params">url</span>):</span></span><br><span class="line">    head=&#123;<span class="comment">#模拟浏览器头部信息，向豆瓣服务器发送消息</span></span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    request = urllib.request.Request(url,headers=head)</span><br><span class="line">    html=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response=urllib.request.urlopen(request)</span><br><span class="line">        html=response.read()<span class="comment">#.decode(&quot;gb2312&quot;)</span></span><br><span class="line">        <span class="comment"># print(html)</span></span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;code&quot;</span>):</span><br><span class="line">            print(e.code)</span><br><span class="line">        <span class="keyword">if</span> hasattr(e,<span class="string">&quot;reason&quot;</span>):</span><br><span class="line">            print(e.reason)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveDate</span>(<span class="params">datalist,savepath</span>):</span></span><br><span class="line">    book=xlwt.Workbook(encoding=<span class="string">&quot;utf-8&quot;</span>,style_compression=<span class="number">0</span>)</span><br><span class="line">    sheet=book.add_sheet(<span class="string">&quot;当当网书籍&quot;</span>,cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line">    col=(<span class="string">&quot;书名&quot;</span>,<span class="string">&quot;作者&quot;</span>,<span class="string">&quot;封面链接&quot;</span>,<span class="string">&quot;非会员价格&quot;</span>,<span class="string">&quot;VIP价格&quot;</span>,<span class="string">&quot;电子书价格&quot;</span>,<span class="string">&quot;出版日期&quot;</span>,<span class="string">&quot;评价人数&quot;</span>,<span class="string">&quot;五星好评数&quot;</span>,<span class="string">&quot;出版社&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">        sheet.write(<span class="number">0</span>,i,col[i])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">500</span>):</span><br><span class="line">        print(<span class="string">&quot;第%d条&quot;</span>%(i+<span class="number">1</span>))</span><br><span class="line">        data=datalist[i]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">            sheet.write(i+<span class="number">1</span>,j,data[j])</span><br><span class="line">    book.save(savepath)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line">    print(<span class="string">&quot;爬取结束！&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="小说爬取成txt格式"><a class="header-anchor" href="#小说爬取成txt格式">¶</a>小说爬取成txt格式</h2><h3 id="一念永恒-txt"><a class="header-anchor" href="#一念永恒-txt">¶</a>一念永恒.txt</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment">#在类中定义的函数只有一点不同，就是第一个参数永远是实例变量self</span></span><br><span class="line"><span class="comment"># 类外面的叫函数(function)不叫方法(method)。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">download</span>(<span class="params">object</span>):</span>         <span class="comment">#用来描述具有相同的属性和方法的对象的集合</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span>     <span class="comment">#__init__方法的第一个参数永远是self，表示创建的实例本身</span></span><br><span class="line">        self.sever = <span class="string">&#x27;https://www.biqukan.com/&#x27;</span></span><br><span class="line">        self.baseurl = <span class="string">&#x27;https://www.biqukan.com/1_1094/&#x27;</span></span><br><span class="line">        self.titleNames=[]      <span class="comment">#章节的名字</span></span><br><span class="line">        self.titleUrls = []     <span class="comment">#章节的链接</span></span><br><span class="line">        self.titleNums=<span class="number">0</span>        <span class="comment">#章节数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># def main():</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     baseurl = &#x27;https://www.biqukan.com/1_1094/&#x27;</span></span><br><span class="line">    <span class="comment">#     # req = requests.get(url=baseurl)</span></span><br><span class="line">    <span class="comment">#     # html = req.text</span></span><br><span class="line">    <span class="comment">#     getData(self.baseurl)</span></span><br><span class="line">    <span class="comment">#     # askURL(baseurl)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">self</span>):</span>      <span class="comment">#可以访问初始化self的定义值</span></span><br><span class="line">        head = &#123;  <span class="comment"># 模拟浏览器头部信息，向豆瓣服务器发送消息</span></span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># datalist=[]</span></span><br><span class="line">        <span class="comment"># titleNums=0</span></span><br><span class="line">        <span class="comment"># url = self.baseurl</span></span><br><span class="line">        <span class="comment"># html=askURL(url)</span></span><br><span class="line">        response = requests.get(url=self.baseurl, headers=head)</span><br><span class="line">        response.encoding = <span class="string">&quot;gb2312&quot;</span></span><br><span class="line">        html = response.text</span><br><span class="line">        bf = BeautifulSoup(html, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">        div=bf.find_all(<span class="string">&#x27;div&#x27;</span>,class_=<span class="string">&#x27;listmain&#x27;</span>)</span><br><span class="line">        a_bf=BeautifulSoup(str(div[<span class="number">0</span>]),<span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">        a=a_bf.find_all(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        self.titleNums=len(a[<span class="number">13</span>:])</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> a[<span class="number">13</span>:]:</span><br><span class="line">            self.titleNames.append(each.string)</span><br><span class="line">            self.titleUrls.append(self.sever+each.get(<span class="string">&#x27;href&#x27;</span>))</span><br><span class="line">            <span class="comment"># print(each.string,sever+each.get(&#x27;href&#x27;))</span></span><br><span class="line">        <span class="comment"># print(bf)</span></span><br><span class="line">        <span class="comment"># for item in bf.find_all()</span></span><br><span class="line">        <span class="comment"># print(self.titleNames)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">saveBook</span>(<span class="params">self,name,path,text</span>):</span>  <span class="comment">#第一个参数永远是self，实际调用写入self后面的参数即可</span></span><br><span class="line">        write_flag=<span class="literal">True</span></span><br><span class="line">        <span class="keyword">with</span> open(path,<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:  <span class="comment">#open(路径+文件名, 读写模式, 编码)</span></span><br><span class="line">            f.write(name+<span class="string">&#x27;\n&#x27;</span>)      <span class="comment">#写入path中多行，用于向文件中写入指定字符串。</span></span><br><span class="line">            f.writelines(text)      <span class="comment">#既可以传入字符串又可以传入一个字符序列,并将该字符序列写入文件</span></span><br><span class="line">            f.write(<span class="string">&#x27;\n\n&#x27;</span>)         <span class="comment">#写入回车换行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getContent</span>(<span class="params">self,baseurl</span>):</span></span><br><span class="line">        head = &#123;  <span class="comment"># 模拟浏览器头部信息，向豆瓣服务器发送消息</span></span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># url = baseurl</span></span><br><span class="line">        response = requests.get(url=baseurl, headers=head)</span><br><span class="line">        response.encoding = <span class="string">&quot;gb2312&quot;</span></span><br><span class="line">        html = response.text</span><br><span class="line"></span><br><span class="line">        <span class="comment"># html = askURL(url)</span></span><br><span class="line">        bf = BeautifulSoup(html, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">        texts=bf.find_all(<span class="string">&#x27;div&#x27;</span>,class_=<span class="string">&#x27;showtxt&#x27;</span>)</span><br><span class="line">        texts=texts[<span class="number">0</span>].text.replace(<span class="string">&#x27;\xa0&#x27;</span>*<span class="number">8</span>,<span class="string">&#x27;\n\n&#x27;</span>)    <span class="comment">#去除空格八次，用回车换行替换</span></span><br><span class="line">        <span class="keyword">return</span> texts    <span class="comment">#返回每一章的内容</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># def askURL(url):</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     # request = requests.get(url, headers=head)</span></span><br><span class="line">    <span class="comment">#     response = requests.get(url=url,headers=head)</span></span><br><span class="line">    <span class="comment">#     html = &quot;&quot;</span></span><br><span class="line">    <span class="comment">#     try:</span></span><br><span class="line">    <span class="comment">#         if response.status_code == 200:</span></span><br><span class="line">    <span class="comment">#             response.encoding = &quot;gb2312&quot;</span></span><br><span class="line">    <span class="comment">#             html = response.text</span></span><br><span class="line">    <span class="comment">#     except requests.RequestException:</span></span><br><span class="line">    <span class="comment">#         return None</span></span><br><span class="line">    <span class="comment">#     return html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    d1=download()<span class="comment">#这里对类进行实例化</span></span><br><span class="line">    d1.getData()<span class="comment">#调用类中定义的方法</span></span><br><span class="line">    print(<span class="string">&#x27;小说开始下载：&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(d1.titleNums):   <span class="comment">#i循环总章节次</span></span><br><span class="line">        d1.saveBook(d1.titleNames[i],<span class="string">&#x27;白小纯.txt&#x27;</span>,d1.getContent(d1.titleUrls[i]))<span class="comment">#调用方法，没有txt就创建，设置i是调用不同的章节链接</span></span><br><span class="line">        sys.stdout.write(<span class="string">&quot;已下载:%.3f%%&quot;</span>%  float(i/d1.titleNums) + <span class="string">&#x27;\r&#x27;</span>)<span class="comment">#%格式化输出</span></span><br><span class="line">        <span class="comment">#.3f保留三位小数</span></span><br><span class="line">        sys.stdout.flush()<span class="comment">#强制其“刷新”缓冲区，刷新输出</span></span><br><span class="line">        <span class="comment"># main()</span></span><br><span class="line">    print(<span class="string">&#x27;小说下载完成&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="妹子图"><a class="header-anchor" href="#妹子图">¶</a>妹子图</h2><p>不完美，ip被禁！</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">import</span> concurrent</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取每一页的章节链接</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPageUrls</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">2</span>):</span><br><span class="line">        baseurl=<span class="string">&#x27;https://www.mzitu.com/page/&#123;&#125;&#x27;</span>.format(i)</span><br><span class="line">        head = &#123;</span><br><span class="line">            <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        response=requests.get(url=baseurl,headers=head,)</span><br><span class="line">        response.encoding=<span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        html=response.text</span><br><span class="line">        soup=BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        list=soup.find(class_=<span class="string">&#x27;postlist&#x27;</span>).find_all(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line">        urls=[]</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> list:</span><br><span class="line">            url=item.find(<span class="string">&#x27;span&#x27;</span>).find(<span class="string">&#x27;a&#x27;</span>).get(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">            <span class="comment"># print(&#x27;页面链接：%s&#x27;%url)</span></span><br><span class="line">            urls.append(url)</span><br><span class="line">    <span class="keyword">return</span> urls</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取每一页的链接地址，并下载</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPages</span>(<span class="params">url</span>):</span></span><br><span class="line">    head = &#123;</span><br><span class="line">        <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url=url, headers=head)</span><br><span class="line">    response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">    html = response.text</span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    total = soup.find(class_=<span class="string">&#x27;pagenavi&#x27;</span>).find_all(<span class="string">&#x27;a&#x27;</span>)[<span class="number">-2</span>].find(<span class="string">&#x27;span&#x27;</span>).string</span><br><span class="line">    title = soup.find(<span class="string">&#x27;h2&#x27;</span>).string</span><br><span class="line">    imageList=[]</span><br><span class="line">    <span class="comment"># print(total)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(int(total)):</span><br><span class="line">        <span class="comment"># html = request_page(url + &#x27;/%s&#x27; % (i + 1))</span></span><br><span class="line">        head = &#123;</span><br><span class="line">            <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.get(url=url + <span class="string">&#x27;/%s&#x27;</span> % (i + <span class="number">1</span>), headers=head)</span><br><span class="line">        response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        html = response.text</span><br><span class="line">        soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        imgUrl = soup.find(<span class="string">&#x27;img&#x27;</span>).get(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">        imageList.append(imgUrl)</span><br><span class="line">    <span class="comment"># print(imageList)</span></span><br><span class="line">    downloadAllImage(title,imageList)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#下载每一页的图片，并写入文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downloadAllImage</span>(<span class="params">title,imagelist</span>):</span></span><br><span class="line">    os.mkdir(title)</span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    head = &#123;</span><br><span class="line">        <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># 下载图片</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> imagelist:</span><br><span class="line">        filename = <span class="string">&#x27;%s/%s.jpg&#x27;</span> % (title, str(j))</span><br><span class="line">        print(<span class="string">&#x27;downloading....%s : NO.%s&#x27;</span> % (title, str(j)))</span><br><span class="line">        <span class="keyword">with</span> open(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            img = requests.get(item, allow_redirects=<span class="literal">False</span>,headers=head)</span><br><span class="line">            f.write(img.content)</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_all_images</span>(<span class="params">list_page_urls</span>):</span><span class="comment">#多线程下载</span></span><br><span class="line">    <span class="comment"># 获取每一个详情妹纸</span></span><br><span class="line">    <span class="comment"># works = len(list_page_urls)</span></span><br><span class="line">    <span class="keyword">with</span> concurrent.futures.ProcessPoolExecutor(max_workers=<span class="number">5</span>) <span class="keyword">as</span> exector:</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> list_page_urls:</span><br><span class="line">            exector.submit(getPages, url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># urls=getPageUrls()</span></span><br><span class="line">    <span class="comment"># getPages(&#x27;https://www.mzitu.com/218092&#x27;)</span></span><br><span class="line">    listPageUrls=getPageUrls()</span><br><span class="line">    <span class="comment"># print(listPageUrls)</span></span><br><span class="line">    download_all_images(listPageUrls)</span><br><span class="line">    print(<span class="string">&#x27;爬虫结束！&#x27;</span>)</span><br></pre></td></tr></table></figure><p>改进：</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">import</span> concurrent</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPageUrls</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">2</span>):</span><br><span class="line">        baseurl=<span class="string">&#x27;https://www.mzitu.com/page/&#123;&#125;&#x27;</span>.format(i)</span><br><span class="line">        proxy=&#123;</span><br><span class="line">            <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;61.135.185.78:80&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;61.135.185.172:80&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;111.13.100.91:80&#x27;</span></span><br><span class="line">               &#125;</span><br><span class="line">        head = &#123;</span><br><span class="line">            <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.8.1.11) Gecko/20071127 Firefox/2.0.0.11&#x27;</span></span><br><span class="line">            <span class="comment"># &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)<span class="comment">#设置访问间隔</span></span><br><span class="line">        response=requests.get(url=baseurl,headers=head,proxies=proxy)</span><br><span class="line">        response.encoding=<span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        html=response.text</span><br><span class="line">        soup=BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        list=soup.find(class_=<span class="string">&#x27;postlist&#x27;</span>).find_all(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line">        urls=[]</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> list:</span><br><span class="line">            url=item.find(<span class="string">&#x27;span&#x27;</span>).find(<span class="string">&#x27;a&#x27;</span>).get(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">            <span class="comment"># print(&#x27;页面链接：%s&#x27;%url)</span></span><br><span class="line">            urls.append(url)</span><br><span class="line">    <span class="keyword">return</span> urls</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取每一页的链接地址，并下载</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPages</span>(<span class="params">url</span>):</span></span><br><span class="line">    proxy = &#123;<span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;61.135.185.78:80&#x27;</span>&#125;</span><br><span class="line">    head = &#123;</span><br><span class="line">        <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.8.1.11) Gecko/20071127 Firefox/2.0.0.11&#x27;</span></span><br><span class="line">        <span class="comment"># &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    response = requests.get(url=url, headers=head,proxies=proxy)</span><br><span class="line">    response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">    html = response.text</span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    total = soup.find(class_=<span class="string">&#x27;pagenavi&#x27;</span>).find_all(<span class="string">&#x27;a&#x27;</span>)[<span class="number">-2</span>].find(<span class="string">&#x27;span&#x27;</span>).string<span class="comment">#获取页数转换成字符串形式</span></span><br><span class="line">    title = soup.find(<span class="string">&#x27;h2&#x27;</span>).string<span class="comment">#找出标题</span></span><br><span class="line">    imageList=[]<span class="comment">#存储每一页的照片链接</span></span><br><span class="line">    <span class="comment"># print(total)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(int(total)):</span><br><span class="line">        <span class="comment"># html = request_page(url + &#x27;/%s&#x27; % (i + 1))</span></span><br><span class="line">        proxy = &#123;<span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;61.135.185.78:80&#x27;</span>&#125;</span><br><span class="line">        head = &#123;</span><br><span class="line">            <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">            <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.8.1.11) Gecko/20071127 Firefox/2.0.0.11&#x27;</span></span><br><span class="line">            <span class="comment">#&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line">        response = requests.get(url=url + <span class="string">&#x27;/%s&#x27;</span> % (i + <span class="number">1</span>), headers=head,proxies=proxy)<span class="comment">#</span></span><br><span class="line">        response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        html = response.text</span><br><span class="line">        soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        imgUrl = soup.find(<span class="string">&#x27;img&#x27;</span>).get(<span class="string">&#x27;src&#x27;</span>)<span class="comment">#找出每张照片的链接</span></span><br><span class="line">        imageList.append(imgUrl)</span><br><span class="line">    <span class="comment"># print(imageList)</span></span><br><span class="line">    downloadAllImage(title,imageList)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#下载每一页的图片，并写入文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downloadAllImage</span>(<span class="params">title,imagelist</span>):</span></span><br><span class="line">    os.mkdir(title)</span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    proxy = &#123;<span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;61.135.185.78:80&#x27;</span>&#125;</span><br><span class="line">    head = &#123;</span><br><span class="line">        <span class="string">&quot;DNT&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://www.mzitu.com/&quot;</span>,</span><br><span class="line">        <span class="comment"># 用户代理，告诉豆瓣服务器，我们是什么类型的机器，浏览器（本质上是告诉浏览器，我么可以接收什么水平的文件内容）</span></span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.8.1.11) Gecko/20071127 Firefox/2.0.0.11&#x27;</span></span><br><span class="line">        <span class="comment">#&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载图片</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> imagelist:</span><br><span class="line">        filename = <span class="string">&#x27;%s/%s.jpg&#x27;</span> % (title, str(j))</span><br><span class="line">        print(<span class="string">&#x27;downloading....%s : NO.%s&#x27;</span> % (title, str(j)))</span><br><span class="line">        <span class="keyword">with</span> open(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:<span class="comment">#打开新建的文件，并写入图片</span></span><br><span class="line">            time.sleep(<span class="number">0.5</span>)</span><br><span class="line">            img = requests.get(item, allow_redirects=<span class="literal">False</span>,headers=head,proxies=proxy)<span class="comment">#allow_redirects=False为拒绝默认的301/302重定向</span></span><br><span class="line">            <span class="comment"># 获取二进制数据; 注意: 这里不要解码, 因为图片,视频等文件都是二进制的不是文本,不需要解码</span></span><br><span class="line">            f.write(img.content)<span class="comment">#写入图片（下载图片）</span></span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置多线程</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_all_images</span>(<span class="params">list_page_urls</span>):</span></span><br><span class="line">    <span class="comment"># 获取每一个详情妹纸</span></span><br><span class="line">    <span class="comment"># works = len(list_page_urls)</span></span><br><span class="line">    <span class="keyword">with</span> concurrent.futures.ProcessPoolExecutor(max_workers=<span class="number">5</span>) <span class="keyword">as</span> exector:</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> list_page_urls:</span><br><span class="line">            exector.submit(getPages, url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># urls=getPageUrls()</span></span><br><span class="line">    <span class="comment"># print(urls)</span></span><br><span class="line">    <span class="comment"># getPages(&#x27;https://www.mzitu.com/218092&#x27;)</span></span><br><span class="line">    listPageUrls=getPageUrls()</span><br><span class="line">    <span class="comment"># print(listPageUrls)</span></span><br><span class="line">    download_all_images(listPageUrls)</span><br><span class="line">    print(<span class="string">&#x27;爬虫结束！&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;预备知识&lt;/h1&gt;
&lt;h2 id=&quot;正则法则&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#正则法则&quot;&gt;¶&lt;/a&gt;正则法则&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;字符&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表任意数字，就是阿拉伯数字 0-9 这些玩意。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\D&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;大写的就是和小写的唱反调，\d 你代表的是任意数字是吧？那么我 \D 就代表不是数字的。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表字母，数字，下划线。也就是 a-z、A-Z、0-9、_。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\W&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;跟 \w 唱反调，代表不是字母，不是数字，不是下划线的。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表一个换行。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\r&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表一个回车。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\f&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表换页。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\t&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表一个 Tab 。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\s&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表所有的空白字符，也就是上面这个：\n、\r、\t、\f。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\S&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;跟 \s 唱反调，代表所有不是空白的字符。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\A&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表字符串的开始。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\Z&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表字符串的结束。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;^&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配字符串开始的位置。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;$&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配字符创结束的位置。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;.&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表所有的单个字符，除了 \n \r&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;[...]&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;代表在 [] 范围内的字符，比如 [a-z] 就代表 a到z的字母&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;[^...]&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;跟 […] 唱反调，代表不在 [] 范围内的字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;&amp;#123;n&amp;#125;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配在 {n} 前面的东西，比如: o{2} 不能匹配 Bob 中的 o ，但是能匹配 food 中的两个o。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;&amp;#123;n,m&amp;#125;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配在 {n,m} 前面的东西，比如：o{1,3} 将匹配“fooooood”中的前三个o。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;&amp;#123;n，&amp;#125;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配在 {n,} 前面的东西，比如：o{2,} 不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;和 {0,} 一个样，匹配 * 前面的 0 次或多次。 比如 zo* 能匹配“z”、“zo”以及“zoo”。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;+&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;和{1，} 一个样，匹配 + 前面 1 次或多次。 比如 zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;？&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;和{0,1} 一个样，匹配 ？前面 0 次或 1 次。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;a|b&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配 a 或者 b。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;（）&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;匹配括号里面的内容。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;例子：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#贪婪匹配&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; re&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;content=&lt;span class=&quot;string&quot;&gt;&amp;#x27;hello,world.xiaoshuaib has 100 bananas&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;res=re.match(&lt;span class=&quot;string&quot;&gt;&amp;#x27;^he.*(\d+)\s.*s$&amp;#x27;&lt;/span&gt;,content)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(res.group(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#结果是0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#非贪婪匹配，多了个？&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; re&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;content=&lt;span class=&quot;string&quot;&gt;&amp;#x27;hello,world.xiaoshuaib has 100 bananas&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;res=re.match(&lt;span class=&quot;string&quot;&gt;&amp;#x27;^he.*?(\d+)\s.*s$&amp;#x27;&lt;/span&gt;,content)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(res.group(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#结果是100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;所谓贪婪匹配就是第一段代码一个数一个数都要去匹配&lt;/p&gt;
&lt;p&gt;而非贪婪是直接把 100 给匹配出来了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;.\*？&lt;/code&gt;:表示的就是匹配任意字符&lt;/p&gt;
&lt;p&gt;.*？的 . 代表所有的单个字符，除了 \n \r&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;字符串有换行:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; re&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;content=&lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;#x27;&amp;#x27;hello,world.xiaoshuaib &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;has 100 bananas&amp;#x27;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;res=re.match(&lt;span class=&quot;string&quot;&gt;&amp;#x27;^he.*?(\d+)\s.*s$&amp;#x27;&lt;/span&gt;,content,re.S)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print(res.group(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#直接用 re.S &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="爬虫" scheme="http://stardust14.com/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="爬虫" scheme="http://stardust14.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>js学习</title>
    <link href="http://stardust14.com/2020/10/17/js%E5%AD%A6%E4%B9%A0/"/>
    <id>http://stardust14.com/2020/10/17/js%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-10-17T03:40:44.000Z</published>
    <updated>2020-11-22T03:11:14.964Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>快速入门</h1>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;快速入门&lt;/h1&gt;
</summary>
    
    
    
    <category term="js" scheme="http://stardust14.com/categories/js/"/>
    
    
    <category term="js" scheme="http://stardust14.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>python 爬虫随笔记录</title>
    <link href="http://stardust14.com/2020/10/14/python%E7%88%AC%E8%99%AB%E9%9A%8F%E7%AC%94%E8%AE%B0%E5%BD%95/"/>
    <id>http://stardust14.com/2020/10/14/python%E7%88%AC%E8%99%AB%E9%9A%8F%E7%AC%94%E8%AE%B0%E5%BD%95/</id>
    <published>2020-10-14T11:06:42.000Z</published>
    <updated>2020-10-18T14:06:10.777Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>前言</h1><p>记录一下遇到的错误，或者是疑问，解决的问题，随笔记录！！！</p><h1>python 爬虫问题</h1><h2 id="语句解释"><a class="header-anchor" href="#语句解释">¶</a>语句解释</h2><p>爬虫中<code>if __name__ == '__main__'</code>语句解释：</p><p>相当于是 Python <strong>模拟的程序入口</strong>。</p><p>由于模块之间相互引用，不同模块可能都有这样的定义，而入口程序只能有一个。到底哪个入口程序被选中，这取决于 <code>__name__</code> 的值。</p><p><code>__name__</code>是Python的内置变量，用于指代当前模块。</p><p>两个例子说明：</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">&#x27;hello,I\&#x27;m A&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;A的__name__值:&#123;&#125;&#x27;</span>.format(__name__))</span><br><span class="line">print(<span class="string">&#x27;---------------&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> day01 <span class="keyword">import</span> demo01</span><br><span class="line">print(<span class="string">&#x27;hello,I\&#x27;m B&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;B中__name__的值：&#123;&#125;&#x27;</span>.format(__name__))</span><br></pre></td></tr></table></figure><p>上述两个例子分别结果：</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">hello,I<span class="string">&#x27;m A</span></span><br><span class="line"><span class="string">A的__name__值:__main__</span></span><br><span class="line"><span class="string">---------------</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">hello,I<span class="string">&#x27;m A</span></span><br><span class="line"><span class="string">A的__name__值:day01.demo01</span></span><br><span class="line"><span class="string">---------------</span></span><br><span class="line"><span class="string">hello,I&#x27;</span>m B</span><br><span class="line">B中__name__的值：__main__</span><br></pre></td></tr></table></figure><p>发现神奇之处了吗？当哪个模块被直接执行时，该模块“<code>__name__</code>”的值就是“<code>__main__</code>”，当被导入另一模块时，“<code>__name__</code>”的值就是模块的真实名称。用一个类比来解释一下：记得小时候要轮流打算教室，轮到自己的时候（模块被直接执行的时候），我们会说今天是“我”（<code>__main__</code>）值日，称呼其他人时，我们就会直接喊他们的名字。所以，“<code>__main__</code>”就相当于当事人，或者说第一人称的“我”。</p><p>所以，当运行“<code>if __name__=='__main__':</code>”语句时，如果当前模块时被直接执行，<code>__name__</code>的值就是<code>__main__</code>，条件判断的结果为True，“<code>if __name__=='__main__':</code>”下面的代码块就会被执行。</p><h2 id="遇到的错误"><a class="header-anchor" href="#遇到的错误">¶</a>遇到的错误</h2><p>在进行当当网爬虫练习时，出现<code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 284: invalid continuation byte</code></p><p>修改字符集参数，一般这种情况出现得较多是在国标码(GBK)和utf-8之间选择出现了问题。<br>出现异常报错是由于设置了decode()方法的第二个参数errors为严格（strict）形式造成的，因为默认就是这个参数，将其更改为ignore等即可。例如:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">html=response.read().decode(<span class="string">&quot;utf-8&quot;</span>,<span class="string">&quot;ignore&quot;</span>)</span><br></pre></td></tr></table></figure><h1>PyCharm中的问题</h1><h2 id="第三方库安装失败"><a class="header-anchor" href="#第三方库安装失败">¶</a>第三方库安装失败</h2><p>pycharm安装路径：<code>D:\Python\Code\venv\Scripts&gt;</code>在该径路下打开命令窗口，输入提示的信息。<code>python.exe -m pip install --upgrade pip</code></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201018204828.png" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;记录一下遇到的错误，或者是疑问，解决的问题，随笔记录！！！&lt;/p&gt;
&lt;h1&gt;python 爬虫问题&lt;/h1&gt;
&lt;h2 id=&quot;语句解释&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#语句解释&quot;&gt;¶&lt;/a&gt;语句解释&lt;/h2&gt;
&lt;p&gt;爬虫中&lt;code&gt;if __name__ == &#39;__main__&#39;&lt;/code&gt;语句解释：&lt;/p&gt;
&lt;p&gt;相当于是 Python &lt;strong&gt;模拟的程序入口&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;由于模块之间相互引用，不同模块可能都有这样的定义，而入口程序只能有一个。到底哪个入口程序被选中，这取决于 &lt;code&gt;__name__&lt;/code&gt; 的值。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;__name__&lt;/code&gt;是Python的内置变量，用于指代当前模块。&lt;/p&gt;
&lt;p&gt;两个例子说明：&lt;/p&gt;</summary>
    
    
    
    <category term="随笔" scheme="http://stardust14.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="python" scheme="http://stardust14.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Typora使用</title>
    <link href="http://stardust14.com/2020/10/09/Typora%E4%BD%BF%E7%94%A8/"/>
    <id>http://stardust14.com/2020/10/09/Typora%E4%BD%BF%E7%94%A8/</id>
    <published>2020-10-09T03:28:19.000Z</published>
    <updated>2021-04-09T09:51:53.910Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>公式的使用</h1><p><strong>上/下标</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td>$x^2 $</td><td>x^2</td></tr><tr><td>$y_1 $</td><td>y_1</td></tr></tbody></table><p><strong>分式</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span></span></span></span></td><td>1/2</td></tr><tr><td>$ \frac{1}{2}$</td><td>\frac{1}{2}</td></tr></tbody></table><p><strong>省略号</strong></p><table><thead><tr><th>省略号</th><th>Markdown</th></tr></thead><tbody><tr><td>$ \cdots$</td><td>\cdots</td></tr></tbody></table><p><strong>开根号</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mn>2</mn></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.13278em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span></span></span></span></td><td>\sqrt{2}</td></tr></tbody></table><p><strong>矢量</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span></td><td>\vec{a}</td></tr></tbody></table><p><strong>积分</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∫</mo><mi>x</mi><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\int{x}dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span></span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span></span></span></span></td><td>\int{x}dx</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mn>1</mn><mn>2</mn></msubsup><mi>x</mi><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\int_{1}^{2}{x}dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3648280000000002em;vertical-align:-0.35582em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0090080000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span></span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span></span></span></span></td><td>\int_{1}^{2}{x}dx</td></tr></tbody></table><p><strong>极限</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>lim</mi><mo>⁡</mo><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow></mrow><annotation encoding="application/x-tex">\lim{a+b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mop">lim</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">b</span></span></span></span></span></td><td>\lim{a+b}</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\lim_{n\rightarrow+\infty}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></td><td>\lim_{n\rightarrow+\infty}</td></tr></tbody></table><p><strong>累加</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∑</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\sum{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span></span></span></td><td>\sum{a}</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mn>100</mn></msubsup><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{n=1}^{100}{a_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></td><td>\sum_{n=1}^{100}{a_n}</td></tr></tbody></table><p><strong>累乘</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∏</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\prod{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span></span></span></td><td>\prod{x}</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∏</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mn>99</mn></msubsup><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">\prod_{n=1}^{99}{x_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">9</span><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></td><td>\prod_{n=1}^{99}{x_n}</td></tr></tbody></table><p><strong>三角函数</strong></p><table><thead><tr><th>三角函数</th><th>Markdown</th></tr></thead><tbody><tr><td>$ ⁡ \sin$</td><td>\sin</td></tr></tbody></table><p><strong>对数函数</strong></p><table><thead><tr><th>算式</th><th>Markdown</th></tr></thead><tbody><tr><td>$ \ln2$</td><td>\ln2</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>log</mi><mo>⁡</mo></mo><mn>2</mn></msub><mn>8</mn></mrow><annotation encoding="application/x-tex">\log_28</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93858em;vertical-align:-0.24414em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.20696799999999996em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span></span></span></span></td><td>\log_28</td></tr><tr><td>$ \lg10$</td><td>\lg10</td></tr></tbody></table><p><strong>关系运算符</strong></p><table><thead><tr><th>运算符</th><th>Markdown</th></tr></thead><tbody><tr><td>$± $</td><td>\pm</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span></td><td>\times</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">⋅</span></span></span></span></td><td>\cdot</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>÷</mo></mrow><annotation encoding="application/x-tex">\div</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">÷</span></span></span></span></td><td>\div</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">≠</mi></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span></span></span></span></td><td>\neq</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">≡</span></span></span></span></td><td>\equiv</td></tr><tr><td>$ \leq$</td><td>\leq</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo></mrow><annotation encoding="application/x-tex">\geq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span></span></span></span></td><td>\geq</td></tr></tbody></table><p><strong>其它特殊字符</strong></p><table><thead><tr><th>符号</th><th>Markdown</th></tr></thead><tbody><tr><td>$ \forall$</td><td>\forall</td></tr><tr><td>$ \infty$</td><td>\infty</td></tr><tr><td>$ \emptyset$</td><td>\emptyset</td></tr><tr><td>$ \exists$</td><td>\exists</td></tr><tr><td>$ \nabla$</td><td>\nabla</td></tr><tr><td>$ \bot$</td><td>\bot</td></tr><tr><td>$ \angle$</td><td>\angle</td></tr><tr><td>$ \because$</td><td>\because</td></tr><tr><td>$ \therefore$</td><td>\therefore</td></tr></tbody></table><p>花括号<br>$c(u)=\begin{cases} \sqrt\frac{1}{N}，u=0\ \sqrt\frac{2}{N}， u\neq0\end{cases}  $</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">c(u)=\begin&#123;cases&#125; \sqrt\frac&#123;1&#125;&#123;N&#125;，u=0\\ \sqrt\frac&#123;2&#125;&#123;N&#125;， u\neq0\end&#123;cases&#125;  </span><br></pre></td></tr></table></figure><p>空格<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mspace width="1em"/><mi>b</mi></mrow><annotation encoding="application/x-tex">a \quad b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">b</span></span></span></span></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">a \quad b</span><br></pre></td></tr></table></figure><p>矩阵</p>a = \left[\matrix{  \alpha_1 & test1\\  \alpha_2 & test2\\  \alpha_3 & test3 }\right]<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">a = \left[</span><br><span class="line">\matrix&#123;</span><br><span class="line">  \alpha<span class="emphasis">_1 &amp; test1\\</span></span><br><span class="line"><span class="emphasis">  \alpha_</span>2 &amp; test2\\</span><br><span class="line">  \alpha<span class="emphasis">_3 &amp; test3 </span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">\right]</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure><h1>希腊字母写法</h1><table><thead><tr><th>字母</th><th>代码</th></tr></thead><tbody><tr><td>α</td><td><code>$\alpha$</code></td></tr><tr><td>β</td><td><code>$\beta$</code></td></tr><tr><td>γ</td><td><code>$\gamma$</code></td></tr><tr><td>Γ</td><td><code>$\Gamma$</code></td></tr><tr><td>δ</td><td><code>$\delta$</code></td></tr><tr><td>Δ</td><td><code>$\Delta$ </code></td></tr><tr><td>ϵ</td><td><code>$\epsilon$</code></td></tr><tr><td>ε</td><td><code>$\varepsilon$</code></td></tr><tr><td>ζ</td><td><code>$\zeta$</code></td></tr><tr><td>η</td><td><code>$\eta$</code></td></tr><tr><td>θ</td><td><code>$\theta$</code></td></tr><tr><td>Θ</td><td><code>$\Theta$</code></td></tr><tr><td>ϑ</td><td><code>$\vartheta$</code></td></tr><tr><td>ι</td><td><code>$\iota$</code></td></tr><tr><td>κ</td><td><code>$\kappa$</code></td></tr><tr><td>λ</td><td><code>$\lambda$</code></td></tr><tr><td>Λ</td><td><code>$\Lambda$</code></td></tr><tr><td>μ</td><td><code>$\mu$</code></td></tr><tr><td>ν</td><td><code>$\nu$</code></td></tr><tr><td>ξ</td><td><code>$\xi$</code></td></tr><tr><td>Ξ</td><td><code>$\Xi$</code></td></tr><tr><td>π</td><td><code>$\pi$</code></td></tr><tr><td>Π</td><td><code>$\Pi$</code></td></tr><tr><td>ϖ</td><td><code>$\varpi$</code></td></tr><tr><td>ρ</td><td><code>$\rho$</code></td></tr><tr><td>ϱ</td><td><code>$\varrho$</code></td></tr><tr><td>σ</td><td><code>$\sigma$</code></td></tr><tr><td>Σ</td><td><code>$\Sigma$</code></td></tr><tr><td>ς</td><td><code>$\varsigma$</code></td></tr><tr><td>τ</td><td><code>$\tau$</code></td></tr><tr><td>υ</td><td><code>$\upsilon$</code></td></tr><tr><td>Υ</td><td><code>$\Upsilon$</code></td></tr><tr><td>ϕ</td><td><code>$\phi$</code></td></tr><tr><td>Φ</td><td><code>$\Phi$</code></td></tr><tr><td>φ</td><td><code>$\varphi$</code></td></tr><tr><td>χ</td><td><code>$\chi$</code></td></tr><tr><td>ψ</td><td><code>$\psi$</code></td></tr><tr><td>Ψ</td><td><code>$\Psi$</code></td></tr><tr><td>Ω</td><td><code>$\Omega$</code></td></tr><tr><td>ω</td><td><code>$\omega$</code></td></tr></tbody></table><h1>字母上面加横线</h1><p>输入 \overline{G} 显示 ( G ‾ ) $$(\overline{G})$$<br>输入 \widehat{G} 显示( G ^ ) $$(\widehat{G} )$$(<em>G</em>)<br>输入 \hat{G} 显示 ( G ^ ) $$( \hat{G})$$(<em>G</em>^)<br>输入 \widetilde 显示 ( G ~ ) $$(\widetilde{G})$$(<em>G</em>)<br>输入 \dot{G} 显示 ( G ˙ )$$ (\dot{G})$$(<em>G</em>˙)<br>输入 \ddot{G} 显示( G ¨ ) $$(\ddot{G})$$(<em>G</em>¨)</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;公式的使用&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;上/下标&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;算式&lt;/th&gt;
&lt;th&gt;Markdown&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;$x^2 $&lt;/td&gt;
&lt;td&gt;x^2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;$y_1 $&lt;/td&gt;
&lt;td&gt;y_1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;分式&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;算式&lt;/th&gt;
&lt;th&gt;Markdown&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;1/2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;1/2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;$ \frac{1}{2}$&lt;/td&gt;
&lt;td&gt;\frac{1}{2}&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;省略号&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;省略号&lt;/th&gt;
&lt;th&gt;Markdown&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;$ \cdots$&lt;/td&gt;
&lt;td&gt;\cdots&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;开根号&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;算式&lt;/th&gt;
&lt;th&gt;Markdown&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msqrt&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msqrt&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\sqrt{2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.04em;vertical-align:-0.13278em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord sqrt&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.90722em;&quot;&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot; style=&quot;padding-left:0.833em;&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-2.86722em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;min-width:0.853em;height:1.08em;&quot;&gt;&lt;svg width=&quot;400em&quot; height=&quot;1.08em&quot; viewBox=&quot;0 0 400000 1080&quot; preserveAspectRatio=&quot;xMinYMin slice&quot;&gt;&lt;path d=&quot;M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z&quot;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.13278em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;\sqrt{2}&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</summary>
    
    
    
    <category term="typora" scheme="http://stardust14.com/categories/typora/"/>
    
    
    <category term="typora" scheme="http://stardust14.com/tags/typora/"/>
    
  </entry>
  
  <entry>
    <title>C语言例题</title>
    <link href="http://stardust14.com/2020/09/24/C%E8%AF%AD%E8%A8%80%E4%BE%8B%E9%A2%98/"/>
    <id>http://stardust14.com/2020/09/24/C%E8%AF%AD%E8%A8%80%E4%BE%8B%E9%A2%98/</id>
    <published>2020-09-24T13:42:09.000Z</published>
    <updated>2020-09-29T13:41:17.859Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>前言</h1><p>做的例题整理，修改和改进</p><blockquote><p>VS2019中scanf语句要使用scanf_s</p></blockquote><h1>练习实例</h1><p>ex1:</p><p>ex2:</p><p>ex3:</p><p>ex4:**题目：**输入某年某月某日，判断这一天是这一年的第几天？</p><p>**程序分析：**以3月5日为例，应该先把前两个月的加起来，然后再加上5天即本年的第几天，特殊情况，闰年且输入月份大于3时需考虑多加一天。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> day, month, year, sum, leap;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n请输入年、月、日，格式为：年,月,日（2020,9,24[英文标点]）\n&quot;</span>);</span><br><span class="line">    scanf_s(<span class="string">&quot;%d,%d,%d&quot;</span>, &amp;year, &amp;month, &amp;day);  <span class="comment">// 格式为：2020,9,24</span></span><br><span class="line">    <span class="keyword">switch</span> (month) <span class="comment">// 先计算某月以前月份的总天数</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:sum = <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:sum = <span class="number">31</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:sum = <span class="number">59</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:sum = <span class="number">90</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:sum = <span class="number">120</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:sum = <span class="number">151</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:sum = <span class="number">181</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:sum = <span class="number">212</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:sum = <span class="number">243</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:sum = <span class="number">273</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:sum = <span class="number">304</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>:sum = <span class="number">334</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:<span class="built_in">printf</span>(<span class="string">&quot;data error&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sum = sum + day;<span class="comment">//再加上某天的天数</span></span><br><span class="line">    <span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span> || (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>)) &#123;<span class="comment">//判断是否是闰年</span></span><br><span class="line">        leap = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        leap = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (leap == <span class="number">1</span> &amp;&amp; month &gt; <span class="number">2</span>) &#123;<span class="comment">//如果是闰年且月份大于2，总数应该加一天</span></span><br><span class="line">        sum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;这是这一年的第%d天\n&quot;</span>, sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>☑️调试时要用英文标点</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">请输入年、月、日，格式为：年,月,日（<span class="number">2020</span>,<span class="number">9</span>,<span class="number">24</span>）</span><br><span class="line"><span class="number">2020</span>,<span class="number">9</span>,<span class="number">10</span></span><br><span class="line">这是这一年的第<span class="number">254</span>天</span><br></pre></td></tr></table></figure><p>ex5:输入三个整数x,y,z，请把这三个数由小到大输出。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//输入三个整数x,y,z，请把这三个数由小到大输出。</span></span><br><span class="line"><span class="comment">//要用三个if语句并行</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> x, y, z, t;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n输入三个数字：\n&quot;</span>);</span><br><span class="line">scanf_s(<span class="string">&quot;%d%d%d&quot;</span>, &amp;x, &amp;y, &amp;z);</span><br><span class="line"><span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">t = x;</span><br><span class="line">x = y;</span><br><span class="line">y = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (x &gt; z) &#123;<span class="comment">//交换x，z的值</span></span><br><span class="line">t = z;</span><br><span class="line">z = x;</span><br><span class="line">x = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(y&gt;z) &#123;</span><br><span class="line">t = y;</span><br><span class="line">y = z;</span><br><span class="line">z = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;从大到小为：%d&gt;%d&gt;%d\n&quot;</span>, z, y, x);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;从小到大的排列：%d%d%d\n&quot;</span>, x, y, z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">输入三个数字：</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">从大到小为：<span class="number">3</span>&gt;<span class="number">2</span>&gt;<span class="number">1</span></span><br><span class="line">从小到大的排列：<span class="number">123</span></span><br></pre></td></tr></table></figure><p>ex6:输出9*9口诀</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//输出9*9口诀。</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, m;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;=i; j++) &#123;</span><br><span class="line">            m = i * j;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d*%d=%-3d&quot;</span>, i, j, m);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">1</span>=<span class="number">1</span></span><br><span class="line"><span class="number">2</span>*<span class="number">1</span>=<span class="number">2</span>  <span class="number">2</span>*<span class="number">2</span>=<span class="number">4</span></span><br><span class="line"><span class="number">3</span>*<span class="number">1</span>=<span class="number">3</span>  <span class="number">3</span>*<span class="number">2</span>=<span class="number">6</span>  <span class="number">3</span>*<span class="number">3</span>=<span class="number">9</span></span><br><span class="line"><span class="number">4</span>*<span class="number">1</span>=<span class="number">4</span>  <span class="number">4</span>*<span class="number">2</span>=<span class="number">8</span>  <span class="number">4</span>*<span class="number">3</span>=<span class="number">12</span> <span class="number">4</span>*<span class="number">4</span>=<span class="number">16</span></span><br><span class="line"><span class="number">5</span>*<span class="number">1</span>=<span class="number">5</span>  <span class="number">5</span>*<span class="number">2</span>=<span class="number">10</span> <span class="number">5</span>*<span class="number">3</span>=<span class="number">15</span> <span class="number">5</span>*<span class="number">4</span>=<span class="number">20</span> <span class="number">5</span>*<span class="number">5</span>=<span class="number">25</span></span><br><span class="line"><span class="number">6</span>*<span class="number">1</span>=<span class="number">6</span>  <span class="number">6</span>*<span class="number">2</span>=<span class="number">12</span> <span class="number">6</span>*<span class="number">3</span>=<span class="number">18</span> <span class="number">6</span>*<span class="number">4</span>=<span class="number">24</span> <span class="number">6</span>*<span class="number">5</span>=<span class="number">30</span> <span class="number">6</span>*<span class="number">6</span>=<span class="number">36</span></span><br><span class="line"><span class="number">7</span>*<span class="number">1</span>=<span class="number">7</span>  <span class="number">7</span>*<span class="number">2</span>=<span class="number">14</span> <span class="number">7</span>*<span class="number">3</span>=<span class="number">21</span> <span class="number">7</span>*<span class="number">4</span>=<span class="number">28</span> <span class="number">7</span>*<span class="number">5</span>=<span class="number">35</span> <span class="number">7</span>*<span class="number">6</span>=<span class="number">42</span> <span class="number">7</span>*<span class="number">7</span>=<span class="number">49</span></span><br><span class="line"><span class="number">8</span>*<span class="number">1</span>=<span class="number">8</span>  <span class="number">8</span>*<span class="number">2</span>=<span class="number">16</span> <span class="number">8</span>*<span class="number">3</span>=<span class="number">24</span> <span class="number">8</span>*<span class="number">4</span>=<span class="number">32</span> <span class="number">8</span>*<span class="number">5</span>=<span class="number">40</span> <span class="number">8</span>*<span class="number">6</span>=<span class="number">48</span> <span class="number">8</span>*<span class="number">7</span>=<span class="number">56</span> <span class="number">8</span>*<span class="number">8</span>=<span class="number">64</span></span><br><span class="line"><span class="number">9</span>*<span class="number">1</span>=<span class="number">9</span>  <span class="number">9</span>*<span class="number">2</span>=<span class="number">18</span> <span class="number">9</span>*<span class="number">3</span>=<span class="number">27</span> <span class="number">9</span>*<span class="number">4</span>=<span class="number">36</span> <span class="number">9</span>*<span class="number">5</span>=<span class="number">45</span> <span class="number">9</span>*<span class="number">6</span>=<span class="number">54</span> <span class="number">9</span>*<span class="number">7</span>=<span class="number">63</span> <span class="number">9</span>*<span class="number">8</span>=<span class="number">72</span> <span class="number">9</span>*<span class="number">9</span>=<span class="number">81</span></span><br></pre></td></tr></table></figure><p>ex7:有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第三个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少？（输出前40个月即可）。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> f1=<span class="number">1</span>, f2=<span class="number">1</span>,i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) &#123;<span class="comment">//一次输出两位f1,f2,所以取i&lt;=20</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%12d%12d&quot;</span>,f1,f2);</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        f1 = f1 + f2;</span><br><span class="line">        f2 = f1 + f2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">       <span class="number">1</span>           <span class="number">1</span>           <span class="number">2</span>           <span class="number">3</span></span><br><span class="line">       <span class="number">5</span>           <span class="number">8</span>          <span class="number">13</span>          <span class="number">21</span></span><br><span class="line">      <span class="number">34</span>          <span class="number">55</span>          <span class="number">89</span>         <span class="number">144</span></span><br><span class="line">     <span class="number">233</span>         <span class="number">377</span>         <span class="number">610</span>         <span class="number">987</span></span><br><span class="line">    <span class="number">1597</span>        <span class="number">2584</span>        <span class="number">4181</span>        <span class="number">6765</span></span><br><span class="line">   <span class="number">10946</span>       <span class="number">17711</span>       <span class="number">28657</span>       <span class="number">46368</span></span><br><span class="line">   <span class="number">75025</span>      <span class="number">121393</span>      <span class="number">196418</span>      <span class="number">317811</span></span><br><span class="line">  <span class="number">514229</span>      <span class="number">832040</span>     <span class="number">1346269</span>     <span class="number">2178309</span></span><br><span class="line"> <span class="number">3524578</span>     <span class="number">5702887</span>     <span class="number">9227465</span>    <span class="number">14930352</span></span><br><span class="line"><span class="number">24157817</span>    <span class="number">39088169</span>    <span class="number">63245986</span>   <span class="number">102334155</span></span><br></pre></td></tr></table></figure><p>ex8:判断101到200之间的素数。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;做的例题整理，修改和改进&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;VS2019中scanf语句要使用scanf_s&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;练习实例&lt;/h1&gt;
&lt;p&gt;ex1:&lt;/p&gt;
&lt;p&gt;ex2:&lt;/p&gt;
&lt;p&gt;ex3:&lt;/p&gt;
&lt;p&gt;ex4:**题目：**输入某年某月某日，判断这一天是这一年的第几天？&lt;/p&gt;
&lt;p&gt;**程序分析：**以3月5日为例，应该先把前两个月的加起来，然后再加上5天即本年的第几天，特殊情况，闰年且输入月份大于3时需考虑多加一天。&lt;/p&gt;</summary>
    
    
    
    <category term="C" scheme="http://stardust14.com/categories/C/"/>
    
    
    <category term="C" scheme="http://stardust14.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>MATLAB例题</title>
    <link href="http://stardust14.com/2020/09/22/MATLAB%E4%BE%8B%E9%A2%98/"/>
    <id>http://stardust14.com/2020/09/22/MATLAB%E4%BE%8B%E9%A2%98/</id>
    <published>2020-09-22T13:16:26.000Z</published>
    <updated>2020-11-12T12:23:16.904Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>引言</h1><p>参考胡广书老师所著的《数字信号处理-理论算法与实现》</p><p>下面给出Matlab中下标及希腊字母的使用方法，还有更多的使用方法可以参考matlab帮助 文档中的Text Properties: 下标用 _(下划线) 上标用^ （尖号） 希腊字母等特殊字符用 \加拼音如α \alphaβ \betaγ \gammaθ \thetaΘ \ThetaГ \Gammaδ \deltaΔ \Deltaξ \xiΞ \Xiη \eltaε \epsilongζ \zetaμ \miuυ \nuτ \tauλ \lamdaΛ \Lamdaπ \piΠ \Piσ \sigmaΣ \Sigmaφ \phiΦ \Phiψ \psiΨ \Psiχ \chiω \ommigaΩ \Ommiga&lt; \leq&gt; \geq不等于 \neq&gt; \gg正负\pm左箭头 \leftarrow 右箭头 \rightarrow 上箭头 \uparrow 上圆圈（度数） \circ 例text(2,3,’\alpha_2^\beta’) 很多时候都要在matlab画图的时候添加一些公式符号之类的，有一些特殊的字符并不能直接从键盘上输入，比如希腊字母等等。</p><h1>胡广书老师课本例题</h1><h2 id="第一章"><a class="header-anchor" href="#第一章">¶</a>第一章</h2><p>待续。。。</p><h2 id="第二章"><a class="header-anchor" href="#第二章">¶</a>第二章</h2><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200922212358.png" alt=""></p><p>ex0201:求该系统函数的阶跃响应（所谓阶跃响应是系统输入的输出）。实现该任务的程序如下：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020801_filter</span></span><br><span class="line"><span class="comment">%filter函数用来求一个离散系统的输出，是在已知B（z）,A(z)，但是不知道h（n）的情况下求y（n）</span></span><br><span class="line">x=<span class="built_in">ones</span>(<span class="number">100</span>);t=<span class="number">1</span>:<span class="number">100</span>;<span class="comment">%x(n)=1,对n=1~100,t用于后面的绘图</span></span><br><span class="line">b=[<span class="number">0.001836</span>,<span class="number">0.007344</span>,<span class="number">0.011016</span>,<span class="number">0.007374</span>,<span class="number">0.001836</span>];</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-3.0544</span>,<span class="number">3.829</span>,<span class="number">-2.2925</span>,<span class="number">0.55075</span>];</span><br><span class="line">y=filter(b,a,x);</span><br><span class="line"><span class="built_in">plot</span>(t,x,<span class="string">&#x27;g.&#x27;</span>,t,y,<span class="string">&#x27;k-&#x27;</span>);<span class="comment">%将x(n)(绿色)和y(n)（黑色）画在同一图上</span></span><br></pre></td></tr></table></figure><blockquote><p>主要是用filter函数</p><p>调用格式：y=filter(b,a,x)</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200922213533.png" alt=""></p><p>ex0202:求上式所给系统的单位抽样响应h(n)。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020802_impz</span></span><br><span class="line"><span class="comment">%impz函数在已知B(z),A(z)的晴空下求出系统的单位抽样响应h(n)</span></span><br><span class="line"><span class="comment">%调用格式：h=impz(b,a,N)或着[h,t]=impz(b,a,N)其中N是所需的h(n)的长度。</span></span><br><span class="line"><span class="comment">%前者绘图n从1开始，而后者从0开始</span></span><br><span class="line">b=[<span class="number">0.001836</span>,<span class="number">0.007344</span>,<span class="number">0.011016</span>,<span class="number">0.007374</span>,<span class="number">0.001836</span>];</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-3.0544</span>,<span class="number">3.829</span>,<span class="number">-2.2925</span>,<span class="number">0.55075</span>];</span><br><span class="line">[h,t]=impz(b,a,<span class="number">40</span>);</span><br><span class="line">stem(t,h,<span class="string">&#x27;.&#x27;</span>);<span class="comment">%stem函数：杆图</span></span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200922213458.png" alt=""></p><p>ex0203:求上式所给系统的频率响应H(e^jw)，画出其幅频响应和相频响应。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020803_freqz</span></span><br><span class="line"><span class="comment">%freqz函数是在已知B(z),A(z)的情况下求出系统的频率响应H(e^jw)</span></span><br><span class="line"><span class="comment">%调用格式：[H,w]=freqz(b,a,N,&#x27;whole&#x27;,Fs),N是频率轴的分点数,建议N为2的整次幂</span></span><br><span class="line"><span class="comment">%w是返回频率轴坐标向量，Fs是抽样频率，Fs=1，频率轴给出归一化频率</span></span><br><span class="line"><span class="comment">%whole指定计算的频率范围是从0~Fs,缺省是从0~Fs/2</span></span><br><span class="line">clear</span><br><span class="line">b=[<span class="number">0.001836</span>,<span class="number">0.007344</span>,<span class="number">0.011016</span>,<span class="number">0.007374</span>,<span class="number">0.001836</span>];</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-3.0544</span>,<span class="number">3.829</span>,<span class="number">-2.2925</span>,<span class="number">0.55075</span>];</span><br><span class="line">[H,w]=freqz(b,a,<span class="number">256</span>,<span class="string">&#x27;whole&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">Hr=<span class="built_in">abs</span>(H);<span class="comment">%求幅频响应，abs函数是求复数的幅值</span></span><br><span class="line">Hphase1=<span class="built_in">angle</span>(H);<span class="comment">%angle函数是求复数相角，提取相角</span></span><br><span class="line">Hphase2=<span class="built_in">unwrap</span>(Hphase1);<span class="comment">%unwrap函数显示积累的相角解卷绕</span></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(w,Hr);grid on;</span><br><span class="line">xlabel(<span class="string">&#x27;w/2Π&#x27;</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;|H(e^(jw)|&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(w,Hphase2);grid on;</span><br><span class="line">xlabel(<span class="string">&#x27;w/2Π&#x27;</span>);ylabel(<span class="string">&#x27;\phi(w)/rad&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923101127.png" alt=""></p><p>ex0204:显示上式及FIR系统<code>H(z)=1-1.7z^(-1)+1.53z^(-2)-0.648z^(-3)</code>的极零图。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020804_zplane.m</span></span><br><span class="line"><span class="comment">%zplane函数用来显示离散系统的极零图</span></span><br><span class="line"><span class="comment">%调用函数格式：zplane(z,p)或着zplane(b,a)</span></span><br><span class="line"><span class="comment">%前者是在已知系统零点的列向量z和极点的列向量p的情况下画出极零图</span></span><br><span class="line"><span class="comment">%后者是在已知B(z),A(z)的情况下画出极零图</span></span><br><span class="line">b=[<span class="number">0.001836</span>,<span class="number">0.007344</span>,<span class="number">0.011016</span>,<span class="number">0.007374</span>,<span class="number">0.001836</span>];</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-3.0544</span>,<span class="number">3.829</span>,<span class="number">-2.2925</span>,<span class="number">0.55075</span>];</span><br><span class="line">subplot(<span class="number">221</span>)</span><br><span class="line">zplane(b,a);</span><br><span class="line">z=[<span class="number">1</span>,<span class="number">-1.7</span>,<span class="number">1.53</span>,<span class="number">-0.648</span>];</span><br><span class="line">p=<span class="number">1</span>;</span><br><span class="line">subplot(<span class="number">222</span>)</span><br><span class="line">zplane(z,p);</span><br></pre></td></tr></table></figure><blockquote><p>zplane仅能给出系统的极零图，不能给出极零点的坐标值。若想求出具体的数值，可用tf2zp或着roots;反之，若想由已知的极零点得到分子、分母多项式，可用zp2tf或着poly文件。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923102839.png" alt=""></p><p><font color='red'>知识：</font>residuer文件可将z的有理分式分解成简单有理分式的和，因此可用来求逆Z变换，即<img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923105146.png" alt=""></p><p>式中p(1),p(2),···，p(n)的集合p是列向量，它的每一个元素都是X(Z)的极点。类似的，r也是列向量，它的每一个元素都是X(z)在相应极点处的留数；k是行向量，它代表了分解后的直接项。X(z)的极点数n=n0,并等于r和p的维数。若nb&lt;n0,则分解后没有直接项，否则，k的长度等于nb-n0+1。</p><p>若X(z)在p(j)处有一m阶重极点，则X(z)分解后将为m项之和，即</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923114827.png" alt=""></p><p>调用格式为：[r,p,k]=residuez(b,a)</p><p>假如知道了向量p，r和k，利用reduez.m还可以反过来求出多项式B(z),A(z),格式是:[b,a]=residuez(r,p,k)</p><blockquote><p>nb和n0分别是H(z)分母与分子多项式的阶次。</p></blockquote><p>ex0205:residuer.m文件的应用。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020805_residuez.m</span></span><br><span class="line">clear</span><br><span class="line">b=[<span class="number">1.7</span> <span class="number">-1.69</span> <span class="number">0.39</span>];<span class="comment">%形成分子多项式向量</span></span><br><span class="line">a=[<span class="number">1</span> <span class="number">-1.7</span> <span class="number">0.8</span> <span class="number">-0.1</span>];<span class="comment">%分母多项式向量</span></span><br><span class="line">[r,p,k]=residuez(b,a)<span class="comment">%作逆Z变换，求出向量r,p,k</span></span><br><span class="line">[b1,a1]=residuez(r,p,k)<span class="comment">%反过来，有求出的r，p,k求多项式向量b,a</span></span><br><span class="line">[r,p,k]=residuez(a,b)<span class="comment">%交换分子、分母多项式向量，再求向量r,p,k</span></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; exa020805_residuez</span><br><span class="line"></span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span></span><br><span class="line">    <span class="number">0.2000</span></span><br><span class="line">    <span class="number">0.5000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span></span><br><span class="line">    <span class="number">0.5000</span></span><br><span class="line">    <span class="number">0.2000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">     []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.7000</span>   <span class="number">-1.6900</span>    <span class="number">0.3900</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-1.7000</span>    <span class="number">0.8000</span>   <span class="number">-0.1000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.1153</span></span><br><span class="line">   <span class="number">-0.2366</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.6299</span></span><br><span class="line">    <span class="number">0.3642</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.9402</span>   <span class="number">-0.2564</span></span><br></pre></td></tr></table></figure><p><font color='red'>知识：</font>tf2zp.m、zp2tf.m、roots.m、poly.m、sort.m文件用于转移函数与极零点之间的相互转换及极零点的排序。</p><blockquote><p>tf2zp：用来求H(z)=B(z)/A(z)的极零点及增益</p><p>zp2tf：用于在极零点已知时求出B(z)和A(z)的系数</p><p>roots：用来求一个多项式的根</p><p>poly：可由给定的根求出相应多项式的系数</p><p>sort：的作用是将求出的根按绝对值的大小值排序</p></blockquote><p>ex0206:设H(z)有5个零点，一个在z=0.8，另4个是0.5e^(jΠ/3)及其共轭与镜像，不难求出</p><p><code>B(z)=1-3.3z^(-1)+7.25z^(-2)-6.7z^(-3)+3z^(-4)-0.8z^(-5)</code></p><p>下面的程序可求出该系统的零点，并由这些零点再求出系统的系数。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020806</span></span><br><span class="line">clear;</span><br><span class="line">B=[<span class="number">1</span> <span class="number">-3.3</span> <span class="number">7.25</span> <span class="number">-6.7</span> <span class="number">3</span> <span class="number">-0.8</span>];</span><br><span class="line">L=<span class="built_in">length</span>(B);</span><br><span class="line">A=<span class="built_in">zeros</span>(<span class="number">1</span>,L);</span><br><span class="line">A(<span class="number">1</span>)=<span class="number">1</span>;</span><br><span class="line">[Z,P,K]=tf2zp(B,A)</span><br><span class="line"><span class="comment">%使用tf2zp时，B和A是同维的行向量，Z，P是同维的列向量，Z中含有零点，P中含有极点</span></span><br><span class="line"><span class="comment">%K是标量，为系统的增益</span></span><br><span class="line"><span class="built_in">sort</span>(Z)<span class="comment">%对零点排序</span></span><br><span class="line">[b,a]=zp2tf(Z,P,K)<span class="comment">%如果分解和综合正确，那么，b=B,a=A</span></span><br><span class="line">Z1=roots(B)<span class="comment">%求出多项式B(z)的根，即零点</span></span><br><span class="line">poly(Z1)<span class="comment">%由分解到的零点再综合出多项式H(z)</span></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; exa020806</span><br><span class="line"></span><br><span class="line">Z =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0000</span> + <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> - <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.8000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.2500</span> + <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.2500</span> - <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">K =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.2500</span> - <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.2500</span> + <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.8000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> - <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> + <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">5</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-3.3000</span>    <span class="number">7.2500</span>   <span class="number">-6.7000</span>    <span class="number">3.0000</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6</span> 列</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.8000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Z1 =</span><br><span class="line"></span><br><span class="line">   <span class="number">1.0000</span> + <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> - <span class="number">1.7321</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.8000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.2500</span> + <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.2500</span> - <span class="number">0.4330</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">5</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-3.3000</span>    <span class="number">7.2500</span>   <span class="number">-6.7000</span>    <span class="number">3.0000</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6</span> 列</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.8000</span></span><br></pre></td></tr></table></figure><p><font color='red'>知识：</font>tf2sos.m、sos2tf.m、sos2zp.m、zp2sos.m用来实现系统的转移函数及零极点和二阶子系统之间的相互转换。</p><ul><li>tf2sos：用来实现将H(z)=B(z)/A(z)分解为一系列二姐子系统Hk(z)的级联，Hk(z)的表达式：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923114807.png" alt=""></p><p>调用格式：[sos,G]=tf2sos(B,A)</p><blockquote><p>其中，G是系统的增益，sos是——L*6的矩阵，L是二阶子系统的个数，每一行的元素都是按如下方式排列：</p><p>[b0k,b1k,1,a1k,a2k],   k=1,2,····，L</p></blockquote><ul><li><p>sos2tf:功能与tf2sos相反，它用来由二阶子系统构成H(z)，调用格式：</p><p>[B,A]=sos2tf(sos,G)</p></li><li><p>zp2sos：用来实现由系统的零极点到二阶子系统的转换，调用格式：</p><p>[sos,G]=zp2sos(Z,P,K)</p></li><li><p>sos2zp:与zp2sos实现相反的转换，调用格式：[Z,P,K]=sos2zp(sos,G)</p></li></ul><p>ex0207:用上面的知识</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa020807.m</span></span><br><span class="line">clear</span><br><span class="line">B=[<span class="number">0.0201</span> <span class="number">0</span> <span class="number">-0.0402</span> <span class="number">0</span> <span class="number">0.0201</span>];</span><br><span class="line">A=[<span class="number">1</span> <span class="number">-1.637</span> <span class="number">2.237</span> <span class="number">-1.307</span> <span class="number">0.641</span>];</span><br><span class="line">[sos,G]=tf2sos(B,A)<span class="comment">%将转移函数分解成二阶子系统的级联</span></span><br><span class="line">[B,A]=sos2tf(sos,G)<span class="comment">%由级联的二阶子系统重构转移函数</span></span><br><span class="line">[Z,P,K]=tf2zp(B,A)<span class="comment">%求转移函数的极零点</span></span><br><span class="line">[sos,G]=zp2sos(Z,P,K)<span class="comment">%由系统的极零点得到级联的二阶子系统</span></span><br><span class="line">[Z,P,K]=sos2zp(sos,G)<span class="comment">%由级联的二阶子系统得到系统的极零点</span></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; exa020807</span><br><span class="line"></span><br><span class="line">sos =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">5</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>    <span class="number">2.0000</span>    <span class="number">1.0000</span>    <span class="number">1.0000</span>   <span class="number">-0.6332</span></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-2.0000</span>    <span class="number">1.0000</span>    <span class="number">1.0000</span>   <span class="number">-1.0038</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">0.7906</span></span><br><span class="line">    <span class="number">0.8107</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">G =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0201</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">B =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0201</span>    <span class="number">0.0000</span>   <span class="number">-0.0402</span>   <span class="number">-0.0000</span>    <span class="number">0.0201</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-1.6370</span>    <span class="number">2.2370</span>   <span class="number">-1.3070</span>    <span class="number">0.6410</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Z =</span><br><span class="line"></span><br><span class="line">  <span class="number">-1.0000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">  <span class="number">-1.0000</span> - <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> - <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.5019</span> + <span class="number">0.7476</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.5019</span> - <span class="number">0.7476</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.3166</span> + <span class="number">0.8309</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.3166</span> - <span class="number">0.8309</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">K =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0201</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sos =</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span> 至 <span class="number">5</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0000</span>    <span class="number">2.0000</span>    <span class="number">1.0000</span>    <span class="number">1.0000</span>   <span class="number">-0.6332</span></span><br><span class="line">    <span class="number">1.0000</span>   <span class="number">-2.0000</span>    <span class="number">1.0000</span>    <span class="number">1.0000</span>   <span class="number">-1.0038</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6</span> 列</span><br><span class="line"></span><br><span class="line">    <span class="number">0.7906</span></span><br><span class="line">    <span class="number">0.8107</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">G =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0201</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Z =</span><br><span class="line"></span><br><span class="line">  <span class="number">-1.0000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">  <span class="number">-1.0000</span> - <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> + <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">1.0000</span> - <span class="number">0.0000</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P =</span><br><span class="line"></span><br><span class="line">   <span class="number">0.3166</span> + <span class="number">0.8309</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.3166</span> - <span class="number">0.8309</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.5019</span> + <span class="number">0.7476</span><span class="built_in">i</span></span><br><span class="line">   <span class="number">0.5019</span> - <span class="number">0.7476</span><span class="built_in">i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">K =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0201</span></span><br></pre></td></tr></table></figure><h2 id="第三章"><a class="header-anchor" href="#第三章">¶</a>第三章</h2><p><font color='red'>知识：</font>fftfilt.m文件用DFT来实现长序列的卷积，采用的是叠接相加法，调用格式：</p><p>y=fftfilt(h,x)或着y=fftfilt(h,x,N)</p><blockquote><p>设x(n)的长度为N，h(n)的长度为M，若采用第一种调用方式，程序自动的确定对x(n)分段的长度L及做FFT的长度N，这样分的段数为Nx/L，显然N是最接近（L+M）的2的整次幂。</p><p>若第二种调用方式，可以自己指定做FFT的长度。</p></blockquote><p>ex0301： 令x(n)为一正弦加白噪声信号，长度为500，h(n)用firl.m文件设计出的一个低通FIR滤波器，长度为11，试用fftfilt实现长序列的卷积。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa031101_fftfilt.m</span></span><br><span class="line">h=fir1(<span class="number">10</span>,<span class="number">0.3</span>,hanning(<span class="number">11</span>));<span class="comment">%设计低通滤波器，得到h(n)</span></span><br><span class="line">N=<span class="number">500</span>;p=<span class="number">0.05</span>;f=<span class="number">1</span>/<span class="number">16</span>;<span class="comment">%设定必要的参数</span></span><br><span class="line">u=<span class="built_in">randn</span>(<span class="number">1</span>,N)*<span class="built_in">sqrt</span>(p);<span class="comment">%产生白噪声信号</span></span><br><span class="line">s=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f*[<span class="number">0</span>:N<span class="number">-1</span>]);<span class="comment">%产生正弦信号</span></span><br><span class="line">x=u(<span class="number">1</span>:N)+s;<span class="comment">%得到正弦加白噪声信号</span></span><br><span class="line">y=fftfilt(h,x);<span class="comment">%实现叠接相加法滤波</span></span><br><span class="line">subplot(<span class="number">211</span>);<span class="built_in">plot</span>(x);xlabel(<span class="string">&#x27;原始信号&#x27;</span>)</span><br><span class="line">subplot(<span class="number">212</span>);<span class="built_in">plot</span>(y);xlabel(<span class="string">&#x27;滤波后的信号&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200923204216.png" alt=""></p><p><font color='red'>知识：</font>Hibert.m文件用来计算信号x(n)的希尔伯特变换，调用的格式是：</p><p>​y=hilbert(x)</p><p>y的实部就是x(n)，虚部是x(n)的希尔伯特变换x^(n)。</p><p>ex0302:令x(n)为一正弦信号，长度为25，试求其希尔伯特变换x^(n)。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0301102_hilbert.m</span></span><br><span class="line">clear;</span><br><span class="line">N=<span class="number">25</span>;f=<span class="number">1</span>/<span class="number">16</span>;x=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f*(<span class="number">0</span>:N<span class="number">-1</span>));y=hilbert(x);</span><br><span class="line">subplot(<span class="number">221</span>);stem(x,<span class="string">&#x27;.&#x27;</span>);<span class="built_in">hold</span> on;<span class="built_in">plot</span>(<span class="built_in">zeros</span>(<span class="built_in">size</span>(x)));</span><br><span class="line">subplot(<span class="number">222</span>);stem(<span class="built_in">imag</span>(y),<span class="string">&#x27;.&#x27;</span>);<span class="built_in">hold</span> on;<span class="built_in">plot</span>(<span class="built_in">zeros</span>(<span class="built_in">size</span>(x)));</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200924160604.png" alt=""></p><h2 id="第四章"><a class="header-anchor" href="#第四章">¶</a>第四章</h2><p><font color='red'>知识：</font><code>fft.m</code>:实现快速傅里叶变换</p><p>调用格式：X=fft(x)或着X=fft(x,N)</p><p>对前者，若x的长度是2的整数次幂，则按该长度实现x的快速变换，否则，实现的是慢速的非2的整数次幂的变换；</p><p>对后者，N应该为2的整数次幂，若x的长度小于N，则补零，若超过N，则舍弃N以后的数据。ifft的调用格式与之相同。</p><p>ex0401:令x(n)是两个正弦信号及其白噪声的叠加，试用fft文件对其作频谱分析。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa040801_fft.m</span></span><br><span class="line">clear</span><br><span class="line">N=<span class="number">256</span>;</span><br><span class="line">f1=<span class="number">0.1</span>;f2=<span class="number">0.2</span>;fs=<span class="number">1</span>;</span><br><span class="line">a1=<span class="number">5</span>;a2=<span class="number">3</span>;</span><br><span class="line">w=<span class="number">2</span>*<span class="built_in">pi</span>/fs;</span><br><span class="line">x=a1*<span class="built_in">sin</span>(w*f1*(<span class="number">0</span>:N<span class="number">-1</span>))+a2*<span class="built_in">sin</span>(w*f2*(<span class="number">0</span>:N<span class="number">-1</span>))+<span class="built_in">randn</span>(<span class="number">1</span>,N);</span><br><span class="line">subplot(<span class="number">311</span>);<span class="built_in">plot</span>(x(<span class="number">1</span>:N/<span class="number">4</span>));ylabel(<span class="string">&#x27;x(n)&#x27;</span>);</span><br><span class="line">f=<span class="number">-0.5</span>:<span class="number">1</span>/N:<span class="number">0.5</span><span class="number">-1</span>/N;</span><br><span class="line">X=fft(x);y=ifft(X);</span><br><span class="line">subplot(<span class="number">312</span>);<span class="built_in">plot</span>(f,fftshift(<span class="built_in">abs</span>(X)));ylabel(<span class="string">&#x27;|X(k)|&#x27;</span>);grid on;</span><br><span class="line">subplot(<span class="number">313</span>);<span class="built_in">plot</span>(<span class="built_in">real</span>(y(<span class="number">1</span>:N/<span class="number">4</span>)));ylabel(<span class="string">&#x27;|DFT[X(k)]|&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200924170643.png" alt=""></p><p><font color='red'>知识：</font><code>czt.m</code>文件用来实现线性调频Z变换。</p><p>调用格式：X=czt(x,M,W,A)</p><blockquote><p>式中x是待变换的时域信号x(n)，其长度设为N,M是变换的长度，W确定变换的步长，A确定变换的起点。若M=N,A=1,则CZT变成DFT。</p></blockquote><p>ex0402:设x(n)由三个实正弦所组成，频率分别是8Hz，8.22Hz和9Hz，抽样频率是40Hz，时域取128点。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa040802_czt.m</span></span><br><span class="line">clear</span><br><span class="line">N=<span class="number">128</span>;f1=<span class="number">8</span>;f2=<span class="number">8.22</span>;f3=<span class="number">9</span>;fs=<span class="number">40</span>;</span><br><span class="line">stepf=fs/N;n=<span class="number">0</span>:N<span class="number">-1</span>;</span><br><span class="line">t=<span class="number">2</span>*<span class="built_in">pi</span>*n/fs;</span><br><span class="line">n1=<span class="number">0</span>:stepf:fs/<span class="number">2</span>-stepf;</span><br><span class="line">x=<span class="built_in">sin</span>(f1*t)+<span class="built_in">sin</span>(f2*t)+<span class="built_in">sin</span>(f3*t);</span><br><span class="line">M=N;W=<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>/M);<span class="comment">%A=1时的czt变换A=1;</span></span><br><span class="line">A=<span class="number">1</span>;Y1=czt(x,M,W,A);</span><br><span class="line">subplot(<span class="number">311</span>);<span class="built_in">plot</span>(n1,<span class="built_in">abs</span>(Y1(<span class="number">1</span>:N/<span class="number">2</span>)));grid on;xlabel(<span class="string">&#x27;f/Hz&#x27;</span>);ylabel(<span class="string">&#x27;|X(e^(jw))|&#x27;</span>);<span class="comment">%DTFT</span></span><br><span class="line">Y2=<span class="built_in">abs</span>(fft(x));</span><br><span class="line">subplot(<span class="number">312</span>);<span class="built_in">plot</span>(n1,<span class="built_in">abs</span>(Y2(<span class="number">1</span>:N/<span class="number">2</span>)));grid on;xlabel(<span class="string">&#x27;f/Hz&#x27;</span>);ylabel(<span class="string">&#x27;|X(e^(jw))|&#x27;</span>);</span><br><span class="line">M=<span class="number">60</span>;f0=<span class="number">7.2</span>;DELf=<span class="number">0.05</span>;A=<span class="built_in">exp</span>(<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*f0/fs);</span><br><span class="line">W=<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*DELf/fs);</span><br><span class="line">Y3=czt(x,M,W,A);</span><br><span class="line">n2=f0:DELf:f0+(M<span class="number">-1</span>)*DELf;</span><br><span class="line">subplot(<span class="number">313</span>);<span class="built_in">plot</span>(n2,<span class="built_in">abs</span>(Y3));grid on;xlabel(<span class="string">&#x27;f/Hz&#x27;</span>);ylabel(<span class="string">&#x27;|X(e^(jw))|&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200924170630.png" alt=""></p><h2 id="第五章"><a class="header-anchor" href="#第五章">¶</a>第五章</h2><p><font color='red'>知识：</font>filtfilt.m文件实现零相位滤波，调用格式：</p><p>y=filtfilt(B,A,x)</p><blockquote><p>式中B是H(z)的分子多项式，A是分母多项式，x是待滤波信号，y是滤波后的信号。</p></blockquote><p>ex0501:令x(n)为两个正弦信号的叠加，其原频率分别是0.1Π和0.2Π。已知：<img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925100621.png" alt=""></p><p>为一低通滤波器，现用H(z)对x(n)作零相位滤波。</p><p>待续…</p><h1>维纳滤波器</h1><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line">clc;clear all; close all;  </span><br><span class="line"><span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><br><span class="line"><span class="comment">%输入信号</span></span><br><span class="line">A=<span class="number">1</span>; <span class="comment">%信号的幅值</span></span><br><span class="line">f=<span class="number">1000</span>; <span class="comment">%信号的频率</span></span><br><span class="line">fs=<span class="number">10</span>^<span class="number">5</span>;<span class="comment">%采样频率</span></span><br><span class="line">t=(<span class="number">0</span>:<span class="number">999</span>); <span class="comment">%采样点</span></span><br><span class="line">Mlag=<span class="number">100</span>;<span class="comment">%相关函数长度变量   </span></span><br><span class="line">x=A*<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f*t/fs);<span class="comment">%输入正弦波信号</span></span><br><span class="line">xmean=<span class="built_in">mean</span>(x);<span class="comment">%正弦波信号均值</span></span><br><span class="line">xvar=var(x,<span class="number">1</span>);<span class="comment">%正弦波信号方差</span></span><br><span class="line">noise=wgn(<span class="number">1</span>,<span class="number">1000</span>,<span class="number">2</span>);<span class="comment">%产生1行1000列的矩阵，强度为2dbw</span></span><br><span class="line">xn=x+noise; <span class="comment">%给正弦波信号加入信噪比为20dB的高斯白噪声</span></span><br><span class="line"><span class="built_in">plot</span>(t,xn)    </span><br><span class="line">xlabel(<span class="string">&#x27;x轴单位：t/s&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;y轴单位：A/V&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">xnmean = <span class="built_in">mean</span>(xn);  <span class="comment">%计算加噪信号均值</span></span><br><span class="line">xnms = <span class="built_in">mean</span>(xn.^<span class="number">2</span>);  <span class="comment">%计算加噪信号均方值</span></span><br><span class="line">xnvar = var(xn,<span class="number">1</span>);<span class="comment">%计算输入信号方差</span></span><br><span class="line">Rxn=xcorr(xn,Mlag,<span class="string">&#x27;biased&#x27;</span>);  <span class="comment">%计算加噪信号自相关函数</span></span><br><span class="line"><span class="comment">% figure(2)</span></span><br><span class="line"><span class="comment">% subplot(221)</span></span><br><span class="line"><span class="comment">% plot((-Mlag:Mlag),Rxn)   %绘制自相关函数图像</span></span><br><span class="line"><span class="comment">% title(&#x27;加噪信号自相关函数图像&#x27;)</span></span><br><span class="line"><span class="comment">% [f,xi]=ksdensity(xn); %计算加噪信号的概率密度，f为样本点xi处的概率密度</span></span><br><span class="line"><span class="comment">% subplot(222)</span></span><br><span class="line"><span class="comment">% plot(xi,f) %绘制概率密度图像</span></span><br><span class="line"><span class="comment">% title(&#x27;加噪信号概率密度图像&#x27;)</span></span><br><span class="line"><span class="comment">% X=fft(xn); %计算加噪信号序列的快速离散傅里叶变换</span></span><br><span class="line"><span class="comment">% Px=X.*conj(X)/600; %计算信号频谱</span></span><br><span class="line"><span class="comment">% subplot(223)</span></span><br><span class="line"><span class="comment">% semilogy(t,Px) %绘制在半对数坐标系下频谱图像</span></span><br><span class="line"><span class="comment">% title(&#x27;输入信号在半对数坐标系下频谱图像&#x27;)</span></span><br><span class="line"><span class="comment">% xlabel(&#x27;x轴单位：w/rad&#x27;,&#x27;color&#x27;,&#x27;b&#x27;)</span></span><br><span class="line"><span class="comment">% ylabel(&#x27;y轴单位：w/HZ&#x27;,&#x27;color&#x27;,&#x27;b&#x27;)</span></span><br><span class="line"><span class="comment">% pxx=periodogram(xn);%计算加噪信号的功率谱密度</span></span><br><span class="line"><span class="comment">% subplot(224)</span></span><br><span class="line"><span class="comment">% semilogy(pxx) %绘制在半对数坐标系下功率谱密度图像</span></span><br><span class="line"><span class="comment">% title(&#x27;加噪信号在半对数坐标系下功率谱密度图像&#x27;)</span></span><br><span class="line"><span class="comment">% </span></span><br><span class="line"><span class="comment">% xlabel(&#x27;x轴单位：w/rad&#x27;,&#x27;color&#x27;,&#x27;b&#x27;)</span></span><br><span class="line"><span class="comment">% ylabel(&#x27;y轴单位：w/HZ&#x27;,&#x27;color&#x27;,&#x27;b&#x27;)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">%维纳滤波</span></span><br><span class="line">N=<span class="number">100</span>;   <span class="comment">%维纳滤波器长度</span></span><br><span class="line">Rxnx=xcorr(xn,x,Mlag,<span class="string">&#x27;biased&#x27;</span>);  <span class="comment">%产生加噪信号与原始信号的互相关函数</span></span><br><span class="line">rxnx=<span class="built_in">zeros</span>(N,<span class="number">1</span>); </span><br><span class="line">rxnx(:)=Rxnx(<span class="number">101</span>:<span class="number">101</span>+N<span class="number">-1</span>);</span><br><span class="line">Rxx=<span class="built_in">zeros</span>(N,N);  <span class="comment">%产生加噪信号自相关矩阵</span></span><br><span class="line">Rxx=<span class="built_in">diag</span>(Rxn(<span class="number">101</span>)*<span class="built_in">ones</span>(<span class="number">1</span>,N));</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">2</span>:N</span><br><span class="line">    c=Rxn(<span class="number">101</span>+<span class="built_in">i</span>)*<span class="built_in">ones</span>(<span class="number">1</span>,N+<span class="number">1</span>-<span class="built_in">i</span>);</span><br><span class="line">    Rxx=Rxx+<span class="built_in">diag</span>(c,<span class="built_in">i</span><span class="number">-1</span>)+<span class="built_in">diag</span>(c,-<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Rxx;</span><br><span class="line">h=<span class="built_in">zeros</span>(N,<span class="number">1</span>);</span><br><span class="line">h=inv(Rxx)*rxnx; <span class="comment">%计算维纳滤波器的h(n)</span></span><br><span class="line">yn=filter(h,<span class="number">1</span>,xn); <span class="comment">%将加噪信号通过维纳滤波器</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">plot</span>(yn) <span class="comment">%绘制经过维纳滤波器后信号图像</span></span><br><span class="line">title(<span class="string">&#x27;经过维纳滤波器后信号信号图像&#x27;</span>)</span><br><span class="line">xlabel(<span class="string">&#x27;x轴单位：f/HZ&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;y轴单位：A/V&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ynmean=<span class="built_in">mean</span>(yn) <span class="comment">%计算经过维纳滤波器后信号均值</span></span><br><span class="line">ynms=<span class="built_in">mean</span>(yn.^<span class="number">2</span>) <span class="comment">%计算经过维纳滤波器后信号均方值</span></span><br><span class="line">ynvar=var(yn,<span class="number">1</span>)  <span class="comment">%计算经过维纳滤波器后信号方差</span></span><br><span class="line">Ryn=xcorr(yn,Mlag,<span class="string">&#x27;biased&#x27;</span>);  <span class="comment">%计算经过维纳滤波器后信号自相关函数</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">6</span>)</span><br><span class="line">subplot(<span class="number">221</span>)</span><br><span class="line"><span class="built_in">plot</span>((-Mlag:Mlag),Ryn) <span class="comment">%绘制自相关函数图像</span></span><br><span class="line">title(<span class="string">&#x27;经过维纳滤波器后信号自相关函数图像&#x27;</span>)</span><br><span class="line">[f,yi]=ksdensity(yn);  <span class="comment">%计算经过维纳滤波器后信号的概率密度，f为样本点xi处的概率密度</span></span><br><span class="line">subplot(<span class="number">222</span>)</span><br><span class="line"><span class="built_in">plot</span>(yi,f) <span class="comment">%绘制概率密度图像</span></span><br><span class="line">title(<span class="string">&#x27;经过维纳滤波器后信号概率密度图像&#x27;</span>)</span><br><span class="line">Y=fft(yn); <span class="comment">%计算经过维纳滤波器后信号序列的快速离散傅里叶变换</span></span><br><span class="line">Py=Y.*<span class="built_in">conj</span>(Y)/<span class="number">600</span>; <span class="comment">%计算信号频谱</span></span><br><span class="line">subplot(<span class="number">223</span>)</span><br><span class="line">semilogy(t,Py)   <span class="comment">%绘制在半对数坐标系下频谱图像</span></span><br><span class="line">title(<span class="string">&#x27;经过维纳滤波器后信号在半对数坐标系下频谱图像&#x27;</span>)</span><br><span class="line">xlabel(<span class="string">&#x27;x轴单位：w/rad&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;y轴单位：w/HZ&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">pyn=periodogram(yn);  <span class="comment">%计算经过维纳滤波器后信号的功率谱密度</span></span><br><span class="line">subplot(<span class="number">224</span>)</span><br><span class="line">semilogy(pyn)  <span class="comment">%绘制在半对数坐标系下功率谱密度图像</span></span><br><span class="line">title(<span class="string">&#x27;经过维纳滤波器后信号在半对数坐标系下功率谱密度图像&#x27;</span>)</span><br><span class="line">xlabel(<span class="string">&#x27;x轴单位：w/rad&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ylabel(<span class="string">&#x27;y轴单位：w/HZ&#x27;</span>,<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">1</span>,<span class="number">1</span>),<span class="built_in">plot</span>(noise); title(<span class="string">&#x27;噪声信号&#x27;</span>)</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>),<span class="built_in">plot</span>(x); title(<span class="string">&#x27;正弦信号&#x27;</span>)</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">1</span>,<span class="number">3</span>),<span class="built_in">plot</span>(xn); title(<span class="string">&#x27;加噪信号&#x27;</span>)</span><br><span class="line">subplot(<span class="number">4</span>,<span class="number">1</span>,<span class="number">4</span>),<span class="built_in">plot</span>(yn); title(<span class="string">&#x27;维纳信号&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201005213624.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201005213632.png" alt=""></p><h1>另一本书例题</h1><h2 id="第一章-v2"><a class="header-anchor" href="#第一章-v2">¶</a>第一章</h2><h3 id="离散时间信号的MATLAB实现"><a class="header-anchor" href="#离散时间信号的MATLAB实现">¶</a>离散时间信号的MATLAB实现</h3><ol><li>正弦序列</li></ol><p>离散正弦序列的MATLAB表示与连续信号类似，只不过用stem函数而不是用plot函数来画出序列的波形。</p><p>ex0101:正弦序列sin(Π/6)*k的MATLAB源程序</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0101_sin6pik.m</span></span><br><span class="line">clear all;</span><br><span class="line">k=<span class="number">0</span>:<span class="number">39</span>;</span><br><span class="line">fk=<span class="built_in">sin</span>(<span class="built_in">pi</span>/<span class="number">6</span>*k);</span><br><span class="line">stem(k,fk)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925112757.png" alt=""></p><ol start="2"><li>指数序列</li></ol><p>离散指数序列的一般形式为<code>ca^k</code>，可用MATLAB中的数组幂运算（即点幂运算）<code>c*a.^k</code>来实现。</p><p>ex0102:先编写绘制离散时间<strong>实指数序列</strong>波形的函数。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%function_dszsu</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dszsu</span><span class="params">(c,a,k1,k2)</span></span></span><br><span class="line"><span class="comment">%c:知数序列的幅度</span></span><br><span class="line"><span class="comment">%a:指数序列的底数</span></span><br><span class="line"><span class="comment">%k1:绘制序列的起始序号</span></span><br><span class="line"><span class="comment">%k2:绘制序列的终止序号</span></span><br><span class="line">k=k1:k2;</span><br><span class="line">x=c*(a.^k);</span><br><span class="line">stem(k,x,<span class="string">&#x27;filled&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>([k1,k2],[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure><blockquote><p>编写的函数保存名称与function后面写的必须保持一致</p></blockquote><p>利用上述函数，实现<strong>实指数</strong>波形（a=5/4,3/4,-5/4,-3/4）</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0102_dszsu.m</span></span><br><span class="line">subplot(<span class="number">221</span>);</span><br><span class="line">dszsu(<span class="number">1</span>,<span class="number">5</span>/<span class="number">4</span>,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;k&#x27;</span>);title(<span class="string">&#x27;f1[k]&#x27;</span>);</span><br><span class="line">subplot(<span class="number">222</span>);</span><br><span class="line">dszsu(<span class="number">1</span>,<span class="number">3</span>/<span class="number">4</span>,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;k&#x27;</span>);title(<span class="string">&#x27;f2[k]&#x27;</span>);</span><br><span class="line">subplot(<span class="number">223</span>);</span><br><span class="line">dszsu(<span class="number">1</span>,<span class="number">-5</span>/<span class="number">4</span>,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;k&#x27;</span>);title(<span class="string">&#x27;f3[k]&#x27;</span>);</span><br><span class="line">subplot(<span class="number">224</span>);</span><br><span class="line">dszsu(<span class="number">1</span>,<span class="number">-3</span>/<span class="number">4</span>,<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;k&#x27;</span>);title(<span class="string">&#x27;f4[k]&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925114116.png" alt=""></p><p>对于离散时间<strong>虚指数序列</strong>，可用通过调用下列绘制虚指数序列时域波形的MATLAB函数。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[]</span> = <span class="title">dxzsu</span><span class="params">(n1,n2,w)</span></span></span><br><span class="line"><span class="comment">%n1：绘制波形的虚指数序列的起始时间序号</span></span><br><span class="line"><span class="comment">%n2：绘制波形的虚指数序列的终止时间序号</span></span><br><span class="line"><span class="comment">%w：虚指数序列的角频率</span></span><br><span class="line">k=n1:n2;</span><br><span class="line">f=<span class="built_in">exp</span>(<span class="built_in">i</span>*w*k);</span><br><span class="line">Xr=<span class="built_in">real</span>(f);<span class="comment">%real函数是取f函数的实部</span></span><br><span class="line">Xi=<span class="built_in">imag</span>(f);<span class="comment">%imag函数是取f函数的虚部</span></span><br><span class="line">Xa=<span class="built_in">abs</span>(f);<span class="comment">%abs函数可以用来取复数的模</span></span><br><span class="line">Xn=<span class="built_in">angle</span>(f);<span class="comment">%angle函数取f函数的相角</span></span><br><span class="line">subplot(<span class="number">221</span>),stem(k,Xr,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;实部&#x27;</span>);</span><br><span class="line">subplot(<span class="number">223</span>),stem(k,Xi,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;虚部&#x27;</span>);</span><br><span class="line">subplot(<span class="number">222</span>),stem(k,Xa,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;模&#x27;</span>);</span><br><span class="line">subplot(<span class="number">224</span>),stem(k,Xn,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;相角&#x27;</span>);</span><br></pre></td></tr></table></figure><p>调用上述的程序：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0102_dxzsu.m</span></span><br><span class="line">clear;</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>);<span class="comment">%创建一个新的窗口1</span></span><br><span class="line">dxzsu(<span class="number">0</span>,<span class="number">20</span>,<span class="built_in">pi</span>/<span class="number">4</span>);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>);<span class="comment">%创建一个新的窗口2</span></span><br><span class="line">dxzsu(<span class="number">0</span>,<span class="number">20</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925163353.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925163407.png" alt=""></p><p>复指数序列，其一般形式为：<code>f[k]=r^(k)*(e^j*w*k)</code></p><p>编写下面的程序，绘制复指数序列时域波形的MATLAB函数。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfzsu</span><span class="params">(n1,n2,r,w)</span></span></span><br><span class="line"><span class="comment">%n1:绘制波形的虚指数的起始时间序号</span></span><br><span class="line"><span class="comment">%n2：绘制波形的虚指数的终止时间序号</span></span><br><span class="line"><span class="comment">%w：虚指数序列的角频率</span></span><br><span class="line"><span class="comment">%r：指数序列的底数</span></span><br><span class="line">k=n1:n2;</span><br><span class="line">f=(r*<span class="built_in">exp</span>(<span class="built_in">i</span>*w)).^k;</span><br><span class="line">Xr=<span class="built_in">real</span>(f);</span><br><span class="line">Xi=<span class="built_in">imag</span>(f);</span><br><span class="line">Xa=<span class="built_in">abs</span>(f);</span><br><span class="line">Xn=<span class="built_in">angle</span>(f);</span><br><span class="line">subplot(<span class="number">221</span>),stem(k,Xr,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;实部&#x27;</span>);</span><br><span class="line">subplot(<span class="number">223</span>),stem(k,Xi,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;虚部&#x27;</span>);</span><br><span class="line">subplot(<span class="number">222</span>),stem(k,Xa,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;模&#x27;</span>);</span><br><span class="line">subplot(<span class="number">224</span>),stem(k,Xn,<span class="string">&#x27;filled&#x27;</span>),title(<span class="string">&#x27;相角&#x27;</span>);</span><br></pre></td></tr></table></figure><p>调用上面的程序：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0102_dfzsu.m</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">dfzsu(<span class="number">0</span>,<span class="number">20</span>,<span class="number">1.2</span>,<span class="built_in">pi</span>/<span class="number">4</span>);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line">dfzsu(<span class="number">0</span>,<span class="number">20</span>,<span class="number">0.8</span>,<span class="built_in">pi</span>/<span class="number">4</span>);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line">dfzsu(<span class="number">0</span>,<span class="number">20</span>,<span class="number">1</span>,<span class="built_in">pi</span>/<span class="number">4</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925174933.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925174952.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925175012.png" alt=""></p><ol start="3"><li>单位抽样序列</li></ol><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0103_danwei.m</span></span><br><span class="line"><span class="comment">%单位取样序列实现程序</span></span><br><span class="line">k=<span class="number">-30</span>:<span class="number">30</span>;</span><br><span class="line">delta=[<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">30</span>),<span class="number">1</span>,<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">30</span>)];</span><br><span class="line">stem(k,delta)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925175838.png" alt=""></p><ol start="4"><li>单位阶跃序列</li></ol><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0104_jieyue.m</span></span><br><span class="line">k=<span class="number">-30</span>:<span class="number">30</span>;</span><br><span class="line">uk=[<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">30</span>),<span class="built_in">ones</span>(<span class="number">1</span>,<span class="number">31</span>)];</span><br><span class="line">stem(k,uk)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925192231.png" alt=""></p><p>ex0107:编写程序来产生下列基本序列。</p><p>(1)单位抽样序列，起点ns=0，终点nf=10，在n。=3处有一单位脉冲。</p><p>(2)单位阶跃序列，起点ns=0，终点nf=10，在n。=3前为0，在ns=3后为1。</p><p>(3)复指数序列，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span>=-0.2,w。=0.5。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa010701_chouyang.m</span></span><br><span class="line"><span class="comment">%(1)单位抽样序列，起点ns=0，终点nf=10，在n。=3处有一单位脉冲。</span></span><br><span class="line">clear</span><br><span class="line">ns=<span class="number">0</span>;nf=<span class="number">10</span>;n0=<span class="number">3</span>;</span><br><span class="line">n1=[ns:nf];x1=[<span class="built_in">zeros</span>(<span class="number">1</span>,n0-ns),<span class="number">1</span>,<span class="built_in">zeros</span>(<span class="number">1</span>,nf-n0)];<span class="comment">%实际上zeros函数从标号0开始生成</span></span><br><span class="line">subplot(<span class="number">221</span>);stem(n1,x1),title(<span class="string">&#x27;单位抽样序列\Gamma(n-3)&#x27;</span>);</span><br><span class="line"><span class="comment">%(2)单位阶跃序列，起点ns=0，终点nf=10，在n。=3前为0，在ns=3后为1。</span></span><br><span class="line">n2=[ns:nf];</span><br><span class="line">x2=[<span class="built_in">zeros</span>(<span class="number">1</span>,n0-ns),<span class="built_in">ones</span>(<span class="number">1</span>,nf-n0+<span class="number">1</span>)];</span><br><span class="line">subplot(<span class="number">222</span>);stem(n2,x2),title(<span class="string">&#x27;单位阶跃序列u(n-3)&#x27;</span>);</span><br><span class="line"><span class="comment">%复指数序列:e^jw/e^(a+jb)</span></span><br><span class="line">n3=[ns:nf];x3=<span class="built_in">exp</span>((<span class="number">-0.2</span>+<span class="number">0.5</span><span class="built_in">j</span>)*n3);</span><br><span class="line">subplot(<span class="number">223</span>),stem(n3,<span class="built_in">real</span>(x3)),line([<span class="number">0</span>,<span class="number">10</span>],[<span class="number">0</span>,<span class="number">0</span>]),title(<span class="string">&#x27;复指数序列的实部&#x27;</span>),ylabel(<span class="string">&#x27;实部&#x27;</span>);</span><br><span class="line">subplot(<span class="number">224</span>),stem(n3,<span class="built_in">imag</span>(x3)),line([<span class="number">0</span>,<span class="number">10</span>],[<span class="number">0</span>,<span class="number">0</span>]),title(<span class="string">&#x27;复指数序列的虚部&#x27;</span>),ylabel(<span class="string">&#x27;虚部&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200925210339.png" alt=""></p><p>还可以自己编写一些子程序以便调用。</p><ul><li><p>(1) 单位抽样序列δ(n-n0)的生成函数impseq.m</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%单位抽样序列生成函数δ(n-n0)的生成函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[x,n]</span>=<span class="title">impseq</span><span class="params">(n0,ns,nf)</span></span></span><br><span class="line">n=[ns:nf];</span><br><span class="line">x=[(n-n0)==<span class="number">0</span>];<span class="comment">%序列的起点为ns，终点为nf，在n=n0点处生成一个单位脉冲</span></span><br></pre></td></tr></table></figure></li><li><p>(2)单位阶跃序列u(n-n0)的生成函数stepseq.m</p></li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%单位阶跃序列u(n-n0)的生成函数stepseq.m</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[x,n]</span>=<span class="title">stepseq</span><span class="params">(n0,ns,nf)</span></span></span><br><span class="line">n=[ns:nf];</span><br><span class="line">x=[(n-n0)&gt;=<span class="number">0</span>];<span class="comment">%序列的起点为ns，终点为nf，在n=n0点处生成单位阶跃</span></span><br></pre></td></tr></table></figure><ul><li>(3)两个信号相加的生成函数sigadd.m</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%两个信号相加的生成函数sigadd.m</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[y,n]</span>=<span class="title">sigadd</span><span class="params">(x1,n1,x2,n2)</span></span></span><br><span class="line">n=<span class="built_in">min</span>(<span class="built_in">min</span>(n1),<span class="built_in">min</span>(n2),<span class="built_in">min</span>(x1),<span class="built_in">min</span>(x2))</span><br><span class="line">y1=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(n));y2=y1;</span><br><span class="line">y1=(<span class="built_in">find</span>(n&gt;=<span class="built_in">min</span>(n1))&amp;(n&lt;=<span class="built_in">max</span>(n1))==<span class="number">1</span>)=x1;</span><br><span class="line">y2=(<span class="built_in">find</span>(n&gt;=<span class="built_in">min</span>(n2))&amp;(n&lt;=<span class="built_in">max</span>(n2))==<span class="number">1</span>)=x2;</span><br><span class="line">y=y1+y2;</span><br></pre></td></tr></table></figure><ul><li>(4)两个信号相乘的生成函数sigmult.m</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%两个信号相乘的生成函数sigmult.m</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[y,n]</span>=<span class="title">sigmult</span><span class="params">(x1,n1,x2,n2)</span></span></span><br><span class="line">n=<span class="built_in">min</span>(<span class="built_in">min</span>(n1),<span class="built_in">min</span>(n1),<span class="built_in">min</span>(x1),<span class="built_in">min</span>(x2))</span><br><span class="line">y1=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(n));y2=y1;</span><br><span class="line">y1=(<span class="built_in">find</span>(n&gt;=<span class="built_in">min</span>(n1))&amp;(n&lt;=<span class="built_in">max</span>(n1))==<span class="number">1</span>)=x1;</span><br><span class="line">y2=(<span class="built_in">find</span>(n&gt;=<span class="built_in">min</span>(n2))&amp;(n&lt;=<span class="built_in">max</span>(n2))==<span class="number">1</span>)=x2;</span><br><span class="line">y=y1*y2;</span><br></pre></td></tr></table></figure><ul><li>(5)序列移位y(n)=x(n-n0)的生成函数signshift.m</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%序列移位y(n)=x(n-n0)的生成函数signshift.m</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[y,n]</span>=<span class="title">signshift</span><span class="params">(x,m,n0)</span></span></span><br><span class="line">n=m+n0;y=x</span><br></pre></td></tr></table></figure><ul><li>(6)序列翻褶y(n)=x(-n)的生成函数sigfold.m</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[y,n]</span>=<span class="title">sigfold</span><span class="params">(x,n)</span></span></span><br><span class="line">y=<span class="built_in">fliplr</span>(x);n=-<span class="built_in">fliplr</span>(n)<span class="comment">%fliplr函数是对矩阵实施左右翻转</span></span><br></pre></td></tr></table></figure><ul><li>(7)奇偶综合函数evenodd.m</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%奇偶综合函数evenodd.m</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[xe,x0,m]</span>=<span class="title">evenodd</span><span class="params">(x,n)</span></span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">imag</span>(x)~=<span class="number">0</span>)</span><br><span class="line">    error(<span class="string">&#x27;x is not a real sequence&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">m=-<span class="built_in">fliplr</span>(n);m1=<span class="built_in">min</span>([m,n]);m2=<span class="built_in">max</span>([m,n]);m=m1:m2;</span><br><span class="line">nm=n(<span class="number">1</span>)-m(<span class="number">2</span>);n1=<span class="number">1</span>;<span class="built_in">length</span>(n);</span><br><span class="line">x1=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(m));</span><br><span class="line">xe=<span class="number">0.5</span>*(x+<span class="built_in">fliplr</span>(x));<span class="comment">%fliplr函数是对矩阵实施左右翻转</span></span><br><span class="line">x0=<span class="number">0.5</span>*(x-<span class="built_in">fliplr</span>(x));</span><br></pre></td></tr></table></figure><ul><li>(8)求卷积和</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%求卷积和,可以求从负值开始的</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[y,ny]</span>=<span class="title">conv_m</span><span class="params">(x,nx,h,nh)</span></span></span><br><span class="line">ny1=nx(<span class="number">1</span>)+nh(<span class="number">1</span>);ny2=nx(<span class="built_in">length</span>(x))+nh(<span class="built_in">length</span>(h));</span><br><span class="line">ny=[ny1:ny2];</span><br><span class="line">y=conv(x,h);</span><br></pre></td></tr></table></figure><p>ex0108:产生系列序列，并绘出离散图。</p><p>(1)x1(n)=3δ(n-2)-δ(n+4)-5&lt;=n&lt;=5</p><p>(2) x2(n)=n[u(n)-u(n-5)]+10e^(-0.2(n-5))[u(n-10)-u(n-20)]0&lt;=n&lt;=20</p><p>(3)x3(n)=cos(0.04Πn)+0.2w(n)0&lt;=n&lt;=50</p><p>式中，w(n)是均值为0，方差为1的白噪声序列。</p><p>(4)$$\overline{x}4(n)=\widetilde{x}(n)=[x1x1x1x1]$$,其中x1=[1 0 1 2 3]</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0108_line.m</span></span><br><span class="line">n=[<span class="number">-5</span>:<span class="number">5</span>];</span><br><span class="line">x1=<span class="number">3</span>*impseq(<span class="number">2</span>,<span class="number">-5</span>,<span class="number">5</span>)-impseq(<span class="number">-4</span>,<span class="number">-5</span>,<span class="number">5</span>);</span><br><span class="line">subplot(<span class="number">221</span>),stem(n,x1);ylabel(<span class="string">&#x27;x(n)&#x27;</span>);axis([<span class="number">-5</span>,<span class="number">5</span>,<span class="number">-2</span>,<span class="number">4</span>]);</span><br><span class="line">n=[<span class="number">0</span>:<span class="number">20</span>];</span><br><span class="line">x21=n.*(stepseq(<span class="number">0</span>,<span class="number">0</span>,<span class="number">20</span>)-stepseq(<span class="number">10</span>,<span class="number">0</span>,<span class="number">20</span>));</span><br><span class="line">x22=<span class="number">10</span>*<span class="built_in">exp</span>(<span class="number">-2</span>*(n<span class="number">-5</span>)).*(stepseq(<span class="number">10</span>,<span class="number">0</span>,<span class="number">20</span>)-stepseq(<span class="number">20</span>,<span class="number">0</span>,<span class="number">20</span>));</span><br><span class="line">x2=x21+x22;</span><br><span class="line">subplot(<span class="number">222</span>),stem(n,x2),ylabel(<span class="string">&#x27;x2(n)&#x27;</span>);axis([<span class="number">0</span>,<span class="number">20</span>,<span class="number">-1</span>,<span class="number">11</span>])</span><br><span class="line">n=[<span class="number">0</span>:<span class="number">50</span>];</span><br><span class="line">x3=<span class="built_in">cos</span>(<span class="number">0.04</span>*<span class="built_in">pi</span>*n)+<span class="number">0.2</span>*<span class="built_in">randn</span>(<span class="built_in">size</span>(n));</span><br><span class="line">subplot(<span class="number">223</span>),stem(n,x3);xlabel(<span class="string">&#x27;n&#x27;</span>);ylabel(<span class="string">&#x27;x3(n)&#x27;</span>);axis([<span class="number">0</span>,<span class="number">50</span>,<span class="number">-2</span>,<span class="number">2</span>])</span><br><span class="line">n=[<span class="number">-10</span>:<span class="number">9</span>];</span><br><span class="line">x4=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">xtilde=x4&#x27;*<span class="built_in">ones</span>(<span class="number">1</span>,<span class="number">4</span>);xtilde=(xtilde(:))&#x27;;</span><br><span class="line">subplot(<span class="number">224</span>);stem(n,xtilde);ylabel(<span class="string">&#x27;x4(n)&#x27;</span>);axis([<span class="number">-10</span>,<span class="number">9</span>,<span class="number">-1</span>,<span class="number">4</span>])</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200928215224.png" alt=""></p><blockquote><p>axis函数：用于操作普通的坐标属性，（轴的缩放和外观）。</p><p>axis( [xmin xmax ymin ymax] )  设置当前坐标轴 x轴 和 y轴的限制范围</p></blockquote><h3 id="离散序列的基本运算"><a class="header-anchor" href="#离散序列的基本运算">¶</a>离散序列的基本运算</h3><ol><li>加法</li></ol><p>对于离散序列而言，序列相加是将信号对应时间序号的值逐项相加，在这里不能像连续时间信号那样用符号运算来实现，而必须用向量表示的方法，即在MATLAB中离散序列的相加需表示成两个向量的相加，因而参加运算的两序列向量必须具有相同的维数。</p><p>实现离散序列相加的MATLAB实用子程序如下：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%实现离散序列相加</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[f,k]</span>=<span class="title">lsxj</span><span class="params">(f1,f2,k1,k2)</span></span></span><br><span class="line"><span class="comment">%实现f(k)=f1(k)+f2(k),f1,f2,k1,k2是参加运算的两离散序列及其对应的时间序列向量</span></span><br><span class="line"><span class="comment">%f和k为返回的和序列及其对应的时间序列向量</span></span><br><span class="line">k=<span class="built_in">min</span>(<span class="built_in">min</span>(k1),<span class="built_in">min</span>(k2)):<span class="built_in">max</span>(<span class="built_in">max</span>(k1),<span class="built_in">max</span>(k2));<span class="comment">%构造和序列长度</span></span><br><span class="line">s1=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(k));s2=s1;<span class="comment">%初始化新向量</span></span><br><span class="line">s1(<span class="built_in">find</span>((k&gt;=<span class="built_in">min</span>(k1))&amp;(k&lt;=<span class="built_in">max</span>(k1))==<span class="number">1</span>))=f1;<span class="comment">%将f1中在和序列范围内但又无定义的点赋值为零</span></span><br><span class="line">s2(<span class="built_in">find</span>((k&gt;=<span class="built_in">min</span>(k2))&amp;(k&lt;=<span class="built_in">max</span>(k2))==<span class="number">1</span>))=f2;<span class="comment">%将f2中在和序列范围内但又无定义的点赋值为零//保证了s1和s2序列长度相同</span></span><br><span class="line">f=s1+s2;<span class="comment">%两长度相等序列求和</span></span><br><span class="line">stem(k,f,<span class="string">&#x27;filled&#x27;</span>)</span><br><span class="line">axis([(<span class="built_in">min</span>(<span class="built_in">min</span>(k1),<span class="built_in">min</span>(k2))<span class="number">-1</span>),(<span class="built_in">max</span>(<span class="built_in">max</span>(k1),<span class="built_in">max</span>(k2))+<span class="number">1</span>),(<span class="built_in">min</span>(f)<span class="number">-0.5</span>),(<span class="built_in">max</span>(f)+<span class="number">0.5</span>)])<span class="comment">%坐标轴显示范围</span></span><br></pre></td></tr></table></figure><blockquote><p>find函数：查询非零元素的位置和值</p></blockquote><p>ex0109:已知两离散序列分别为</p><p>f1[k]={-2,-1,0,1,2}f2[k]={1,1,1}</p><p>试用MATLAB绘出它们的波形及f1[k]+f2[k]的波形。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa0109_lisanxulie.m</span></span><br><span class="line">clear</span><br><span class="line">f1=<span class="number">-2</span>:<span class="number">2</span>;k1=<span class="number">-2</span>:<span class="number">2</span>;</span><br><span class="line">f2=[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span>];k2=<span class="number">-1</span>:<span class="number">1</span>;</span><br><span class="line">subplot(<span class="number">221</span>);stem(k1,f1);axis([<span class="number">-3</span> <span class="number">3</span> <span class="number">-2.5</span> <span class="number">2.5</span>]);title(<span class="string">&#x27;f1[k]&#x27;</span>);</span><br><span class="line">subplot(<span class="number">222</span>);stem(k2,f2);axis([<span class="number">-3</span> <span class="number">3</span> <span class="number">-2.5</span> <span class="number">2.5</span>]);title(<span class="string">&#x27;f2[k]&#x27;</span>);</span><br><span class="line">subplot <span class="number">223</span>;</span><br><span class="line">[f,k]=lsxj(f1,f2,k1,k2);</span><br><span class="line">title(<span class="string">&#x27;f[k]=f1[k]+f2[k]&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929102701.png" alt=""></p><ol start="2"><li>乘法</li></ol><p>与离散序列加法相似，这里参加运算的两序列向量必须具有相同的维数。实现离散时间信号相乘的MATLAB实用子程序如下：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%离散序列乘法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">[f,k]</span>=<span class="title">lsxc</span><span class="params">(f1,f2,k1,k2)</span></span></span><br><span class="line"><span class="comment">%实现f(k)=f1(k)+f2(k),f1,f2,k1,k2是参加运算的两离散序列及其对应的时间序列向量</span></span><br><span class="line"><span class="comment">%f和k为返回的和序列及其对应的时间序列向量</span></span><br><span class="line">k=<span class="built_in">min</span>(<span class="built_in">min</span>(k1),<span class="built_in">min</span>(k2)):<span class="built_in">max</span>(<span class="built_in">max</span>(k1),<span class="built_in">max</span>(k2));<span class="comment">%构造和序列长度</span></span><br><span class="line">s1=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(k));s2=s1;<span class="comment">%初始化新向量</span></span><br><span class="line">s1(<span class="built_in">find</span>((k&gt;=<span class="built_in">min</span>(k1))&amp;(k&lt;=<span class="built_in">max</span>(k1))==<span class="number">1</span>))=f1;<span class="comment">%将f1中在和序列范围内但又无定义的点赋值为0</span></span><br><span class="line">s2(<span class="built_in">find</span>((k&gt;=<span class="built_in">min</span>(k2))&amp;(k&lt;=<span class="built_in">max</span>(k2))==<span class="number">1</span>))=f2;<span class="comment">%将f2中在和序列范围内但又无定义的点赋值为0</span></span><br><span class="line">f=s1.*s2;<span class="comment">%两长度相等序列求和</span></span><br><span class="line">stem(k,f,<span class="string">&#x27;filled&#x27;</span>)</span><br><span class="line">axis([(<span class="built_in">min</span>(<span class="built_in">min</span>(k1),<span class="built_in">min</span>(k2))<span class="number">-1</span>),(<span class="built_in">max</span>(<span class="built_in">max</span>(k1),<span class="built_in">max</span>(k2))+<span class="number">1</span>),(<span class="built_in">min</span>(f)<span class="number">-0.5</span>),(<span class="built_in">max</span>(f)+<span class="number">0.5</span>)])</span><br></pre></td></tr></table></figure><p>ex01010:试用MATLAB绘出上例中两离散序列乘法f1[k]*f2[k]的波形。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa01010_lisanchengfa.m</span></span><br><span class="line">f1=<span class="number">-2</span>:<span class="number">2</span>;k1=<span class="number">-2</span>:<span class="number">2</span>;</span><br><span class="line">f2=[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span>];k2=<span class="number">-1</span>:<span class="number">1</span>;</span><br><span class="line">subplot <span class="number">221</span>;stem(k1,f1);axis([<span class="number">-3</span> <span class="number">3</span> <span class="number">-2.5</span> <span class="number">2.5</span>]);title(<span class="string">&#x27;f1[k]&#x27;</span>);</span><br><span class="line">subplot <span class="number">222</span>;stem(k2,f2);axis([<span class="number">-3</span> <span class="number">3</span> <span class="number">-2.5</span> <span class="number">2.5</span>]);title(<span class="string">&#x27;f2[k]&#x27;</span>);</span><br><span class="line">subplot <span class="number">223</span>;</span><br><span class="line">[f,k]=lsxc(f1,f2,k1,k2);title(<span class="string">&#x27;f[k]=f1[k]*f2[k]&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929110346.png" alt=""></p><ol start="3"><li>差分与求和</li></ol><p>离散序列的差分<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∇</mi></mrow><annotation encoding="application/x-tex">\nabla</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∇</span></span></span></span>f[k]=f[k]-f[k-1]，在MATLAB中用diff函数来实现，其调用格式为：             y=diff(f)</p><p>离散序列的求和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mn>2</mn><mo stretchy="false">(</mo><mo>∑</mo><mi>f</mi><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mi>k</mi><mo>=</mo><mi>k</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">k2(\sum f[k])k=k1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord">2</span><span class="mopen">(</span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord">1</span></span></span></span>与信号相加运算不同，求和运算是把k1和k2之间的所有样本f[k]加起来，在MATLAB中可利用sum函数来实现，其调用形式为：y=sum(f(k1:2))</p><ol start="4"><li>时移、反褶、尺度变换</li></ol><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%离散序列图像变换实现程序</span></span><br><span class="line">clear;</span><br><span class="line">k=<span class="number">-12</span>:<span class="number">12</span>;</span><br><span class="line">k1=<span class="number">2.</span>*k+<span class="number">4</span>;</span><br><span class="line">f=-[stepfun(k,<span class="number">-3</span>)-stepfun(k,<span class="number">-1</span>)]+...</span><br><span class="line">    <span class="number">4.</span>*[stepfun(k,<span class="number">-1</span>)-stepfun(k,<span class="number">0</span>)]+...</span><br><span class="line">    <span class="number">0.5</span>*k.*[stepfun(k,<span class="number">0</span>)-stepfun(k,<span class="number">11</span>)];</span><br><span class="line">f1=-[stepfun(k1,<span class="number">-3</span>)-stepfun(k1,<span class="number">-1</span>)]+...</span><br><span class="line">    <span class="number">4.</span>*[stepfun(k1,<span class="number">-1</span>)-stepfun(k1,<span class="number">0</span>)]+...</span><br><span class="line">    <span class="number">0.5</span>*k1.*[stepfun(k1,<span class="number">0</span>)-stepfun(k1,<span class="number">11</span>)];</span><br><span class="line">subplot(<span class="number">221</span>);</span><br><span class="line">stem(k,f);</span><br><span class="line">axis([<span class="number">-12</span> <span class="number">12</span> <span class="number">-1</span> <span class="number">6</span>]);</span><br><span class="line">grid on;</span><br><span class="line">text(<span class="number">-8</span>,<span class="number">3</span>,<span class="string">&#x27;f[k]&#x27;</span>)</span><br><span class="line">subplot(<span class="number">222</span>);</span><br><span class="line">stem(k+<span class="number">1</span>,f);</span><br><span class="line">axis([<span class="number">-12</span> <span class="number">12</span> <span class="number">-1</span> <span class="number">6</span>]);</span><br><span class="line">grid on;</span><br><span class="line">text(<span class="number">-9.5</span>,<span class="number">3</span>,<span class="string">&#x27;f[k-1]&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;</span><br><span class="line">stem(k,f1);</span><br><span class="line">axis([<span class="number">-12</span> <span class="number">12</span> <span class="number">-1</span> <span class="number">6</span>]);</span><br><span class="line">grid on;</span><br><span class="line">text(<span class="number">-8</span>,<span class="number">3</span>,<span class="string">&#x27;f[2k+4]&#x27;</span>)</span><br><span class="line">subplot(<span class="number">224</span>);</span><br><span class="line">stem(<span class="number">2</span> -k,f);</span><br><span class="line">axis([<span class="number">-12</span> <span class="number">12</span> <span class="number">-1</span> <span class="number">6</span>]);</span><br><span class="line">grid on;</span><br><span class="line">text(<span class="number">5.5</span>,<span class="number">3</span>,<span class="string">&#x27;f[2-k]&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929193443.png" alt=""></p><h3 id="奇偶分解"><a class="header-anchor" href="#奇偶分解">¶</a>奇偶分解</h3><p>可以利用MATLAB编写的函数evenodd()将序列分解成偶序列和奇序列两部分，程序如下：</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%离散序列分解成偶分量和奇分量的程序</span></span><br><span class="line">clf</span><br><span class="line">n0=<span class="number">0</span>;n1=<span class="number">-10</span>;n2=<span class="number">10</span>;</span><br><span class="line">n=n1:n2;</span><br><span class="line">x=[(n-n0)&gt;=<span class="number">0</span>];</span><br><span class="line">subplot <span class="number">221</span>;</span><br><span class="line">stem(n,x)</span><br><span class="line">xlabel(<span class="string">&#x27;n&#x27;</span>);ylabel(<span class="string">&#x27;x(n)&#x27;</span>);title(<span class="string">&#x27;Step Sequence&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"><span class="comment">%Decompositon of the Seqence</span></span><br><span class="line">[xeven,xodd,m]=evenodd(x,n);<span class="comment">%evenodd函数分解奇偶向量</span></span><br><span class="line">subplot <span class="number">223</span></span><br><span class="line">stem(m,xeven);</span><br><span class="line">xlabel(<span class="string">&#x27;m&#x27;</span>);ylabel(<span class="string">&#x27;x even(n)&#x27;</span>);title(<span class="string">&#x27;Even Part&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line">subplot <span class="number">224</span></span><br><span class="line">stem(m,xodd);</span><br><span class="line">xlabel(<span class="string">&#x27;m&#x27;</span>);ylabel(<span class="string">&#x27;x odd(n)&#x27;</span>);title(<span class="string">&#x27;Odd Part&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><blockquote><p><em>clf函数</em>：清除图形窗口上的旧图形</p><p>evenodd.m函数:可以将任一给定的序列x(n)分解为xe(n)和xo(n)两部分</p><p>用法：[xe,xo,m]=evenodd(x,n)</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929161849.png" alt=""></p><p>ex01011:已知x(n)=u(n)-u(n-10)，要求将序列分解成奇偶序列。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa01011_evenodd.m</span></span><br><span class="line">clear</span><br><span class="line">n=[<span class="number">0</span>:<span class="number">10</span>];</span><br><span class="line">x=stepseq(<span class="number">0</span>,<span class="number">0</span>,<span class="number">10</span>)-stepseq(<span class="number">10</span>,<span class="number">0</span>,<span class="number">10</span>);</span><br><span class="line">[xe,xo,m]=evenodd(x,n);</span><br><span class="line">subplot <span class="number">221</span>;stem(n,x),ylabel(<span class="string">&#x27;x(n)&#x27;</span>),xlabel(<span class="string">&#x27;n&#x27;</span>),title(<span class="string">&#x27;矩形序列&#x27;</span>),axis([<span class="number">-10</span>,<span class="number">10</span>,<span class="number">-1.2</span>,<span class="number">1.2</span>]);</span><br><span class="line">subplot <span class="number">222</span>;</span><br><span class="line">stem(m,xe);</span><br><span class="line">ylabel(<span class="string">&#x27;xe(n)&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;奇序列&#x27;</span>);</span><br><span class="line">axis([<span class="number">-10</span> <span class="number">10</span> <span class="number">-1.2</span> <span class="number">1.2</span>])</span><br><span class="line">subplot <span class="number">224</span>;</span><br><span class="line">stem(m,xo);</span><br><span class="line">ylabel(<span class="string">&#x27;xo(n)&#x27;</span>),xlabel(<span class="string">&#x27;n&#x27;</span>),title(<span class="string">&#x27;偶序列&#x27;</span>),axis([<span class="number">-10</span> <span class="number">10</span> <span class="number">-1.2</span> <span class="number">1.2</span>]);</span><br></pre></td></tr></table></figure><div class='tip error'><p>error:出现错误，画不出图来<p></div><h3 id="常系数线性差分方程解"><a class="header-anchor" href="#常系数线性差分方程解">¶</a>常系数线性差分方程解</h3><p>ex01012:设线性时不变系统的抽样响应h(n)=(0.9)^n*u(n)，输入序列x(n)=u(n)-u(n-10)，求系统的输出y(n)。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%线性差分方程解</span></span><br><span class="line"><span class="comment">%exa01012_chafen.m</span></span><br><span class="line">n=<span class="number">-5</span>:<span class="number">50</span>;x=stepseq(<span class="number">0</span>,<span class="number">-5</span>,<span class="number">50</span>)-stepseq(<span class="number">10</span>,<span class="number">-5</span>,<span class="number">50</span>);</span><br><span class="line">h=((<span class="number">0.9</span>).^(n)).*stepseq(<span class="number">0</span>,<span class="number">-5</span>,<span class="number">50</span>);</span><br><span class="line">subplot(<span class="number">311</span>);stem(n,x);axis([<span class="number">-5</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;x(n)&#x27;</span>);</span><br><span class="line">subplot(<span class="number">312</span>);stem(n,h);axis([<span class="number">-5</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;h(n)&#x27;</span>);</span><br><span class="line">[y,ny]=conv_m(x,n,h,n);</span><br><span class="line">subplot(<span class="number">313</span>);stem(ny,y);axis([<span class="number">-5</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">8</span>]);</span><br><span class="line">xlabel(<span class="string">&#x27;n&#x27;</span>);ylabel(<span class="string">&#x27;y(n)&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929203435.png" alt=""></p><p>ex01013:给定因果稳定线性时不变系统的差分方程</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929203427.png" alt=""></p><p>对下列输入序列x(n)，求出输出序列y(n)。</p><p>(1)   x(n)=δ(n);(2)x(n)=u(n);(3)x(n)=R30(n);(4)x(n)=e^(jpi/4*n)u(n)</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa01013_shuchu.m</span></span><br><span class="line">N=<span class="number">100</span>;n=<span class="number">0</span>:N<span class="number">-1</span>;</span><br><span class="line">b=<span class="number">1</span>;a=[<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0.9</span>];<span class="comment">%这个好像是自己设置的</span></span><br><span class="line">x1=[n==<span class="number">0</span>];<span class="comment">%当成冲激函数</span></span><br><span class="line">y1=filter(b,a,x1);<span class="comment">%一维滤波器</span></span><br><span class="line">subplot(<span class="number">321</span>);stem(n,y1,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N,<span class="number">-1</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;y1(n)&#x27;</span>);</span><br><span class="line">x2=[n&gt;=<span class="number">0</span>];<span class="comment">%当成阶跃函数</span></span><br><span class="line">y2=filter(b,a,x2);</span><br><span class="line">subplot(<span class="number">322</span>);stem(n,y2,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N,<span class="number">-1</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;y2(n)&#x27;</span>);</span><br><span class="line">x3=[(n&gt;=<span class="number">0</span>)&amp;(n&lt;<span class="number">30</span>)];<span class="comment">%当成矩形函数</span></span><br><span class="line">y3=filter(b,a,x3);</span><br><span class="line">subplot(<span class="number">323</span>);stem(n,<span class="built_in">real</span>(y3),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N,<span class="number">-2</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;Re[y4(n)]&#x27;</span>);</span><br><span class="line">x4=<span class="built_in">exp</span>(<span class="built_in">j</span>*<span class="built_in">pi</span>*n/<span class="number">8</span>);<span class="comment">%exp默认是乘方？？？</span></span><br><span class="line">y4=filter(b,a,x4);</span><br><span class="line">subplot(<span class="number">325</span>);stem(n,<span class="built_in">real</span>(y4),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N,<span class="number">-2</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;Re[y4(n)]&#x27;</span>);</span><br><span class="line">subplot(<span class="number">326</span>);stem(n,<span class="built_in">imag</span>(y4),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N,<span class="number">-2</span>,<span class="number">2</span>]);ylabel(<span class="string">&#x27;Im[y4(n)]&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>上面的xn通过逻辑判断来生成对应的函数</p><p>y = filter(b,a,X) 滤除向量X中的数据，其中b是分子系数<strong>向量</strong>，a是分母系数<strong>向量</strong>。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200929203410.png" alt=""></p><h3 id="序列的傅里叶变换与信号重构"><a class="header-anchor" href="#序列的傅里叶变换与信号重构">¶</a>序列的傅里叶变换与信号重构</h3><p>ex01014: Xa(t)=e^(-1000(t))，求其傅里叶变换Xa(jw)。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa01014_bianhuan.m</span></span><br><span class="line">Dt=<span class="number">0.00005</span>;t=<span class="number">-0.005</span>:Dt:<span class="number">0.005</span>;<span class="comment">%模拟信号</span></span><br><span class="line">xa=<span class="built_in">exp</span>(<span class="number">-1000</span>*<span class="built_in">abs</span>(t));</span><br><span class="line">Wmax=<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">2000</span>;K=<span class="number">500</span>;k=<span class="number">0</span>:<span class="number">1</span>:K;W=k*Wmax/K;<span class="comment">%连续时间傅里叶变换</span></span><br><span class="line">Xa=xa*<span class="built_in">exp</span>(<span class="number">-1</span><span class="built_in">i</span>*t&#x27;*W)*Dt;Xa=<span class="built_in">real</span>(Xa);</span><br><span class="line">W=[-<span class="built_in">fliplr</span>(W),W(<span class="number">2</span>:<span class="number">501</span>)];</span><br><span class="line">Xa=[<span class="built_in">fliplr</span>(Xa),Xa(<span class="number">2</span>:<span class="number">501</span>)];</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">subplot <span class="number">211</span>;<span class="built_in">plot</span>(t*<span class="number">1000</span>,xa,<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;t in msec&#x27;</span>);ylabel(<span class="string">&#x27;xa(t)&#x27;</span>);gtext(<span class="string">&#x27;模拟信号&#x27;</span>);</span><br><span class="line">subplot <span class="number">212</span>;<span class="built_in">plot</span>(W/(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">1000</span>),Xa*<span class="number">1000</span>,<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Frequence in kHz&#x27;</span>);ylabel(<span class="string">&#x27;Xa(jw)*1000&#x27;</span>);gtext(<span class="string">&#x27;连续时间傅里叶变换&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>fliplr函数：矩阵翻转</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201002163344.png" alt=""></p><p>ex01015:以上例中的xa(t)，说明采样频率对频域特性的影响，分别取采样频率为fx=5000Hz和fa=1000Hz，绘出Xa(jw)曲线。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa01015</span></span><br><span class="line">Dt=<span class="number">0.00005</span>;t=<span class="number">-0.005</span>:Dt:<span class="number">0.005</span>;<span class="comment">%模拟信号</span></span><br><span class="line">xa=<span class="built_in">exp</span>(<span class="number">-1000</span>*<span class="built_in">abs</span>(t));</span><br><span class="line"></span><br><span class="line">Ts=<span class="number">0.0002</span>;n=<span class="number">-25</span>:<span class="number">1</span>:<span class="number">25</span>;</span><br><span class="line">x=<span class="built_in">exp</span>(<span class="number">-1000</span>*<span class="built_in">abs</span>(n*Ts));</span><br><span class="line">K=<span class="number">500</span>;k=<span class="number">0</span>:<span class="number">1</span>:K;w=<span class="built_in">pi</span>*k/K;</span><br><span class="line">X=x*<span class="built_in">exp</span>(-<span class="built_in">j</span>*n&#x27;*w);X=<span class="built_in">real</span>(X);</span><br><span class="line">w=[-<span class="built_in">fliplr</span>(w),w(<span class="number">2</span>:<span class="number">501</span>)];<span class="comment">%第二位元素到501位元素</span></span><br><span class="line">X=[<span class="built_in">fliplr</span>(X),X(<span class="number">2</span>:<span class="number">501</span>)];</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot <span class="number">211</span>;<span class="built_in">plot</span>(t*<span class="number">1000</span>,xa,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;xal(t)&#x27;</span>);</span><br><span class="line">gtext(<span class="string">&#x27;离散信号&#x27;</span>);<span class="built_in">hold</span> on</span><br><span class="line">stem(n*Ts*<span class="number">1000</span>,x);<span class="built_in">hold</span> off</span><br><span class="line">subplot <span class="number">212</span>;<span class="built_in">plot</span>(w/<span class="built_in">pi</span>,X,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;Xi(jw)&#x27;</span>);</span><br><span class="line">gtext(<span class="string">&#x27;离散时间傅里叶变换&#x27;</span>);gtext(<span class="string">&#x27;Ts=0.2msec&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201005213708.png" alt=""></p><p>ex01016:对上面产生的离散序列x1(n)和x2(n)，采用sinc函数进行内插重构。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa01016</span></span><br><span class="line">clear</span><br><span class="line">Ts1=<span class="number">0.0002</span>;Fs1=<span class="number">1</span>/Ts1;n1=<span class="number">-25</span>:<span class="number">1</span>:<span class="number">25</span>;nTs1=n1*Ts1;</span><br><span class="line">x1=<span class="built_in">exp</span>(<span class="number">-1000</span>*<span class="built_in">abs</span>(nTs1));</span><br><span class="line">Ts2=<span class="number">0.001</span>;Fs2=<span class="number">1</span>/Ts2;n2=<span class="number">-5</span>:<span class="number">1</span>:<span class="number">5</span>;nTs2=n2*Ts2;</span><br><span class="line">x2=<span class="built_in">exp</span>(<span class="number">-1000</span>*<span class="built_in">abs</span>(nTs2));</span><br><span class="line"></span><br><span class="line">Dt=<span class="number">0.00005</span>;t=<span class="number">-0.5</span>:Dt:<span class="number">0.005</span>;<span class="comment">%模拟信号重构</span></span><br><span class="line">xa1=x1*sinc(Fs1*(<span class="built_in">ones</span>(<span class="built_in">length</span>(nTs1),<span class="number">1</span>)*t - nTs1&#x27;*<span class="built_in">ones</span>(<span class="number">1</span>,<span class="built_in">length</span>(t))));</span><br><span class="line">xa2=x2*sinc(Fs2*(<span class="built_in">ones</span>(<span class="built_in">length</span>(nTs2),<span class="number">1</span>)*t - nTs2&#x27;*<span class="built_in">ones</span>(<span class="number">1</span>,<span class="built_in">length</span>(t))));</span><br><span class="line"></span><br><span class="line">subplot <span class="number">211</span>;<span class="built_in">plot</span>(t*<span class="number">1000</span>,xa1,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;xa1(t)&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;从x1(n)重构模拟信号xa(t)&#x27;</span>);<span class="built_in">hold</span> on</span><br><span class="line">stem(n1*Ts1*<span class="number">1000</span>,x1);<span class="built_in">hold</span> off</span><br><span class="line">subplot <span class="number">212</span>;<span class="built_in">plot</span>(t*<span class="number">1000</span>,xa2,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;xa2(t)&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;从x2(n)重构模拟信号xa(t)&#x27;</span>);<span class="built_in">hold</span> on</span><br><span class="line">stem(n2*Ts2*<span class="number">1000</span>,x2);<span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201005213701.png" alt=""></p><h2 id="第二章-v2"><a class="header-anchor" href="#第二章-v2">¶</a>第二章</h2><h3 id="MATLAB几个信号处理工具箱函数"><a class="header-anchor" href="#MATLAB几个信号处理工具箱函数">¶</a>MATLAB几个信号处理工具箱函数</h3><ol><li>residuez:求极点留数分解</li></ol><p>Y(z)=X(z)H(z)=B(z)/A(z)</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201006095659.png" alt=""></p><p>从上式可得出时域信号为</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201006095651.png" alt=""></p><p>调用格式为：[r,p,k]=residuez(B,A)</p><ol start="2"><li>impz:求H(z)的Z的反变换h(n)</li></ol><p>[h,T]=impz(B,A,N)</p><blockquote><p>h为存放h(n)的列向量，时间变量N存放在列向量T中，当N为标量时，表示T=[0:N-1]’，计算h(n)，n=0,1,2，···，N-1;当N为向量时，T=N,仅计算N指定的整数上的h(n)。</p></blockquote><ol start="3"><li>freqz：求数字滤波器H(z)的频率响应函数</li></ol><p>H=freqz[B,A,M]</p><p>计算由向量w指定的数字频率点上数字滤波器H(z)的频率响应，结果存在H向量中。</p><p>[H,w]=freqz[B,A,M]</p><p>计算出M个频率点上的频率响应，存放在H向量中，M个频率存放在w向量中，freqz函数自动将这M个频率点均匀设置在频率范围[0,Π]之间。</p><blockquote><p>若省略w和M时，函数自动选取512个频率点计算。</p></blockquote><ol start="4"><li>zplane:绘制H(z)的零极点图</li></ol><p>zplane(z,p)</p><p>绘制出列向量z中的零点（以符号“ 。”表示）和列向量p中的极点（以符号“X”表示）以及参考单位圆，并在多阶零点和极点的右上角标出其阶数。若z和p为矩阵，则会以不同颜色绘出z和p各列中的零点和极点。</p><p>zplane(B,A)</p><blockquote><p>绘制出系统函数H(z)的零极点图</p></blockquote><h3 id="绘制离散系统的极零图"><a class="header-anchor" href="#绘制离散系统的极零图">¶</a>绘制离散系统的极零图</h3><p>离散系统的系统函数零点和极点可以用MATLAB的多项式求根函数roots()来实现，调用该函数的命令格式为：</p><p>p=roots(A)</p><blockquote><p>A为待求根的多项式的系数构成的行向量，返回向量p则包含该多项式所有的根位置列向量。</p></blockquote><p>下面是求系统函数零极点，并绘制其零极点图的MATLAB实用函数ljdt()，该函数在绘制系统零极点图的同时，还绘出了Z平面的单位圆。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ljdt</span><span class="params">(A,B)</span></span></span><br><span class="line"><span class="comment">%The function to draw the pole-zero diagram for discrete system</span></span><br><span class="line">p=roots(A);<span class="comment">%求系统极点</span></span><br><span class="line">q=roots(B);<span class="comment">%求系统零点</span></span><br><span class="line">p=p&#x27;;<span class="comment">%将极点列向量转置为行向量</span></span><br><span class="line">q=q&#x27;;<span class="comment">%将零点列向量转置为行向量</span></span><br><span class="line">x=<span class="built_in">max</span>(<span class="built_in">abs</span>([p q <span class="number">1</span>]));<span class="comment">%确定纵坐标范围</span></span><br><span class="line">x=x+<span class="number">0.1</span>;</span><br><span class="line">y=x;<span class="comment">%确定横坐标范围</span></span><br><span class="line">clf</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">axis([-x x -y y])<span class="comment">%确定坐标轴显示范围</span></span><br><span class="line">w=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">300</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">t=<span class="built_in">exp</span>(<span class="built_in">i</span>*w);</span><br><span class="line"><span class="built_in">plot</span>(t)<span class="comment">%画单位圆</span></span><br><span class="line">axis(<span class="string">&#x27;square&#x27;</span>)</span><br><span class="line"><span class="built_in">plot</span>([-x x],[<span class="number">0</span> <span class="number">0</span>])<span class="comment">%画横坐标轴</span></span><br><span class="line"><span class="built_in">plot</span>([<span class="number">0</span> <span class="number">0</span>],[-y y])<span class="comment">%画纵坐标轴</span></span><br><span class="line">text(<span class="number">0.1</span>,x,<span class="string">&#x27;jIm[z]&#x27;</span>)</span><br><span class="line">text(y,<span class="number">1</span>/<span class="number">10</span>,<span class="string">&#x27;Re[z]&#x27;</span>)</span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">real</span>(p),<span class="built_in">imag</span>(p),<span class="string">&#x27;x&#x27;</span>)<span class="comment">%画极点</span></span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">real</span>(q),<span class="built_in">imag</span>(q),<span class="string">&#x27;o&#x27;</span>)<span class="comment">%画零点</span></span><br><span class="line">title(<span class="string">&#x27;pole-zero diagram for discrete system&#x27;</span>)<span class="comment">%标注标题</span></span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure><p>exa02026:已知某离散系统的系统函数为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>z</mi><mo>+</mo><mn>1</mn></mrow><mrow><mn>3</mn><msup><mi>z</mi><mn>5</mn></msup><mo>−</mo><msup><mi>z</mi><mn>4</mn></msup><mo>+</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">H(z)=\frac{z+1}{3z^5-z^4+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>试用MATLAB求出该系统的零极点，并画出零极点分布图，判断系统是否稳定。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02026</span></span><br><span class="line"><span class="comment">%绘制零极点分布图的实现程序</span></span><br><span class="line">a=[<span class="number">3</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>];</span><br><span class="line">b=[<span class="number">1</span> <span class="number">1</span>];</span><br><span class="line">ljdt(a,b)</span><br><span class="line">p=roots(a);</span><br><span class="line">q=roots(b);</span><br><span class="line">pa=<span class="built_in">abs</span>(p);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201009193128.png" alt=""></p><p>exa02027:已知某离散系统的系统函数为</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msup><mi>z</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>z</mi><mo>+</mo><mn>1</mn></mrow><mrow><msup><mi>z</mi><mn>3</mn></msup><mo>−</mo><mn>0.5</mn><msup><mi>z</mi><mn>2</mn></msup><mo>−</mo><mn>0.005</mn><mi>z</mi><mo>+</mo><mn>0.3</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">H(z)=\frac{z^2+2z+1}{z^3-0.5z^2-0.005z+0.3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4212509999999998em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01792em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">5</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">5</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mbin mtight">+</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>试用MATLAB求该系统的零极点，并画出零极点分布图，求系统的单位冲激响应和幅频响应，并判断系统是否稳定。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02027</span></span><br><span class="line"><span class="comment">%由系统函数求解系统脉冲响应，频率响应实现程序</span></span><br><span class="line">b=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span>];</span><br><span class="line">a=[<span class="number">1</span> <span class="number">-0.5</span> <span class="number">-0.005</span> <span class="number">0.3</span>];</span><br><span class="line">subplot <span class="number">311</span>;</span><br><span class="line">zplane(b,a);<span class="comment">%绘制H(z)的零极点图</span></span><br><span class="line">xlabel(<span class="string">&#x27;实部&#x27;</span>);ylabel(<span class="string">&#x27;虚部&#x27;</span>);</span><br><span class="line">num=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span>];</span><br><span class="line">den=[<span class="number">1</span> <span class="number">-0.5</span> <span class="number">-0.005</span> <span class="number">0.3</span>];</span><br><span class="line">h=impz(num,den);</span><br><span class="line">subplot <span class="number">312</span>;</span><br><span class="line">stem(h);xlabel(<span class="string">&#x27;k&#x27;</span>);title(<span class="string">&#x27;单位脉冲响应&#x27;</span>);</span><br><span class="line">[H,w]=freqz(num,den);<span class="comment">%求数字滤波器H(z)的频率响应函数</span></span><br><span class="line">subplot <span class="number">313</span>;</span><br><span class="line"><span class="built_in">plot</span>(w/<span class="built_in">pi</span>,<span class="built_in">abs</span>(H));</span><br><span class="line">xlabel(<span class="string">&#x27;频率\omega&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;频率响应&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201009193141.png" alt=""></p><h3 id="分析离散系统的零极图分布与系统单位响应时域特性的关系"><a class="header-anchor" href="#分析离散系统的零极图分布与系统单位响应时域特性的关系">¶</a>分析离散系统的零极图分布与系统单位响应时域特性的关系</h3><p>exa02028:已知离散系统的零极分布分别如图2.12所示，其中虚线表示单位圆，试用MATLAB分析系统单位响应h(n)的时域特性。</p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201009200621.png" alt="图2.12 离散系统的零极分布图"></p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02028</span></span><br><span class="line"><span class="comment">%零极点分布与单位响应的关系实现程序</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-1</span>];b=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">321</span></span><br><span class="line">impz(b,a);<span class="comment">%求H(z)的Z的反变换h(n)，画出图像</span></span><br><span class="line">a1=[<span class="number">1</span>,<span class="number">-0.8</span>];b1=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">322</span></span><br><span class="line">impz(b1,a1,<span class="number">10</span>);</span><br><span class="line">a2=[<span class="number">1</span>,<span class="number">-2</span>];b2=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">323</span></span><br><span class="line">impz(b2,a2,<span class="number">10</span>);</span><br><span class="line">a3=[<span class="number">1</span>, <span class="number">-2</span>*<span class="number">0.8</span>*<span class="built_in">cos</span>(<span class="built_in">pi</span>/<span class="number">4</span>),<span class="number">0.8</span>^<span class="number">2</span>];</span><br><span class="line">b3=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">324</span></span><br><span class="line">impz(b3,a3,<span class="number">20</span>);</span><br><span class="line">a4=[<span class="number">1</span>,<span class="number">-2</span>*<span class="number">0.8</span>*<span class="built_in">cos</span>(<span class="built_in">pi</span>/<span class="number">8</span>),<span class="number">1</span>];b4=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">325</span></span><br><span class="line">impz(b4,a4,<span class="number">20</span>)</span><br><span class="line">a5=[<span class="number">1</span>,<span class="number">-2</span>*<span class="number">1.2</span>*<span class="built_in">cos</span>(<span class="built_in">pi</span>/<span class="number">4</span>),<span class="number">1.2</span>^<span class="number">2</span>];b5=[<span class="number">1</span>];</span><br><span class="line">subplot <span class="number">326</span></span><br><span class="line">impz(b5,a5,<span class="number">20</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201010110839.png" alt=""></p><p>exa02029:求一因果线性移不变系统<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.81</mn><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>−</mo><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(n)=0.81y(n-2)+x(n)-x(n-2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>的单位抽样响应h(n)，单位阶跃响应g(n)，并绘出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mrow><mi>j</mi><mi>w</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(e^{jw})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的幅频和相频特性。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02029</span></span><br><span class="line">b=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>];a=[<span class="number">1</span> <span class="number">0</span> <span class="number">-0.81</span>];</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">subplot <span class="number">211</span>;dimpulse(b,a,<span class="number">50</span>);ylabel(<span class="string">&#x27;h(n)&#x27;</span>);</span><br><span class="line">subplot <span class="number">212</span>;dstep(b,a,<span class="number">50</span>);ylabel(<span class="string">&#x27;g(n)&#x27;</span>);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line">w=[<span class="number">0</span>:<span class="number">1</span>:<span class="number">500</span>]*<span class="built_in">pi</span>/<span class="number">500</span>;</span><br><span class="line">freqz(b,a,w)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201010114343.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201010114351.png" alt=""></p><p>exa02030:梳状滤波器零极点和幅频特性。梳状滤波器系统函数有如下两种类型：</p><p>FIR型：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>H</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><msup><mi>z</mi><mrow><mo>−</mo><mi>N</mi></mrow></msup></mrow><annotation encoding="application/x-tex">H_1(z)=1-z^{-N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span>IIR型：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>H</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><msup><mi>z</mi><mrow><mo>−</mo><mi>N</mi></mrow></msup></mrow><mrow><mn>1</mn><mo>−</mo><msup><mi>a</mi><mi>N</mi></msup><msup><mi>z</mi><mrow><mo>−</mo><mi>N</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">H_2(z)=\frac{1-z^{-N}}{1-a^{N}z^{-N}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4475609999999999em;vertical-align:-0.4101959999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0373649999999999em;"><span style="top:-2.648135em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9190928571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4101959999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>分别令N=8,a=0.8,0.9,0.98计算并图示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>H</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mi mathvariant="normal">和</mi><msub><mi>H</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H_1(z)和H_2(z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mord cjk_fallback">和</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>的零、极点图及幅频特性，说明极点位置的影响。</p><p>☑️增加了相频特性曲线</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02030</span></span><br><span class="line">b=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>];</span><br><span class="line">a0=<span class="number">1</span>;</span><br><span class="line">a1=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-(<span class="number">0.8</span>)^<span class="number">8</span>];</span><br><span class="line">a2=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-(<span class="number">0.9</span>)^<span class="number">8</span>];</span><br><span class="line">a3=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,-(<span class="number">0.98</span>)^<span class="number">8</span>];</span><br><span class="line">[H,w]=freqz(b,a0);</span><br><span class="line">[H1,w1]=freqz(b,a1);</span><br><span class="line">[H2,w2]=freqz(b,a2);</span><br><span class="line">[H3,w3]=freqz(b,a3);</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">subplot <span class="number">221</span>;zplane(b,a0);xlabel(<span class="string">&#x27;实部&#x27;</span>);ylabel(<span class="string">&#x27;虚部&#x27;</span>);title(<span class="string">&#x27;FIR梳状滤波器零点图&#x27;</span>)</span><br><span class="line">subplot <span class="number">222</span>;zplane(b,a1);xlabel(<span class="string">&#x27;实部&#x27;</span>);ylabel(<span class="string">&#x27;虚部&#x27;</span>);title(<span class="string">&#x27;IIR梳状滤波器零极点图a=0.8&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;zplane(b,a2);xlabel(<span class="string">&#x27;实部&#x27;</span>);ylabel(<span class="string">&#x27;虚部&#x27;</span>);title(<span class="string">&#x27;IIR梳状滤波器零极点图a=0.9&#x27;</span>)</span><br><span class="line">subplot <span class="number">224</span>;zplane(b,a3);xlabel(<span class="string">&#x27;实部&#x27;</span>);ylabel(<span class="string">&#x27;虚部&#x27;</span>);title(<span class="string">&#x27;IIR梳状滤波器零极点图a=0.98&#x27;</span>)</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line">subplot <span class="number">221</span>;<span class="built_in">plot</span>(w/<span class="built_in">pi</span>,<span class="built_in">abs</span>(H));title(<span class="string">&#x27;FIR梳状滤波器幅频响应曲线&#x27;</span>)</span><br><span class="line">subplot <span class="number">222</span>;<span class="built_in">plot</span>(w1/<span class="built_in">pi</span>,<span class="built_in">abs</span>(H1));title(<span class="string">&#x27;IIR梳状滤波器幅频响应曲线a=0.8&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;<span class="built_in">plot</span>(w2/<span class="built_in">pi</span>,<span class="built_in">abs</span>(H2));title(<span class="string">&#x27;IIR梳状滤波器幅频响应曲线a=0.9&#x27;</span>)</span><br><span class="line">subplot <span class="number">224</span>;<span class="built_in">plot</span>(w3/<span class="built_in">pi</span>,<span class="built_in">abs</span>(H3));title(<span class="string">&#x27;IIR梳状滤波器幅频响应曲线a=0.98&#x27;</span>)</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)<span class="comment">%相频响应</span></span><br><span class="line">subplot <span class="number">221</span>;<span class="built_in">plot</span>(w/<span class="built_in">pi</span>,<span class="built_in">angle</span>(H));title(<span class="string">&#x27;FIR梳状滤波器相频响应曲线&#x27;</span>)<span class="comment">%取相位值对应相位角</span></span><br><span class="line">subplot <span class="number">222</span>;<span class="built_in">plot</span>(w1/<span class="built_in">pi</span>,<span class="built_in">angle</span>(H1));title(<span class="string">&#x27;IIR梳状滤波器相频响应曲线a=0.8&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;<span class="built_in">plot</span>(w2/<span class="built_in">pi</span>,<span class="built_in">angle</span>(H2));title(<span class="string">&#x27;IIR梳状滤波器相频响应曲线a=0.9&#x27;</span>)</span><br><span class="line">subplot <span class="number">224</span>;<span class="built_in">plot</span>(w3/<span class="built_in">pi</span>,<span class="built_in">angle</span>(H3));title(<span class="string">&#x27;IIR梳状滤波器相频响应曲线a=0.98&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>angle()函数：取相位值对应相位角，相当于相频响应</p><p>abs()函数：求复数的模值，幅频响应</p><p>real()函数：求复数实部</p><p>imag()函数：求复数的虚部</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201011114720.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201011114801.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201011114827.png" alt=""></p><p>exa02031:求解差分方程<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>−</mo><mn>0.4</mn><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>−</mo><mn>0.45</mn><mi>y</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0.45</mn><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mn>0.4</mn><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>−</mo><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(n)-0.4y(n-1)-0.45y(n-2)=0.45x(n)+0.4x(n-1)-x(n-2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">5</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">5</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>，其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.</mn><msup><mn>8</mn><mi>n</mi></msup><mi>ϵ</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(n)=0.8^{n}\epsilon(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">ϵ</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，初始状态<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">(</mo><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">(</mo><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">y(-1)=0,y(-2)=1,x(-1)=1,x(-2)=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。</p><p>求解：可得Z变换<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mn>0.45</mn><mo>+</mo><mn>0.4</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><msup><mi>z</mi><mrow><mo>−</mo><mn>2</mn></mrow></msup></mrow><mrow><mn>1</mn><mo>−</mo><mn>0.</mn><msup><mn>4</mn><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>0.45</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>2</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">H(z)=\frac{0.45+0.4z^{-1}-z^{-2}}{1-0.4^{-1}-0.45z^{-2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4212509999999998em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01792em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight"><span class="mord mtight">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">4</span><span class="mord mtight">5</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">4</span><span class="mord mtight">5</span><span class="mbin mtight">+</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">4</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><div class='tip'><p>B是分子上的系数，A是分母上的系数</p></div><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa02031</span></span><br><span class="line"><span class="comment">%求差分方程的解的实现程序</span></span><br><span class="line">num=[<span class="number">0.45</span>,<span class="number">0.4</span>,<span class="number">-1</span>];</span><br><span class="line">den=[<span class="number">1</span>,<span class="number">-0.4</span>,<span class="number">-0.45</span>];</span><br><span class="line">x0=[<span class="number">1</span>,<span class="number">2</span>];y0=[<span class="number">0</span> <span class="number">1</span>];</span><br><span class="line">N=<span class="number">50</span>;</span><br><span class="line">n=[<span class="number">0</span>:N<span class="number">-1</span>]&#x27;;<span class="comment">%单引号是转置,成为列向量</span></span><br><span class="line">x=<span class="number">0.8</span>.^n;</span><br><span class="line">Zi=filtic(num,den,y0,x0);</span><br><span class="line">[y,Zf]=filter(num,den,x,Zi);</span><br><span class="line"><span class="built_in">plot</span>(n,x,<span class="string">&#x27;r--&#x27;</span>,n,y,<span class="string">&#x27;b--&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;响应&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;n&#x27;</span>);ylabel(<span class="string">&#x27;x(n)-y(n)&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;输入x&#x27;</span>,<span class="string">&#x27;输出y&#x27;</span>,<span class="string">&#x27;location&#x27;</span>,<span class="string">&#x27;NorthEast&#x27;</span>);<span class="comment">%相当于legend(&#x27;输入x&#x27;,&#x27;输出y&#x27;)</span></span><br><span class="line">grid;</span><br></pre></td></tr></table></figure><blockquote><p>legend()函数：注释视图</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201011154036.png" alt=""></p><h3 id="利用MATLAB实现Z域的部分分式展开式"><a class="header-anchor" href="#利用MATLAB实现Z域的部分分式展开式">¶</a>利用MATLAB实现Z域的部分分式展开式</h3><p>MATLAB提供了一个对F(z)进行部分分式展开的函数residuez()，其调用格式为</p><p>[r,p,k]=residuez(num,den)</p><blockquote><p>式中，num和den分别为F(z)的分子多项式和分母多项式的系数向量，r为部分分式的系数向量，p为极点向量，k为多项式的系数向量。</p></blockquote><p>exa02032:利用MATLAB计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>18</mn><mrow><mn>18</mn><mo>+</mo><mn>3</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>4</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>2</mn></mrow></msup><mo>−</mo><msup><mi>z</mi><mrow><mo>−</mo><mn>3</mn></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">F(z)=\frac{18}{18+3z^{-1}-4z^{-2}-z^{-3}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2484389999999999em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">8</span><span class="mbin mtight">+</span><span class="mord mtight">3</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">4</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的部分分式展开式。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa02032</span></span><br><span class="line"><span class="comment">%部分分式展开式的实现程序</span></span><br><span class="line">num=[<span class="number">18</span>];den=[<span class="number">18</span> <span class="number">3</span> <span class="number">-4</span> <span class="number">-1</span>];</span><br><span class="line">[r,p,k]=residuez(num,den)</span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; exa02032</span><br><span class="line"></span><br><span class="line">r =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.3600</span></span><br><span class="line">    <span class="number">0.2400</span></span><br><span class="line">    <span class="number">0.4000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.5000</span></span><br><span class="line">   <span class="number">-0.3333</span></span><br><span class="line">   <span class="number">-0.3333</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">k =</span><br><span class="line"></span><br><span class="line">     []</span><br></pre></td></tr></table></figure><h3 id="利用MATLAB实现Z变换和Z反变换"><a class="header-anchor" href="#利用MATLAB实现Z变换和Z反变换">¶</a>利用MATLAB实现Z变换和Z反变换</h3><p>MATLAB的符号数学工具箱提供了计算Z变换的函数<code>ztrans()</code>和Z反变换的函数<code>iztrans()</code>，其调用格式为</p><p>F=ztrans(f)f=iztrans(F)</p><p>上边两式中，右端的f和F分别为时域表示式和Z域表示式的符号表示，可应用函数sym来实现，其调用格式为</p><p>S=sym(‘A’)</p><blockquote><p>式中，A为待分析的表示式的字符串，S为符号化的数字或变量</p></blockquote><p>exa02033:求(1)  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>a</mi><mi>k</mi><mo stretchy="false">)</mo><mi>u</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)=cos(ak)u(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>的Z变换；</p><p>(2) <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>a</mi><mi>z</mi></mrow><mrow><mo stretchy="false">(</mo><mi>z</mi><mo>−</mo><mi>a</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">F(z)=\frac{az}{(z-a)^{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.215392em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">a</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的Z反变换。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa02033</span></span><br><span class="line">f1=sym(<span class="string">&#x27;cos(a*k)&#x27;</span>);</span><br><span class="line">F1=ztrans(f1)</span><br><span class="line"></span><br><span class="line">F2=sym(<span class="string">&#x27;a*z/(z-a)^2&#x27;</span>);</span><br><span class="line">f2=iztrans(F2)</span><br></pre></td></tr></table></figure><p>exa02034:常用信号的Z变换。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa02034</span></span><br><span class="line"><span class="comment">% 指数序列的Z变换的程序实现</span></span><br><span class="line">f1=sym(<span class="string">&#x27;a^n&#x27;</span>);</span><br><span class="line">F1=ztrans(f1)</span><br><span class="line"><span class="comment">%阶跃序列的Z变换的程序实现</span></span><br><span class="line">f2=sym(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">F2=ztrans(f2)</span><br><span class="line"><span class="comment">%单位序列的Z变换的程序实现</span></span><br><span class="line">f3=sym(<span class="string">&#x27;charfcn[0](n)&#x27;</span>);</span><br><span class="line">F3=ztrans(f3)</span><br></pre></td></tr></table></figure><p>exa02035:计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>0.9</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>0.9</mn><msup><mi>z</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">X(z)=\frac{1}{(1-0.9z^{-1})^{2}(1+0.9z^{-1})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">9</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">0</span><span class="mord mtight">.</span><span class="mord mtight">9</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>z</mi><mi mathvariant="normal">∣</mi><mo>&gt;</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">|z|&gt;0.9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span></span></span></span>的Z反变换。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">b=<span class="number">1</span>;</span><br><span class="line">a=poly([<span class="number">0.9</span> <span class="number">0.9</span> <span class="number">-0.9</span>]);</span><br><span class="line">[r,p,k]=residuez(b,a)</span><br></pre></td></tr></table></figure><h2 id="第三章-v2"><a class="header-anchor" href="#第三章-v2">¶</a>第三章</h2><h3 id="MATLAB信号处理工具箱提供一些函数"><a class="header-anchor" href="#MATLAB信号处理工具箱提供一些函数">¶</a>MATLAB信号处理工具箱提供一些函数</h3><ol><li>fft和ifft：一维快速正傅里叶变换和逆傅里叶变换</li></ol><p>X=fft(x,N)</p><ol start="2"><li>fft2和ifft2：二维快速正傅里叶变换和逆傅里叶变换</li></ol><p>Y=fft2(x)</p><p>Y=fft2(x,m,n)</p><blockquote><p>指定对X截断或补零，使之成为<code>m*n</code>矩阵，然后再做二维FFT，因此其结果Y也为<code>m*n</code>。</p></blockquote><ol start="3"><li>czt：线性调频Z变换</li></ol><p>y=czt(x,m,w,s)</p><blockquote><p>此函数计算由<code>z=a*w.^(-(0:m-1))</code>定义的Z平面旋螺线上各点的Z变换，a规定起点，w规定相邻点的比例，m规定了变换的长度，后三个变量默认值为<code>a=1,w=exp(j*2*pi/m)</code>及<code>m=length(x)</code>，因此<code>y=czt(x)</code>就等于<code>y=fft(x)</code>。</p></blockquote><ol start="4"><li>dct和idct：离散余弦正变换和离散余弦逆变换</li></ol><p>y=dct(x,N)</p><blockquote><p>N的默认值为length(x)</p></blockquote><ol start="5"><li>fftshift</li></ol><p>Y=fftshift(X)</p><blockquote><p>用来重新排列X=fft(x)的输出，当X为向量时，把X的左右两边进行交换，从而将零频分量移至频谱的中心；如果X为二维傅里叶变换的结果，它同时将X的左右和上下部分进行交换。</p></blockquote><ol start="6"><li>fftfilt</li></ol><p>y=fftfilt(b,x)</p><blockquote><p>采用重合相加法FFT对信号向量x快速滤波，得到输出序列向量y，向量b为FIR滤波器的单位脉冲响应，<code>h(n)=b(n+1),n=0,1,···，length(b)-1</code>。</p></blockquote><p>y=fftfilt(b,x,N)</p><blockquote><p>自动选取FFT长度NF=2<sup>nextpow2(N),输入数据x分段长度M=NF-length(b)+1,其中nextpow2(N)函数求得一个整数，满足：2</sup>(nextpow2(N)-1)&lt;=N&lt;=2^nextpow(N)</p><p>N省略时，fftfilt自动选择合适的FFT长度NF和对x的分段长度M。</p></blockquote><h3 id="MTALB实现序列的移位和周期延拓运算"><a class="header-anchor" href="#MTALB实现序列的移位和周期延拓运算">¶</a>MTALB实现序列的移位和周期延拓运算</h3><p>exa03010:已知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.</mn><msup><mn>8</mn><mi>n</mi></msup><msub><mi>R</mi><mn>8</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(n)=0.8^nR_8(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，利用MATLAB生成并图示x(n),x(n-m),<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mn>8</mn></msub><msub><mi>R</mi><mi>N</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x((n))_8R_N(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>,其中N=24,0&lt;m&lt;N,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mn>8</mn></msub></mrow><annotation encoding="application/x-tex">x((n))_8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示x(n)以8为周期的延拓。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa03010</span></span><br><span class="line">N=<span class="number">24</span>;M=<span class="number">8</span>;m=<span class="number">3</span>;<span class="comment">%设位移值3</span></span><br><span class="line">n=<span class="number">0</span>:N<span class="number">-1</span>;</span><br><span class="line">x1=<span class="number">0.8</span>.^n;x2=[(n&gt;=<span class="number">0</span>)&amp;(n&lt;M)];</span><br><span class="line">xn=x1.*x2;<span class="comment">%产生x(n)</span></span><br><span class="line">[xm,nm]=sigshift(xn,n,m);<span class="comment">%产生x(n-m)</span></span><br><span class="line">xc=xn(<span class="built_in">mod</span>(n,<span class="number">8</span>)+<span class="number">1</span>);<span class="comment">%产生x(n)的周期延拓，求余后加1是因为MATLAB向量下标从1开始</span></span><br><span class="line">xcm=xn(<span class="built_in">mod</span>(n-m,<span class="number">8</span>)+<span class="number">1</span>);<span class="comment">%产生x(n)移位后的周期延拓</span></span><br><span class="line"><span class="comment">%mod函数是求余</span></span><br><span class="line">subplot <span class="number">221</span>;stem(n,xn,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="built_in">length</span>(n),<span class="number">0</span>,<span class="number">1</span>]);title(<span class="string">&#x27;x(n)&#x27;</span>)</span><br><span class="line">subplot <span class="number">222</span>;stem(nm,xm,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="built_in">length</span>(nm),<span class="number">0</span>,<span class="number">1</span>]);title(<span class="string">&#x27;x(n-m)&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;stem(n,xc,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="built_in">length</span>(n),<span class="number">0</span>,<span class="number">1</span>]);title(<span class="string">&#x27;x(n)的周期延拓&#x27;</span>)</span><br><span class="line">subplot <span class="number">224</span>;stem(n,xcm,<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="built_in">length</span>(n),<span class="number">0</span>,<span class="number">1</span>]);title(<span class="string">&#x27;x(n)的循环移位&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201103164050.png" alt=""></p><h3 id="MATLAB实现基本序列的离散傅里叶变换计算"><a class="header-anchor" href="#MATLAB实现基本序列的离散傅里叶变换计算">¶</a>MATLAB实现基本序列的离散傅里叶变换计算</h3><p>exa03011：已知复正弦序列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>e</mi><mrow><mi>j</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Π</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mi>n</mi></mrow></msup><msub><mi>R</mi><mi>N</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_1(n)=e^{j(Π/2)n}R_N(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mopen mtight">(</span><span class="mord mtight">Π</span><span class="mord mtight">/</span><span class="mord mtight">2</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>,余弦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>p</mi><mi>i</mi></mrow><mn>8</mn></mfrac><mi>n</mi><mo stretchy="false">)</mo><msub><mi>R</mi><mi>N</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_2(n)=cos(\frac{pi}{8}n)R_N(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.252772em;vertical-align:-0.345em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.907772em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>,分别对序列对序列求当N=16和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">N_1=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span>时的DFT，并绘出幅频特性曲线，并分析两种N值下DFT是否有差别，及产生原因。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa03011</span></span><br><span class="line">N=<span class="number">16</span>;N1=<span class="number">8</span>;</span><br><span class="line">n=<span class="number">0</span>:N<span class="number">-1</span>;k=<span class="number">0</span>:N1<span class="number">-1</span>;</span><br><span class="line">x1n=<span class="built_in">exp</span>(<span class="built_in">j</span>*<span class="built_in">pi</span>*n/<span class="number">8</span>);<span class="comment">%产生x1(n)</span></span><br><span class="line">X1k=fft(x1n,N);<span class="comment">%计算N点的DFT[x1(n)]</span></span><br><span class="line">X2k=fft(x1n,N1);<span class="comment">%计算N1点DFT[x1(n)]</span></span><br><span class="line">x2n=<span class="built_in">cos</span>(<span class="built_in">pi</span>*n/<span class="number">8</span>);<span class="comment">%产生x2(n)</span></span><br><span class="line">X3k=fft(x2n,N);<span class="comment">%计算N点DFT[x2(n)]</span></span><br><span class="line">X4k=fft(x2n,N1);<span class="comment">%计算N1点DFT[x2(n)]</span></span><br><span class="line"></span><br><span class="line">subplot <span class="number">221</span>;stem(n,<span class="built_in">abs</span>(X1k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="number">20</span>,<span class="number">0</span>,<span class="number">20</span>]);ylabel(<span class="string">&#x27;|X1(k)|&#x27;</span>);title(<span class="string">&#x27;16点的DFT[x1(n)]&#x27;</span>)</span><br><span class="line">subplot <span class="number">222</span>;stem(n,<span class="built_in">abs</span>(X3k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="number">20</span>,<span class="number">0</span>,<span class="number">20</span>]);ylabel(<span class="string">&#x27;|X2(k)|&#x27;</span>);title(<span class="string">&#x27;16点DFT[x2(n)]&#x27;</span>)</span><br><span class="line">subplot <span class="number">223</span>;stem(k,<span class="built_in">abs</span>(X2k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="number">20</span>,<span class="number">0</span>,<span class="number">20</span>]);ylabel(<span class="string">&#x27;|X1(k)|&#x27;</span>);title(<span class="string">&#x27;8点DFT[x1(n)]&#x27;</span>)</span><br><span class="line">subplot <span class="number">224</span>;stem(k,<span class="built_in">abs</span>(X4k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,<span class="number">20</span>,<span class="number">0</span>,<span class="number">20</span>]);ylabel(<span class="string">&#x27;|X2(k)|&#x27;</span>);title(<span class="string">&#x27;8点DFT[x2(n)]&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201103210358.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201103210727.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201103210740.png" alt=""></p><h3 id="MATLAB验证N点DFT的物理意义"><a class="header-anchor" href="#MATLAB验证N点DFT的物理意义">¶</a>MATLAB验证N点DFT的物理意义</h3><p>exa03012：已知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>R</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(n)=R_1(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mrow><mi>j</mi><mi>w</mi></mrow></msup><mo stretchy="false">)</mo><mo>=</mo><mi>F</mi><mi>T</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mn>4</mn><mi>w</mi></mrow></msup></mrow><mrow><mn>1</mn><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">X(e^{jw})=FT[x(n)]=\frac{1-e^{-j4w}}{1-e^{-jw}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.428791em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.02546em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7570857142857144em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9020857142857144em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">4</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，绘制相应的幅频和相频曲线，并计算图示N=8和N=16时的DFT。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%exa03012</span></span><br><span class="line">N1=<span class="number">8</span>;N2=<span class="number">16</span>;</span><br><span class="line">n=<span class="number">0</span>:N1<span class="number">-1</span>;k1=<span class="number">0</span>:N1<span class="number">-1</span>;k2=<span class="number">0</span>:N2<span class="number">-1</span>;</span><br><span class="line">w=<span class="number">2</span>*<span class="built_in">pi</span>*(<span class="number">0</span>:<span class="number">2047</span>)/<span class="number">2048</span>;</span><br><span class="line">Xw=(<span class="number">1</span>-<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">4</span>*w))./(<span class="number">1</span>-<span class="built_in">exp</span>(-<span class="built_in">j</span>*w));</span><br><span class="line"><span class="comment">%对x(n)的频谱函数采样2048个点可以近似地看做成连续的频谱</span></span><br><span class="line">xn=[(n&gt;=<span class="number">0</span>)&amp;(n&lt;<span class="number">4</span>)];</span><br><span class="line">X1k=fft(xn,N1);</span><br><span class="line">X2k=fft(xn,N2);</span><br><span class="line">subplot <span class="number">321</span>;<span class="built_in">plot</span>(w/<span class="built_in">pi</span>,<span class="built_in">abs</span>(Xw));xlabel(<span class="string">&#x27;w/\pi&#x27;</span>);title(<span class="string">&#x27;x(n)的幅频曲线&#x27;</span>)</span><br><span class="line">subplot <span class="number">322</span>;<span class="built_in">plot</span>(w/<span class="built_in">pi</span>,<span class="built_in">angle</span>(Xw));axis([<span class="number">0</span>,<span class="number">2</span>,-<span class="built_in">pi</span>,<span class="built_in">pi</span>]);line([<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">0</span>]);xlabel(<span class="string">&#x27;w/\pi&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;x(n)的相频曲线&#x27;</span>)</span><br><span class="line">subplot <span class="number">323</span>;stem(k1,<span class="built_in">abs</span>(X1k),<span class="string">&#x27;.&#x27;</span>);xlabel(<span class="string">&#x27;k(w=2\pik/N1)&#x27;</span>);ylabel(<span class="string">&#x27;|X1(k)|&#x27;</span>);<span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(N1/<span class="number">2</span>*w/<span class="built_in">pi</span>,<span class="built_in">abs</span>(Xw));title(<span class="string">&#x27;N_1点的DFT[x(n)]=X_1(k)&#x27;</span>)<span class="comment">%图形上叠加连续频谱的幅度曲线</span></span><br><span class="line">subplot <span class="number">324</span>;stem(k1,<span class="built_in">angle</span>(X1k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N1,-<span class="built_in">pi</span>,<span class="built_in">pi</span>]);line([<span class="number">0</span>,N1],[<span class="number">0</span>,<span class="number">0</span>]);xlabel(<span class="string">&#x27;k(w=2\pik/N1)&#x27;</span>);ylabel(<span class="string">&#x27;Arg[X1(k)]&#x27;</span>);<span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(N1/<span class="number">2</span>*w/<span class="built_in">pi</span>,<span class="built_in">angle</span>(Xw));title(<span class="string">&#x27;X_1(k)的相位&#x27;</span>)<span class="comment">%图像上叠加连续幅频的相位曲线</span></span><br><span class="line">subplot <span class="number">325</span>;stem(k2,<span class="built_in">abs</span>(X2k),<span class="string">&#x27;.&#x27;</span>);xlabel(<span class="string">&#x27;k(w=2\pik/N2)&#x27;</span>);ylabel(<span class="string">&#x27;|X2(k)|&#x27;</span>);<span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(N2/<span class="number">2</span>*w/<span class="built_in">pi</span>,<span class="built_in">abs</span>(Xw));title(<span class="string">&#x27;N_2点的DFT[x(n)]=X_2(k)&#x27;</span>)</span><br><span class="line">subplot <span class="number">326</span>;stem(k2,<span class="built_in">angle</span>(X2k),<span class="string">&#x27;.&#x27;</span>);axis([<span class="number">0</span>,N2,-<span class="built_in">pi</span>,<span class="built_in">pi</span>]);line([<span class="number">0</span>,N2],[<span class="number">0</span>,<span class="number">0</span>]);xlabel(<span class="string">&#x27;k(w=2\pik/N2)&#x27;</span>);ylabel(<span class="string">&#x27;Arg[X2(k)]&#x27;</span>);<span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(N2/<span class="number">2</span>*w/<span class="built_in">pi</span>,<span class="built_in">angle</span>(Xw));title(<span class="string">&#x27;X_2(k)的相位&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201104114526.png" alt=""></p><p>MATLAB验证频域采样和时域采样的对偶性</p><p>exa03013:(1)产生一个三角波序列x(n),长度为M=40；</p><p>(2)计算N=64时的X(k)=DFT[x(n)],并图示x(n)和X(k);</p><p>(3)对X(k)在[0,2pi]上进行32点抽样，得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><mi>X</mi><mo stretchy="false">(</mo><mn>2</mn><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">,</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">X_1(k)=X(2k),k=0,1,···,3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span></span></span></span>；</p><p>(4)求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_1(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>的32点IDFT，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>I</mi><mi>D</mi><mi>F</mi><mi>T</mi><mo stretchy="false">[</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x_1(n)=IDFT[X_1(k)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span>;</p><p>(5)绘制<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mn>32</mn></msub></mrow><annotation encoding="application/x-tex">x_1((n))_{32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的波形图，观察<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mn>32</mn></msub></mrow><annotation encoding="application/x-tex">x_1((n))_{32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和x(n)的关系，并加以说明。</p><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% exa03013</span></span><br><span class="line">clc;clear;</span><br><span class="line">M=<span class="number">40</span>;N=<span class="number">64</span>;k=<span class="number">32</span>;n=<span class="number">0</span>:M;</span><br><span class="line">xa=[<span class="number">0</span>:<span class="built_in">floor</span>(M/<span class="number">2</span>)];<span class="comment">%向下取整</span></span><br><span class="line">xb=<span class="built_in">ceil</span>(M/<span class="number">2</span>)<span class="number">-1</span>:<span class="number">-1</span>:<span class="number">0</span>;<span class="comment">%向上取整</span></span><br><span class="line">xn=[xa,xb];</span><br><span class="line">Xk=fft(xn,<span class="number">64</span>);<span class="comment">%计算X(k)=DFT[x(n)]</span></span><br><span class="line">X1k=Xk(<span class="number">1</span>:<span class="number">2</span>:N);<span class="comment">%隔点取样得到X1k</span></span><br><span class="line">x1n=ifft(X1k,<span class="number">32</span>);<span class="comment">%计算x1(n)=IDFT[X1(k)]</span></span><br><span class="line"><span class="comment">%周期延拓</span></span><br><span class="line">nc=<span class="number">0</span>:<span class="number">4</span>*N/<span class="number">2</span>;</span><br><span class="line">xc=x1n(<span class="built_in">mod</span>(nc,N/<span class="number">2</span>)+<span class="number">1</span>);<span class="comment">%将x1(n)以N/2为周期进行延拓，mod求余函数</span></span><br><span class="line">subplot <span class="number">321</span>;stem(n,xn,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;x(n)&#x27;</span>);title(<span class="string">&#x27;40点的三角波序列[x(n)]&#x27;</span>);</span><br><span class="line">subplot <span class="number">322</span>;k1=<span class="number">0</span>:N<span class="number">-1</span>;stem(k1,<span class="built_in">abs</span>(Xk),<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;|X(k)|&#x27;</span>);title(<span class="string">&#x27;64点的DFT[X(k)]&#x27;</span>);</span><br><span class="line">subplot <span class="number">323</span>;k2=<span class="number">0</span>:N/<span class="number">2</span><span class="number">-1</span>;stem(k2,<span class="built_in">abs</span>(X1k),<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;|X1(k)|&#x27;</span>);title(<span class="string">&#x27;隔点抽样X(k)得到X1(k)&#x27;</span>);</span><br><span class="line">subplot <span class="number">324</span>;stem(k2,x1n,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;x_1(n)&#x27;</span>);title(<span class="string">&#x27;X_1(k)的IDFT[X1(k)]=x1(n)&#x27;</span>)</span><br><span class="line">subplot <span class="number">325</span>;stem(nc,xc,<span class="string">&#x27;.&#x27;</span>);ylabel(<span class="string">&#x27;x_1((n))_&#123;32&#125;&#x27;</span>);title(<span class="string">&#x27;x_1(n)的周期延拓序列&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/stardust14/picture/img/20201112202242.png" alt="image-20201112202202957"></p><p>==135page==</p>]]></content>
    
    
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; class=&quot;aplayer-secondary-script-marker&quot;&gt;&lt;/script&gt;&lt;h1&gt;引言&lt;/h1&gt;
&lt;p&gt;参考胡广书老师所著的《数字信号处理-理论算法与实现》&lt;/p&gt;
&lt;p&gt;下面给出Matlab中下标及希腊字母的使用方法，还有更多的使用方法可以参考matlab帮助 文档中的Text Properties: 下标用 _(下划线) 上标用^ （尖号） 希腊字母等特殊字符用 \加拼音如α \alphaβ \betaγ \gammaθ \thetaΘ \ThetaГ \Gammaδ \deltaΔ \Deltaξ \xiΞ \Xiη \eltaε \epsilongζ \zetaμ \miuυ \nuτ \tauλ \lamdaΛ \Lamdaπ \piΠ \Piσ \sigmaΣ \Sigmaφ \phiΦ \Phiψ \psiΨ \Psiχ \chiω \ommigaΩ \Ommiga&amp;lt; \leq&amp;gt; \geq不等于 \neq&amp;gt; \gg正负\pm左箭头 \leftarrow 右箭头 \rightarrow 上箭头 \uparrow 上圆圈（度数） \circ 例text(2,3,’\alpha_2^\beta’) 很多时候都要在matlab画图的时候添加一些公式符号之类的，有一些特殊的字符并不能直接从键盘上输入，比如希腊字母等等。&lt;/p&gt;
&lt;h1&gt;胡广书老师课本例题&lt;/h1&gt;
&lt;h2 id=&quot;第一章&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#第一章&quot;&gt;¶&lt;/a&gt;第一章&lt;/h2&gt;
&lt;p&gt;待续。。。&lt;/p&gt;
&lt;h2 id=&quot;第二章&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#第二章&quot;&gt;¶&lt;/a&gt;第二章&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/stardust14/picture/img/20200922212358.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;ex0201:求该系统函数的阶跃响应（所谓阶跃响应是系统输入的输出）。实现该任务的程序如下：&lt;/p&gt;</summary>
    
    
    
    <category term="matlab" scheme="http://stardust14.com/categories/matlab/"/>
    
    
    <category term="matlab" scheme="http://stardust14.com/tags/matlab/"/>
    
  </entry>
  
</feed>
